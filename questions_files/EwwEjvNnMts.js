/*!CK:3662843895!*//*1448917390,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["rmEOR"]); }

__d("MessageThreadViewSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSPECIFIED:"unspecified",LEGACY:"legacy",LEGACY_MESSAGES_PREVIEW:"legacy_messages_preview",REFRESH_SPRINGBOARD:"springboard",REFRESH_MESSAGETAB:"message_tab",NEW_MESSAGETAB:"new_message_tab",REFRESH_PERMALINK:"permalink",REFRESH_HIGHLANDER_JEWEL:"highlander_jewel",REFRESH_SEARCH_TYPEAHEAD:"search_typeahead",MTOUCH_MESSAGE_TAB:"mtouch_message_tab",MBASIC_MESSAGE_TAB:"mbasic_message_tab"};},null);
__d("MNCommerceBlockTypeJSInstance",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALL:"all",PROMOTION:"promotion",NONE:"none"};},null);
__d("MNCommerceErrors",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALREADY_UNLINKED:1893001};},null);
__d("MNCommerceReplyTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3};},null);
__d("PagesManagerMessagingTabPerfEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MESSAGE_TAB_WILL_RENDER:"message_tab_will_render",MESSAGE_TAB_APP_DID_RENDER:"message_tab_app_did_render",MESSAGE_TAB_THREAD_LIST_DID_RENDER:"message_tab_thread_list_did_render",MESSAGE_TAB_DETAIL_VIEW_DID_RENDER:"message_tab_detail_view_did_render",OLD_MESSAGE_TAB_WILL_RENDER:"old_message_tab_will_render",OLD_MESSAGE_TAB_DID_RENDER:"old_message_tab_did_render"};},null);
__d("PagesMessagingActionPlacement",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SPRINGBOARD_INLINE_ACTION:"springboard_inline_action",THREAD_LIST_BATCH_ACTION:"thread_list_batch_action",THREAD_ROW_ACTION_ICON:"thread_row_action_icon",MESSAGE_DIALOG_ACTION_LIST:"message_dialog_action_list",MESSAGE_DIALOG_OPENING:"message_dialog_opening",MESSAGE_DIALOG_SHOWN:"message_dialog_shown",THREAD_TITLE_BAR:"thread_title_bar",HOME_PAGE_PAGELET_INLINE_ACTION:"home_page_pagelet_inline_action",UNKNOWN:"unknown"};},null);
__d('PagesMessengerConfirmCloseThreadDialog.react',['React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p,q=h.PropTypes,r=300;o=babelHelpers.inherits(s,h.Component);p=o&&o.prototype;function s(t){'use strict';p.constructor.call(this,t);}s.prototype.render=function(){'use strict';return (h.createElement(i,{layerHideOnBlur:false,shown:this.props.shown,width:r},h.createElement(m,{showCloseButton:false},n._("Close Message Thread")),h.createElement(j,null,n._("You haven't sent your message yet. Do you want to leave without sending it?")),h.createElement(l,null,h.createElement(k,{action:'cancel',label:n._("Continue Writing"),onClick:this.props.onCancel,use:'default'}),h.createElement(k,{action:'confirm',label:n._("Leave This Thread"),onClick:this.props.onConfirm,use:'confirm'}))));};s.propTypes={onCancel:q.func.isRequired,onConfirm:q.func.isRequired,shown:q.bool.isRequired};f.exports=s;},null);
__d('PagesMessengerFileUploader.react',['ChatFileUploaderMixin','Image.react','InlineBlock.react','Link.react','MercuryConfig','MercuryFileUploader','React','ReactDOM','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=n.PropTypes,t=n.createClass({displayName:'PagesMessengerFileUploader',mixins:[h],propTypes:{actionURI:s.string,iconSize:s.oneOf(['small','large'])},shouldComponentUpdate:function(u,v){return u.actionURI!=this.props.actionURI;},componentDidMount:function(){this._fileUploader=new m(this.props.attachmentsShelf,o.findDOMNode(this.refs.form),o.findDOMNode(this.refs.input),o.findDOMNode(this.refs.attachID));this.setUpSubscriptionsHandler(this._fileUploader);},addFiles:function(u){this._fileUploader.addDroppedFiles(u);},getDefaultProps:function(){return {actionURI:l.upload_url,iconSize:'small'};},render:function(){return (n.createElement('form',{action:this.props.actionURI,method:'post',ref:'form'},n.createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),n.createElement(j,{className:"_m _4q60 _3rzn"},n.createElement(k,{className:"_4q61"+(this.props.iconSize==='small'?' '+"_509v":'')+(this.props.iconSize==='large'?' '+"_5njm":'')+(' '+"bizOK")},this._renderIcon()),n.createElement('input',{type:'file',className:"_n",name:'attachment[]',multiple:'true',ref:'input'}))));},_renderIcon:function(){if(this.props.iconSize==='small'){return (n.createElement(i,{alt:q._("File"),src:r('/images/composer/attachments/paperclip_icon.png')}));}else if(this.props.iconSize==='large')return (n.createElement(i,{alt:q._("File"),src:r('/images/pages/pages_manager/messages/composer-attach.png')}));}});f.exports=t;},null);
__d('MercuryPageMessageActions',['MercuryActionType','MercuryMessageActions','MercuryPayloadSource','MercurySingletonMixin'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,i);m=l&&l.prototype;function n(o){m.constructor.call(this,o);}n.prototype.createNote=function(o,p,q){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({action_type:h.CREATE_PAGE_ADMIN_NOTE,message_id:q,note:o,thread_id:p},j.CLIENT_CREATE_PAGE_ADMIN_NOTE));this.__serverRequests.createNote(o.body,q,p);};Object.assign(n,k,{_instances:{}});f.exports=n;},null);
__d('PagesMessengerSimpleMultilineComposer.react',['MercuryMessageObject','MercurySourceType','MercuryPageMessageActions','PagesEventObserver','PagesEventType','PagesMessengerTextInput.react','React','ReactDOM','XUIButton.react','cx','fbt','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u,v=n.PropTypes;t=babelHelpers.inherits(w,n.Component);u=t&&t.prototype;function w(x){'use strict';u.constructor.call(this,x);this.state={value:''};this.$PagesMessengerSimpleMultilineComposer1=j.getForFBID(this.props.sourceID);this.$PagesMessengerSimpleMultilineComposer2=h.getForFBID(this.props.sourceID);}w.prototype.hasInput=function(){'use strict';return !!this.state.value;};w.prototype.clearInput=function(){'use strict';this.setState({value:''});};w.prototype.focusInput=function(){'use strict';o.findDOMNode(this.refs.textInput).focus();};w.prototype.getConfirmButtonLabel=function(){'use strict';return r._("Send");};w.prototype.getTextInputPlaceholder=function(){'use strict';return r._("Write a message");};w.prototype.onTextInputChanged=function(event){'use strict';this.setState({value:event.target.value});};w.prototype.processSend=function(event){'use strict';var x=this.refs.textInput.getValue();if(!x)return;var y=this.$PagesMessengerSimpleMultilineComposer2.constructUserGeneratedMessageObject(x,i.TITAN_WEB,this.props.threadID,null,null);k.logData_DEPRECATED({page_id:this.props.sourceID,event_name:l.MESSAGES_DIALOG_SEND,thread_id:this.props.destinationID},null);event.preventDefault();if(this.props.allowSend()){this.$PagesMessengerSimpleMultilineComposer1.send(y);this.setState({value:''});this.props.afterSend();}};w.prototype.render=function(){'use strict';return (n.createElement('div',{className:"_1yn"},n.createElement('div',null,n.createElement(m,{className:"_1yq"+(' '+"_32wh")+(s(this.state.value)?' '+"_1yx":''),placeholder:this.getTextInputPlaceholder(),onChange:this.onTextInputChanged.bind(this),onKeyUp:this.props.onKeyUp,value:this.state.value,ref:'textInput'})),n.createElement('hr',{className:"_1yy"}),n.createElement('div',{className:"_1yz"},n.createElement('div',{className:"_1y-"},n.createElement(p,{use:'confirm',onClick:this.processSend.bind(this),label:this.getConfirmButtonLabel()})))));};w.propTypes={afterSend:v.func.isRequired,allowSend:v.func.isRequired,destinationID:v.string.isRequired,onKeyUp:v.func.isRequired,sourceID:v.string.isRequired,threadID:v.string.isRequired};f.exports=w;},null);
__d("XPagesMessagingFindPageController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/messaging\/search\/page_name_typeahead\/",{page_id:{type:"String",required:true},value:{type:"String"}});},null);
__d('PagesMessengerNewThreadDialog.react',['Event','Keys','MercuryIDs','MercuryParticipants','PagesEventObserver','PagesEventType','PagesMessengerConfirmCloseThreadDialog.react','PagesMessengerSimpleMultilineComposer.react','React','SearchableEntry','WebAsyncSearchSource','XPagesMessagingFindPageController','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','XUITokenizerRichToken.react','XUITypeahead.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa,ba,ca=p.PropTypes,da=445,ea=326;aa=babelHelpers.inherits(fa,p.Component);ba=aa&&aa.prototype;function fa(ga){'use strict';ba.constructor.call(this,ga);this.state={typeaheadErrorMessage:null,initDialog:false,pageName:'...',query:'',selectedItem:null,showCloseConfirmationDialog:false};this.$PagesMessengerNewThreadDialog1=false;this.$PagesMessengerNewThreadDialog2=false;var ha=s.getURIBuilder().setString('page_id',this.props.pageID).getURI(),ia={uri:ha};this.$PagesMessengerNewThreadDialog3=new r({bootstrapRequests:[ia],queryRequests:[ia],getAllForEmptyQuery:true});}fa.prototype.$PagesMessengerNewThreadDialog4=function(ga){'use strict';l.notify(m.MESSAGES_CLOSE_PAGE_MESSAGE_DIALOG,this.props.pageID,{flowID:this.props.flowID,close_state:ga});};fa.prototype.$PagesMessengerNewThreadDialog5=function(){'use strict';if(this.refs.newThreadComposer.hasInput()){this.setState({showCloseConfirmationDialog:true});this.$PagesMessengerNewThreadDialog4('has_message');}else{this.$PagesMessengerNewThreadDialog6();this.props.onHide();this.$PagesMessengerNewThreadDialog4('no_message');}};fa.prototype.$PagesMessengerNewThreadDialog6=function(){'use strict';this.refs.newThreadComposer.clearInput();this.setState({query:'',selectedItem:null,showCloseConfirmationDialog:false});};fa.prototype.$PagesMessengerNewThreadDialog7=function(){'use strict';this.$PagesMessengerNewThreadDialog6();this.props.onHide();this.$PagesMessengerNewThreadDialog4('confirm_close');};fa.prototype.$PagesMessengerNewThreadDialog8=function(){'use strict';this.setState({showCloseConfirmationDialog:false});};fa.prototype.$PagesMessengerNewThreadDialog9=function(ga,event){'use strict';if(h.getKeyCode(event)===i.ESC)setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};fa.prototype.$PagesMessengerNewThreadDialog10=function(event){'use strict';if(h.getKeyCode(event)===i.ESC)setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};fa.prototype.$PagesMessengerNewThreadDialog11=function(ga){'use strict';if(!ga&&this.props.shown)this.$PagesMessengerNewThreadDialog5();};fa.prototype.subscribeEvents=function(){'use strict';if(this.refs.newPageMessageDialog&&!this.$PagesMessengerNewThreadDialog2){this.refs.newPageMessageDialog.layerSubscribe('key',this.$PagesMessengerNewThreadDialog9.bind(this));this.$PagesMessengerNewThreadDialog2=true;}};fa.prototype.loadPageName=function(){'use strict';if(!this.$PagesMessengerNewThreadDialog1){this.$PagesMessengerNewThreadDialog1=true;k.get(j.getParticipantIDFromUserID(this.props.pageID),(function(ga){this.setState({pageName:ga.name});}).bind(this));}};fa.prototype.componentDidUpdate=function(ga,ha){'use strict';if(!this.props.shown)return;this.subscribeEvents();this.loadPageName();if(!this.refs.pageTypeahead)return;var ia=this.refs.pageTypeahead.getTextFieldDOM();ia.style.border='0px';ia.style.fontSize='14px';ia.style.lineHeight='14px';if(this.props.shown&&!ga.shown)this.refs.pageTypeahead.focusInput();};fa.prototype.renderFrom=function(){'use strict';return (p.createElement('div',{className:"_1vwk"},z._("From: {pageName}",[z.param('pageName',this.state.pageName)])));};fa.prototype.renderSelectedResult=function(){'use strict';if(!this.state.selectedItem)return null;return (p.createElement('span',{className:"_31d6"},p.createElement(w,{entry:this.state.selectedItem,highlighted:false,label:this.state.selectedItem.getTitle(),onRemove:this.$PagesMessengerNewThreadDialog12.bind(this)})));};fa.prototype.renderTypeahead=function(){'use strict';if(this.state.selectedItem)return null;return (p.createElement(x,{className:(!this.state.selectedItem?"_1vwn":'')+(this.state.selectedItem?' '+"_29ez":'')+(' '+"_2pir"),clearable:!!this.state.selectedItem,highlightOnSelect:true,onChange:this.$PagesMessengerNewThreadDialog13.bind(this),onClear:this.$PagesMessengerNewThreadDialog12.bind(this),onSelectAttempt:this.$PagesMessengerNewThreadDialog14.bind(this),queryString:this.state.query,ref:'pageTypeahead',searchSource:this.$PagesMessengerNewThreadDialog3,selectedEntry:this.state.selectedItem,showPhoto:!!this.state.selectedItem,tallInput:false,viewStyle:'rich',xuiError:this.state.typeaheadErrorMessage}));};fa.prototype.renderTo=function(){'use strict';return (p.createElement('div',{className:"_1vwl"},p.createElement('span',{className:"_1vwm"},z._("To:")),this.renderSelectedResult(),this.renderTypeahead(),p.createElement('span',{className:"_2f3y"},z._("Pages Only"))));};fa.prototype.$PagesMessengerNewThreadDialog14=function(ga){'use strict';this.refs.newThreadComposer.focusInput();this.setState({typeaheadErrorMessage:null,query:ga.getTitle(),selectedItem:ga});l.notify(m.MESSAGES_PAGE_MESSAGE_DIALOG_CHOOSE_RECIPIENT,this.props.pageID,{flowID:this.props.flowID,recipient:ga.getUniqueID()});};fa.prototype.$PagesMessengerNewThreadDialog13=function(event){'use strict';this.setState({typeaheadErrorMessage:null,query:event.target.value,selectedItem:null});};fa.prototype.$PagesMessengerNewThreadDialog12=function(){'use strict';this.setState({typeaheadErrorMessage:null,query:'',selectedItem:null});setTimeout((function(){this.refs.pageTypeahead.focusInput();}).bind(this),0);};fa.prototype.$PagesMessengerNewThreadDialog15=function(){'use strict';setTimeout(this.$PagesMessengerNewThreadDialog5.bind(this),0);};fa.prototype.$PagesMessengerNewThreadDialog16=function(){'use strict';if(!this.state.selectedItem||this.state.selectedItem.getUniqueID().length==0){var ga=z._("Please choose a page to receive your message");this.refs.pageTypeahead.focusInput();this.setState({typeaheadErrorMessage:ga});return false;}l.notify(m.MESSAGES_PAGE_MESSAGE_DIALOG_SEND,this.props.pageID,{flowID:this.props.flowID,recipient:this.state.selectedItem.getUniqueID()});return true;};fa.prototype.renderAttachmentShelf=function(){'use strict';return (p.createElement('div',{ref:'newThreadAttachmentsShelf',className:"_jz4"}));};fa.prototype.renderComposer=function(){'use strict';var ga=this.state.selectedItem?this.state.selectedItem.getUniqueID():'',ha='user:'+ga;return (p.createElement(o,{afterSend:this.$PagesMessengerNewThreadDialog15.bind(this),allowSend:this.$PagesMessengerNewThreadDialog16.bind(this),destinationID:ga,onKeyUp:this.$PagesMessengerNewThreadDialog10.bind(this),ref:'newThreadComposer',sourceID:this.props.pageID,threadID:ha}));};fa.prototype.componentWillReceiveProps=function(ga){'use strict';if(!this.state.initDialog&&ga.shown)this.setState({initDialog:true});};fa.prototype.renderCloseConfirmationDialog=function(){'use strict';if(!this.state.showCloseConfirmationDialog)return null;return (p.createElement(n,{shown:this.state.showCloseConfirmationDialog,onCancel:this.$PagesMessengerNewThreadDialog8.bind(this),onConfirm:this.$PagesMessengerNewThreadDialog7.bind(this)}));};fa.prototype.render=function(){'use strict';if(!this.state.initDialog)return null;return (p.createElement('div',null,p.createElement(t,{layerHideOnBlur:false,ref:'newPageMessageDialog',shown:this.props.shown,onToggle:this.$PagesMessengerNewThreadDialog11.bind(this),width:da,height:ea},p.createElement(v,{className:"_2ga7"},z._("New Message To Page")),p.createElement(u,{className:"_1vwv"},this.renderFrom(),this.renderTo(),this.renderAttachmentShelf(),this.renderComposer())),this.renderCloseConfirmationDialog()));};fa.propTypes={flowID:ca.string,onHide:ca.func.isRequired,shown:ca.bool.isRequired,pageID:ca.string.isRequired};f.exports=fa;},null);
__d('PagesMessengerMessagePageButton.react',['ix','PagesEventObserver','PagesEventType','PagesMessengerNewThreadDialog.react','React','Image.react','XUIButton.react','cx','fbglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r,s=l.PropTypes;q=babelHelpers.inherits(t,l.Component);r=q&&q.prototype;t.getButtonSize=function(u){'use strict';return u.size||'medium';};function t(u){'use strict';r.constructor.call(this,u);this.state={showDialog:false};}t.prototype.$PagesMessengerMessagePageButton1=function(){'use strict';this.setState({showDialog:false});};t.prototype.$PagesMessengerMessagePageButton2=function(){'use strict';if(this.state.showDialog)return;this.setState({showDialog:true});i.notify(j.MESSAGES_OPEN_PAGE_MESSAGE_DIALOG,this.props.pageID,{flowID:this.props.flowID});};t.prototype.render=function(){'use strict';return (l.createElement('span',{className:!this.props.pagesCommNewMessagesTab?"_3-9a":''},l.createElement(n,{className:this.props.pagesCommNewMessagesTab?"_3kr2":'',image:l.createElement(m,{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/plus_16_bluegray-40.png")}),label:'Message Page',onClick:this.$PagesMessengerMessagePageButton2.bind(this),size:this.props.size}),l.createElement(k,{flowID:this.props.flowID,shown:this.state.showDialog,onHide:this.$PagesMessengerMessagePageButton1.bind(this),pageID:this.props.pageID})));};t.propTypes={flowID:s.string,pageID:s.string.isRequired,pagesCommNewMessagesTab:s.bool};f.exports=t;},null);
__d('ChatShareLinkUploader',['AsyncRequest','CSS','DOM','URLScraper','MercuryShareLinkUploader','MercuryAttachmentTemplates','Event'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;o=babelHelpers.inherits(q,l);p=o&&o.prototype;q.prototype.__initialize=function(r,s,t,u,v){'use strict';this.$ChatShareLinkUploader1=r;this.$ChatShareLinkUploader2=s;this.$ChatShareLinkUploader3=t;this.$ChatShareLinkUploader4=false;this.$ChatShareLinkUploader5=null;this.$ChatShareLinkUploader6=u;this.$ChatShareLinkUploader7=v;this.$ChatShareLinkUploader8=false;n.listen(s,'keyup',(function(){!this.getInputValue().length&&this.$ChatShareLinkUploader9.enable();}).bind(this));this.$ChatShareLinkUploader9=new k(s,u);this.$ChatShareLinkUploader9.subscribe('match',(function(w,x){this.loadShare(x&&x.url);}).bind(this));this.$ChatShareLinkUploader10=1337;this.$ChatShareLinkUploader11=null;};q.prototype.getInputValue=function(){'use strict';return this.$ChatShareLinkUploader6?this.$ChatShareLinkUploader6():this.$ChatShareLinkUploader2.value;};q.prototype.getAttachData=function(){'use strict';return this.loadAttachData(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader2,this.$ChatShareLinkUploader6);};q.prototype.getShareData=function(){'use strict';if(!this.$ChatShareLinkUploader4)return null;return this.getShareDataFromStage(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1);};q.prototype.close=function(){'use strict';this.$ChatShareLinkUploader12();this.$ChatShareLinkUploader9.disable();this.inform('closed');};q.prototype.clear=function(){'use strict';this.$ChatShareLinkUploader12();this.$ChatShareLinkUploader9.enable();};q.prototype.$ChatShareLinkUploader12=function(){'use strict';var r=this.$ChatShareLinkUploader11;delete this.$ChatShareLinkUploader11;if(r){j.remove(r);this.inform('dom-updated');}this.$ChatShareLinkUploader13();this.$ChatShareLinkUploader4=false;this.$ChatShareLinkUploader8=false;this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();this.$ChatShareLinkUploader5=null;this.$ChatShareLinkUploader9&&this.$ChatShareLinkUploader9.reset();};q.prototype.loadShareFromParams=function(r,s){'use strict';this.$ChatShareLinkUploader8=true;this.$ChatShareLinkUploader14(new h().setMethod('POST').setURI('/ajax/share_params.php').setData({chat:true,share_type:r,share_params:s}));};q.prototype.loadShare=function(r,s){'use strict';this.$ChatShareLinkUploader14(new h().setMethod('POST').setURI('/ajax/share_scrape.php').setData({chat:true,extra_params:JSON.stringify(s),u:r}),r);};q.prototype.loadedFromFeed=function(){'use strict';return this.$ChatShareLinkUploader8;};q.prototype.$ChatShareLinkUploader13=function(){'use strict';return ++this.$ChatShareLinkUploader10;};q.prototype.$ChatShareLinkUploader15=function(){'use strict';return this.$ChatShareLinkUploader10;};q.prototype.$ChatShareLinkUploader14=function(r,s){'use strict';this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();var t=m[':fb:mercury:share-link-row'].build();if(this.$ChatShareLinkUploader11)j.remove(this.$ChatShareLinkUploader11);this.$ChatShareLinkUploader11=t.getRoot();n.listen(t.getNode('closeFileUpload'),'click',(function(event){this.close();event.kill();}).bind(this));j.appendContent(this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader11);i.show(this.$ChatShareLinkUploader1);this.inform('dom-updated');var u=this.$ChatShareLinkUploader13();this.$ChatShareLinkUploader5=r.setHandler((function(v){return this.$ChatShareLinkUploader16(u,v,s);}).bind(this));this.$ChatShareLinkUploader5.send();this.inform('link-detected');};q.prototype.$ChatShareLinkUploader16=function(r,s,t){'use strict';if(this.$ChatShareLinkUploader15()!==r)return;this.$ChatShareLinkUploader5=null;j.appendContent(this.$ChatShareLinkUploader11,s.payload);this.$ChatShareLinkUploader3();this.$ChatShareLinkUploader4=true;this.inform('share-loaded');if(!this.getAttachData()){this.close();if(t&&this.getInputValue().indexOf(t)===-1)this.$ChatShareLinkUploader7(t);return;}i.addClass(this.$ChatShareLinkUploader11,'done');};function q(){'use strict';o.apply(this,arguments);}f.exports=q;},null);
__d('PagesMessengerShareLinkUploader',['ChatShareLinkUploader','emptyFunction','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(n,o,p,q){'use strict';l.constructor.call(this,n,o,i);this.$PagesMessengerShareLinkUploader1=new j();this.$PagesMessengerShareLinkUploader1.addSubscriptions(this.subscribe(['all-uploads-completed','upload-canceled'],p),this.subscribe('submit',q));}m.prototype.destroy=function(){'use strict';this.$PagesMessengerShareLinkUploader1&&this.$PagesMessengerShareLinkUploader1.release();};f.exports=m;},null);
__d('PageCustomTagSearchableEntry',['SearchableEntry'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.$PageCustomTagSearchableEntry1=l.color;}k.prototype.getColor=function(){'use strict';return this.$PageCustomTagSearchableEntry1||'';};f.exports=k;},null);
__d('PageCustomTagSearchSource',['AbstractSearchSource','PageCustomTagSearchableEntry'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k,l=3,m=null;j=babelHelpers.inherits(n,h);k=j&&j.prototype;n.getInstance=function(o,p){'use strict';if(!m)m=new n(o,p);m.setAvailableTags(o);m.setShowQueryAsEntry(p);return m;};function n(o,p){'use strict';k.constructor.call(this);if(!(m)){this.setAvailableTags(o);this.setShowQueryAsEntry(p);m=this;}}n.prototype.setAvailableTags=function(o){'use strict';this.$PageCustomTagSearchSource1=o;};n.prototype.setShowQueryAsEntry=function(o){'use strict';this.$PageCustomTagSearchSource2=o;};n.prototype.searchImpl=function(o,p,q){'use strict';var r=[],s=false;if(o){var t=o.toLowerCase();this.$PageCustomTagSearchSource1.forEach(function(w){if(w.name.toLowerCase().indexOf(t)!==-1)r.push(w);if(o===w.name)s=true;});}else r=this.$PageCustomTagSearchSource1.slice(0,l);var u=[],v=0;if(o&&!s&&this.$PageCustomTagSearchSource2)u.push(new i({order:v++,title:o,color:null,uniqueID:o}));r.forEach(function(w){u.push(new i({order:v++,title:w.name,color:'#'+w.color.substring(2),uniqueID:w.id}));});p(u,o);};f.exports=n;},null);
__d('PageCustomTagTypeaheadPresenter.react',['PageCustomTagSearchableEntry','React','XUITypeaheadViewItem.react','TypeaheadViewPropTypes','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n,o,p,q,r;m=babelHelpers.inherits(s,i.Component);n=m&&m.prototype;s.prototype.render=function(){'use strict';var w=this.props.entry,x="_599m"+(this.props.highlighted?' '+"_599n":'');return (i.createElement('li',{'aria-selected':this.props.highlighted,className:x,key:w.getUniqueID(),onMouseDown:(function(y){return this.props.onSelect(w,y);}).bind(this),onMouseEnter:(function(){return this.props.onHighlight(w);}).bind(this)},i.createElement('div',{className:"_599p",style:{color:w.getColor()}},w.getTitle())));};function s(){'use strict';m.apply(this,arguments);}o=babelHelpers.inherits(t,i.Component);p=o&&o.prototype;t.prototype.$PageCustomTagsRenderer1=function(w){'use strict';return (i.createElement(s,{entry:w,key:w.getUniqueID(),highlighted:w===this.props.highlightedEntry,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onSelect:this.props.onSelect}));};t.prototype.render=function(){'use strict';var w="_599r"+(!this.props.entries.length?' '+"_599s":'');return (i.createElement('ul',{className:w},this.props.entries.map((function(x){return this.$PageCustomTagsRenderer1(x);}).bind(this))));};function t(){'use strict';o.apply(this,arguments);}q=babelHelpers.inherits(u,i.Component);r=q&&q.prototype;u.prototype.render=function(){'use strict';var w=this.props.entry;return (i.createElement('span',{className:"_4n1-",style:{color:w.getColor()}},w.getTitle()));};function u(){'use strict';q.apply(this,arguments);}var v={useLayer:true,ViewRenderer:t,TokenRenderer:u};f.exports=v;},null);
__d('PagesManagerPerfTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:PagesManagerPerfLoggerConfig',this.$PagesManagerPerfTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:PagesManagerPerfLoggerConfig',this.$PagesManagerPerfTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$PagesManagerPerfTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$PagesManagerPerfTypedLogger1=babelHelpers._extends({},this.$PagesManagerPerfTypedLogger1,m);return this;};k.prototype.setEventName=function(m){this.$PagesManagerPerfTypedLogger1.event_name=m;return this;};k.prototype.setEventSeriesID=function(m){this.$PagesManagerPerfTypedLogger1.event_series_id=m;return this;};k.prototype.setPageID=function(m){this.$PagesManagerPerfTypedLogger1.page_id=m;return this;};k.prototype.setPerfTime=function(m){this.$PagesManagerPerfTypedLogger1.perf_time=m;return this;};k.prototype.setVC=function(m){this.$PagesManagerPerfTypedLogger1.vc=m;return this;};var l={event_name:true,event_series_id:true,page_id:true,perf_time:true,vc:true};f.exports=k;},null);
__d('MercuryPageThreadActions',['MercuryActionType','MercuryPayloadSource','MercurySingletonMixin','MercuryThreadActions'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,k);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this,o);}n.prototype.addFlag=function(o,p){'use strict';this.batchFlag([o],p);};n.prototype.batchAddFlag=function(o,p){'use strict';o.forEach((function(q){this.__serverRequests.addThreadFlag(q,p);}).bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(o,true,p));};n.prototype.removeFlag=function(o,p){'use strict';this.batchRemoveFlag([o],p);};n.prototype.batchRemoveFlag=function(o,p){'use strict';o.forEach((function(q){this.__serverRequests.removeThreadFlag(q,p);}).bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(o,false,p));};n.prototype.$MercuryPageThreadActions1=function(o,p,q){'use strict';return this.__constructClientPayload(o,h.CHANGE_FLAG,i.CLIENT_CHANGE_FLAG,{mark_as_flag:p,source:q});};Object.assign(n,j,{_instances:{}});f.exports=n;},null);
__d('MessengerCodePasteUtils',['BanzaiODS','MessengerBubble.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=/`{3,}/;function m(o){return !!(o&&o.search(l)!==-1&&o.split('\n').length>1);}function n(o,p,q){var r=o.split(l),s=[];for(var t=0;t<r.length;t+=2){var u=r[t].trim();if(u&&u.length>0)s.push(j.createElement(i,{key:t,body:u,className:"clearfix _3058 _ui9",ranges:p,threadID:q}));if(t+1<r.length&&r[t+1]){var v=r[t+1].split('\n'),w=v[0].replace(/[^a-zA-Z]+/g,''),x=v.slice(1).join('\n');h.bumpEntityKey('messenger_code_paste','render_bubble');s.push(j.createElement('div',{key:t+1,className:"_3058 _15gf _wu0 _52mr"},j.createElement('div',{ref:'syntaxTarget'+t,className:'language-'+w},x)));}}return s;}f.exports={containsCodeBlock:m,getCodeAndMessageBubbles:n};},null);
__d('MNCommercePromotionStateActions',['MessengerDispatcher','MNCommerceActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={stateLoaded:function(k){h.dispatch({type:i.PROMOTION_STATE.LOADED,state:k});},stateLoadError:function(k){h.dispatch({type:i.PROMOTION_STATE.LOAD_ERROR,pageID:k});},stateReload:function(k){h.dispatch({type:i.PROMOTION_STATE.RELOAD,pageID:k});}};f.exports=j;},null);
__d('MessengerCodeBubble.react',['Bootloader','immutable','MessengerCodePasteUtils','ReactComponentWithPureRenderMixin','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'MessengerCodeBubble',mixins:[k],propTypes:{attachments:n.instanceOf(i.List),body:n.string.isRequired,ranges:n.array.isRequired,threadID:n.string.isRequired},componentDidMount:function(){h.loadModules(["Prism.Complete"],(function(p){for(var q in this.refs){var r=m.findDOMNode(this.refs[q]);p.highlightElement(r);}}).bind(this));},render:function(){var p=j.getCodeAndMessageBubbles(this.props.body,this.props.ranges,this.props.threadID);return l.createElement('div',null,p);}});f.exports=o;},null);
__d('MessengerDialogCancelButton.react',['MessengerDialogButton.react','ReactComponentWithPureRenderMixin','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'MessengerDialogCancelButton',mixins:[i],render:function(){return (j.createElement(h,babelHelpers._extends({action:'cancel',label:k._("Cancel"),type:'secondary'},this.props)));}});f.exports=l;},null);
__d('MNCommerceDetailsDialog.react',['React','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogTitle.react','XUISpinner.react','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=h.PropTypes,q=h.createClass({displayName:'MNCommerceDetailsDialog',propTypes:{error:p.object,errorMessage:p.string,loading:p.bool.isRequired,onToggle:p.func,onTryAgain:p.func,title:p.string,shown:p.bool.isRequired},getDefaultProps:function(){return {shown:false};},render:function(){var r=null;if(this.props.loading){r=this._renderLoading();}else if(this.props.error){r=this._renderError();}else r=this.props.children;return (h.createElement(i,{className:this.props.className,modal:true,onToggle:this.props.onToggle,shown:this.props.shown},this._renderTitle(),h.createElement(j,{useCustomPadding:true},r)));},_renderTitle:function(){return this.props.title?h.createElement(k,null,this.props.title):null;},_renderError:function(){return (h.createElement('div',{className:"_4y9b"},h.createElement('p',{className:"_4y9c"},o._("Sorry, Something Went Wrong")),h.createElement('p',{className:"_4y9d"},this.props.errorMessage),h.createElement(m,{onClick:this.props.onTryAgain,label:o._("Try Again")})));},_renderLoading:function(){return (h.createElement('div',{className:"_4y9e"},h.createElement(l,{background:'light',size:'large',paused:false})));}});f.exports=q;},null);
__d('MNCommercePromotionManageBlockDialog.react',['CurrentEnvironment','Link.react','MessengerRadioList.react','MNCommerceButton.react','MNCommerceDetailsDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','MNCommerceBlockTypeJSInstance','React','XUIRadioList.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=j.Item,u=r.Item,v=q.PropTypes,w=q.createClass({displayName:'MNCommercePromotionManageBlockDialog',propTypes:{isAllBlocked:v.bool,isPromotionBlocked:v.bool,error:v.object,loading:v.bool.isRequired,merchantName:v.string,onCancelButtonClick:v.func,onConfirmButtonClick:v.func.isRequired,pageID:v.string},getInitialState:function(){return this._calculateState();},componentWillReceiveProps:function(x){this.setState(this._calculateState(x));},_calculateState:function(x){var y=x||this.props,z=p.ALL;if(y.isAllBlocked){z=p.NONE;}else if(y.isPromotionBlocked)z=p.PROMOTION;return {type:z};},onTypeChange:function(x){this.setState({type:x});},render:function(){var x=this.props.merchantName||'',y=s._("Manage messages from {label for merchant name}",[s.param('label for merchant name',x)]),z=s._("Cancel"),aa=s._("Confirm"),ba=s._("Manage Options couldn't be shown."),ca=q.createElement(i,{href:'https://www.facebook.com/help/389645087895231',target:'_blank'},s._("Learn More"));return (q.createElement(l,babelHelpers._extends({errorMessage:ba,onToggle:this.props.onToggle,shown:this.props.shown},this.props),q.createElement(o,{showCloseButton:true},y),q.createElement(m,null,this._renderBody()),q.createElement(n,{leftContent:ca},q.createElement(k,{label:z,onClick:this.props.onCancelButtonClick,use:'default'}),q.createElement(k,{label:aa,onClick:this._onConfirm,use:'confirm'}))));},_renderBody:function(){var x=h.messengerdotcom,y=x?j:r,z=x?t:u;return (q.createElement(y,{selectedValue:this.state.type,onValueChange:this.onTypeChange},q.createElement(z,{value:p.ALL},s._("All messages")),q.createElement(z,{value:p.PROMOTION},s._("Only updates")),q.createElement(z,{value:p.NONE},s._("No Messages"))));},_onConfirm:function(x){var y=this.props;y.onToggle(false);if(!y.onConfirmButtonClick)return;var z=y.pageID;y.onConfirmButtonClick(z,this.state.type);}});f.exports=w;},null);
__d('MNCommerceCacheTimeoutLimits',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SUCCESS_TIMEOUT:10,ERROR_TIMEOUT:1};f.exports=h;},null);
__d("XMNCommercePromotionStateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/promotion\/state\/",{page_id:{type:"String",required:true}});},null);
__d('MNCommercePromotionStateDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionStateController'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();k.prototype.fetchPromotionState=function(l){var m=j.getURIBuilder().setString('page_id',l).getURI();new h().setURI(m).setHandler(this.$MNCommercePromotionStateDataManager1).setErrorHandler(this.$MNCommercePromotionStateDataManager2).send();};k.prototype.$MNCommercePromotionStateDataManager1=function(l){var m=l.getRequest().uri.getQueryData(),n=m.page_id;l.payload.pageID=n;i.stateLoaded(l.payload);};k.prototype.$MNCommercePromotionStateDataManager2=function(l){var m=l.getRequest().uri.getQueryData(),n=m.page_id;i.stateLoadError(n);};function k(){}f.exports=new k();},null);
__d('MNCommercePromotionStateStore',['Cache','FluxStore','LoadObject','MessengerDispatcher','MNCommerceActionTypes','MNCommerceCacheTimeoutLimits','MNCommercePromotionStateDataManager'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';o=babelHelpers.inherits(q,i);p=o&&o.prototype;function q(){p.constructor.call(this,k);this.$MNCommercePromotionStateStore1=new h();}q.prototype.__onDispatch=function(r){var s=r.type,t=r.pageID||r.state&&r.state.pageID;switch(s){case l.PROMOTION_STATE.LOADED:var u=r.state;this.$MNCommercePromotionStateStore1.set(t,j.empty().setValue(u),null,m.SUCCESS_TIMEOUT);this.__emitChange();break;case l.PROMOTION_STATE.LOAD_ERROR:this.$MNCommercePromotionStateStore1.set(t,j.empty().setError(new Error('Unable to load permissions for: '+t)),null,m.ERROR_TIMEOUT);this.__emitChange();break;case l.PROMOTION_STATE.RELOAD:if(t){this.$MNCommercePromotionStateStore1.set(t,j.loading());n.fetchPromotionState(t);}this.__emitChange();break;}};q.prototype.getPromotionState=function(r){if(r&&!this.$MNCommercePromotionStateStore1.has(r)){this.$MNCommercePromotionStateStore1.set(r,j.loading().setValue({pageID:r}));n.fetchPromotionState(r);}return this.$MNCommercePromotionStateStore1.get(r)||j.empty();};f.exports=new q();},null);
__d('MNCommercePromotionManageBlockDialogContainer.react',['MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommercePromotionManageBlockDialog.react','MNCommercePromotionStateActions','MNCommercePromotionStateStore','PureStoreBasedStateMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=n.createClass({displayName:'MNCommercePromotionManageBlockDialogContainer',mixins:[m(l)],statics:{calculateState:function(){var p=i.getState(),q=null;if(p)q=p.pageID;var r=l.getPromotionState(q);return {shown:!!p,loading:r.isLoading(),onConfirmButtonClick:p&&p.onConfirmButtonClick,pageID:q,promotionState:r.getValue(),error:r.getError()};}},render:function(){var p=this.state.promotionState;return (n.createElement(j,{error:this.state.error,isAllBlocked:p&&p.is_all_blocked,isPromotionBlocked:p&&p.is_promotion_blocked,loading:this.state.loading,merchantName:p&&p.name,onCancelButtonClick:this._hideDialog,onToggle:this._onToggle,pageID:this.state.pageID,onTryAgain:this._onTryAgainClick,onConfirmButtonClick:this.state.onConfirmButtonClick,shown:this.state.shown}));},_onToggle:function(p){if(!p)this._hideDialog();},_onTryAgainClick:function(){k.stateReload(this.state.pageID);},_hideDialog:function(){h.hideDialog();}});f.exports=o;},null);
__d("XMNCommercePromotionBlockController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/promotion\/block\/",{page_id:{type:"String",required:true},type:{type:"String",required:true}});},null);
__d('MNCommercePromotionBlockDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionBlockController'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();k.prototype.block=function(l,m){var n=j.getURIBuilder().setString('page_id',l).setString('type',m).getURI();new h().setURI(n).setHandler(this.$MNCommercePromotionBlockDataManager1).setErrorHandler(this.$MNCommercePromotionBlockDataManager2).send();};k.prototype.$MNCommercePromotionBlockDataManager1=function(l){var m=l.getRequest().uri.getQueryData(),n=m.page_id;i.stateReload(n);};k.prototype.$MNCommercePromotionBlockDataManager2=function(l){var m=l.getRequest().uri.getQueryData(),n=m.page_id;i.stateLoadError(n);};function k(){}f.exports=new k();},null);
__d('MercuryDragDropPrompt.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'MercuryDragDropPrompt',render:function(){return (h.createElement('div',{className:"_4g6x"},h.createElement('div',{className:"_4g6y"},h.createElement('div',{className:"_4g6z _4g71"},j._("Drag Links\/Files Here")),h.createElement('div',{className:"_4g6z _4g6- _4g6_"},j._("Drop Files Here")),h.createElement('div',{className:"_4g6z _4g6- _4g70"},j._("Drop Link Here")))));}});f.exports=k;},null);
__d('PagesMessengerOmnipicker.react',['React','Link.react','Omnipicker.react','ComputerPanel.react','OmnipickerComputerSelector.react','OmnipickerDialog.react','OmnipickerDialogRenderer','OmnipickerPagePostedPhotosPanel.react','OmnipickerPagePostedPhotosSelector.react','OmnipickerPanelList.react','OmnipickerSelectorList.react','OmnipickerWaterfallLogger','PUWApplications','PUWSteps','WaterfallIDGenerator','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=h.PropTypes,aa=h.createClass({displayName:'PagesMessengerOmnipicker',_waterfallLogger:s,_dialogRenderer:null,propTypes:{uploadURI:z.string.isRequired,onPhotosSelected:z.func.isRequired,pageID:z.string.isRequired},componentDidMount:function(){this._waterfallLogger=new s(t.WEB_PAGES_MESSENGER,v.generate());var ba={fileUploadURI:this.props.uploadURI};this._dialogRenderer=new n(h.createElement(m,{onCancel:this._onPickerCancel,title:x._("Select Photo")},h.createElement(j,{logger:this._waterfallLogger,onDoneSelecting:this._onDoneSelecting},h.createElement(r,null,h.createElement(l,null),h.createElement(p,null)),h.createElement(q,null,h.createElement(k,{config:ba}),h.createElement(o,{pageID:this.props.pageID})))));},render:function(){return (h.createElement('div',{className:"_k6_"},h.createElement(i,{className:"_k70",onClick:this._onPickerLaunch},h.createElement('i',{alt:x._("Camera"),className:"_k72"}))));},_onPickerLaunch:function(){this._waterfallLogger.logStep(u.CLIENT_FLOW_BEGIN);!this._dialogRenderer?y(0):undefined;this._dialogRenderer.show();},_onPickerCancel:function(){!this._dialogRenderer?y(0):undefined;this._dialogRenderer.hide();this._waterfallLogger.logStep(u.CLIENT_FLOW_CANCEL);},_onDoneSelecting:function(ba){!this._dialogRenderer?y(0):undefined;this._dialogRenderer.hide();this.props.onPhotosSelected(ba);}});f.exports=aa;},null);
__d("SavedResponsesConstants",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={editPanelViewMode:{LIST:"LIST",CREATE:"CREATE",EDIT:"EDIT",PERSONALIZE:"PERSONALIZE"},browsePanelAttachModeWidth:300,editPanelDialogWidth:600,listItemImageHeight:60,listItemImageWidth:60};f.exports=h;},null);
__d('SavedResponsesActionButton.react',['React','Image.react','XUIGrayText.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';var o=h.PropTypes;m=babelHelpers.inherits(p,h.Component);n=m&&m.prototype;function p(q,r){n.constructor.call(this,q,r);}p.prototype.render=function(){var q=l("_uvx",this.props.className);return (h.createElement('div',{className:q,onClick:this.props.onClick},h.createElement(i,{src:this.props.image,className:"_uvy"}),h.createElement(j,{shade:'medium',className:"_uvz"},this.props.label)));};p.propTypes={image:o.object.isRequired,label:o.string.isRequired,onClick:o.func.isRequired};f.exports=p;},null);
__d("XPagesSavedResponseImagePreviewController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/image\/preview\/",{});},null);
__d('SavedResponsesImage.react',['ActorURI','AsyncRequest','LoadingIndicator.react','React','Image.react','XPagesSavedResponseImagePreviewController','XUICloseButton.react','cx','isEmpty','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s;'use strict';var t=k.PropTypes;r=babelHelpers.inherits(u,k.Component);s=r&&r.prototype;function u(v,w){s.constructor.call(this,v,w);this.$SavedResponsesImage1=null;this.state={currentThumbnailImageId:'',imageUrl:null,isFetchingThumbnail:false};}u.prototype.componentWillReceiveProps=function(v){if(v.imageID!==this.props.imageID)this.$SavedResponsesImage2(v.imageID);};u.prototype.componentDidMount=function(){if(this.props.imageID)this.$SavedResponsesImage2(this.props.imageID);};u.prototype.componentWillUnmount=function(){if(this.$SavedResponsesImage1&&this.$SavedResponsesImage1.abort){this.$SavedResponsesImage1.abort();this.$SavedResponsesImage1=null;}};u.prototype.render=function(){if(!this.$SavedResponsesImage3()&&!this.state.imageUrl)return null;var v="_3mgf";if(this.$SavedResponsesImage3()){v=q(v,this.props.loadingClassName);}else v=q(v,this.props.displayClassName);return (k.createElement('div',{className:this.props.className},k.createElement('div',{className:v},this.$SavedResponsesImage4())));};u.prototype.$SavedResponsesImage2=function(v){if(p(v)){this.setState({imageUrl:null});return;}this.setState({isFetchingThumbnail:true});var w=m.getURIBuilder().getURI();w=h.create(w,this.props.pageID);this.$SavedResponsesImage1=new i();this.$SavedResponsesImage1.setURI(w).setHandler((function(x){return this.$SavedResponsesImage5(x);}).bind(this)).setMethod('POST').setData({image_id:v,target_width:this.props.width,target_height:this.props.height}).send();};u.prototype.$SavedResponsesImage3=function(){return this.state.isFetchingThumbnail||!!this.props.isUploading;};u.prototype.$SavedResponsesImage4=function(){if(this.props.isUploading||this.state.isFetchingThumbnail){return (k.createElement(j,{size:'medium',color:'white',className:"_3mgg"}));}else if(this.state.imageUrl){return (k.createElement('div',null,k.createElement(n,{className:"_3mgn"+(!this.props.shouldShowCloseButton?' '+"hidden_elem":''),size:'medium',onClick:this.props.onClose}),k.createElement(l,{src:this.state.imageUrl})));}else return null;};u.prototype.$SavedResponsesImage5=function(v){this.setState({imageUrl:v.payload.url,isFetchingThumbnail:false});};u.propTypes={displayClassName:t.string.isRequired,height:t.number.isRequired,imageID:t.string,isUploading:t.bool,loadingClassName:t.string.isRequired,onClose:t.func,pageID:t.string.isRequired,shouldShowCloseButton:t.bool.isRequired,width:t.number.isRequired};f.exports=u;},null);
__d("XPagesSavedResponsesAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/",{page_id:{type:"Int",required:true},other_user_id:{type:"Int",required:true}});},null);
__d('SavedResponsesUtils',['ActorURI','AsyncRequest','XPagesSavedResponsesAsyncController'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={generateImageMetadata:function(l){return {filename:'Photo.jpg',image_id:l,filetype:'image/jpeg'};},fetchSavedResponses:function(l,m,n){var o=j.getURIBuilder().setInt('other_user_id',m).setInt('page_id',l).getURI();o=h.create(o,l);new i().setURI(o).setHandler(function(p){return n(p.payload.responses,p.payload.tokens);}).send();}};f.exports=k;},null);
__d('SavedResponsesImageUploader.react',['ChatFileUploaderMixin','Image.react','MercuryConfig','MercuryFileUploader','SavedResponsesUtils','URI','XUIGrayText.react','React','ReactDOM','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t=o.createClass({displayName:'SavedResponsesImageUploader',mixins:[h],propTypes:{image:s.object.isRequired,label:s.string.isRequired,pageID:s.string},componentDidMount:function(){this._fileUploader=new k(this.props.attachmentsShelf,p.findDOMNode(this.refs.form),p.findDOMNode(this.refs.input),p.findDOMNode(this.refs.attachID));if(this.props.imageID)this._fileUploader.addCachedAttachments([l.generateImageMetadata(this.props.imageID)]);this.setUpSubscriptionsHandler(this._fileUploader);},getActionURI:function(){return this.props.pageID?new m(j.upload_url).addQueryData('request_user_id',this.props.pageID).toString():j.upload_url;},getDefaultProps:function(){return {pageID:null};},componentDidUpdate:function(u,v){if(this.props.imageID){this._fileUploader.removeAttachments();this._fileUploader.addCachedAttachments([l.generateImageMetadata(this.props.imageID)]);}},render:function(){var u=r("_uvx",this.props.className);return (o.createElement('form',{action:this.getActionURI(),className:u,method:'post',ref:'form'},o.createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),o.createElement('div',{className:"_4q60"},o.createElement('div',{className:"_4q61 _2d_p"},o.createElement(i,{src:this.props.image,className:"_uvy"}),o.createElement(n,{shade:'medium',className:"_uvz"},this.props.label)),o.createElement('input',{type:'file',className:"_2d_q",name:'attachment[]',accept:this.props.imagesOnly?'image/*':'*',ref:'input'}))));}});f.exports=t;},null);
__d("SavedResponsesImageUploadHelper",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){"use strict";this.$SavedResponsesImageUploadHelper1=i;this.$SavedResponsesImageUploadHelper2=j;}h.prototype.onUploaderMounted=function(i){"use strict";this.$SavedResponsesImageUploadHelper3=i;};h.prototype.onUploadFinished=function(){"use strict";if(!this.$SavedResponsesImageUploadHelper3)return;var i=this.$SavedResponsesImageUploadHelper3.getImageFiles().pop().toString();this.$SavedResponsesImageUploadHelper2(i);};h.prototype.onUploadStarted=function(){"use strict";this.$SavedResponsesImageUploadHelper1();};f.exports=h;},null);
__d('MacroInput.react',['AbstractTextEditor.react','AbstractTextEditorProps','EditorState','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'MacroInput',propTypes:{autoflip:n.bool,editorState:n.instanceOf(j).isRequired,onChange:n.func.isRequired,placeholder:n.string,spellCheck:n.bool},getDefaultProps:i.getDefaultProps,blur:function(){this.refs.abstractTextEditor&&this.refs.abstractTextEditor.blur();},focus:function(){this.refs.abstractTextEditor&&this.refs.abstractTextEditor.focus();},render:function(){var p=m(this.props.className,"_38bx");return (k.createElement('div',{className:p,onClick:this.focus,onFocus:this.focus},k.createElement('div',{className:"_18_r"},k.createElement(h,babelHelpers._extends({},this.props,{ref:'abstractTextEditor'})))));}});f.exports=o;},null);
__d('SavedResponsesEditResponseContentView.react',['AbstractTextArea.react','React','SavedResponsesActionButton.react','SavedResponsesImage.react','SavedResponsesImageUploader.react','SavedResponsesImageUploadHelper','ScrollableArea.react','MacroInput.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t,u=i.PropTypes;s=babelHelpers.inherits(v,i.Component);t=s&&s.prototype;v.prototype.render=function(){'use strict';var w="_38bx"+(' '+"_38by")+(this.props.editorState.getSelection().getHasFocus()?' '+"_38bz":''),x=q._("Enter reply title here"),y=q._("Enter your message here");return (i.createElement('div',{className:this.props.className},i.createElement(h,{className:"_4451 _1vw8",onChange:(function(z){return this.props.onTitleChange(z.target.value);}).bind(this),placeholder:x,value:this.props.responseTitle}),i.createElement('div',{className:"_38bw _57hg"},i.createElement(n,{fade:true,shadow:true},i.createElement(o,{className:w,editorState:this.props.editorState,onChange:this.props.onContentChange,placeholder:y,ref:'macroInput'}),i.createElement(k,{className:"_57hh",displayClassName:"_57hn",imageID:this.props.responseImageID,isUploading:this.props.isUploadingImage,loadingClassName:"_57hi",pageID:this.props.pageID,height:250,onClose:this.props.onDeleteImage,shouldShowCloseButton:true,width:250}))),this.$SavedResponsesEditResponseContentView1()));};v.prototype.$SavedResponsesEditResponseContentView1=function(){'use strict';return (i.createElement('div',{className:"_57ho"},i.createElement(l,{className:"_3-8v",image:r('/images/mobile/glyph/photos_dark-grey_l.png'),label:q._("Add Image"),onFileUploaderMounted:(function(w){return this.props.uploadHandler.onUploaderMounted(w);}).bind(this),onSubmit:(function(){return this.props.uploadHandler.onUploadStarted();}).bind(this),onUploadFinished:(function(){return this.props.uploadHandler.onUploadFinished();}).bind(this),pageID:this.props.pageID}),i.createElement(j,{image:r('/images/mobile/glyph/love_dark-grey_l.png'),className:"_3-8v",label:q._("Personalize"),onClick:this.props.onPersonalize})));};function v(){'use strict';s.apply(this,arguments);}v.propTypes={editorState:u.object.isRequired,isUploadingImage:u.bool.isRequired,pageID:u.string.isRequired,responseImageID:u.string,responseTitle:u.string,onContentChange:u.func.isRequired,onDeleteImage:u.func.isRequired,onPersonalize:u.func.isRequired,onTitleChange:u.func.isRequired,uploadHandler:u.instanceOf(m).isRequired};f.exports=v;},null);
__d('SavedResponsesFooterButton.react',['React','Image.react','XUIButton.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;function o(p,q){m.constructor.call(this,p,q);}o.prototype.render=function(){return (h.createElement(j,babelHelpers._extends({},this.props,{className:"_3-8i"+(this.props.isHidden?' '+"hidden_elem":''),size:'large',label:this.props.label,onClick:this.props.onClick,use:this.props.use,image:this.props.image?h.createElement(i,{src:this.props.image}):null})));};o.propTypes={image:n.object,isHidden:n.bool,label:n.string.isRequired,onClick:n.func.isRequired,use:n.oneOf(['default','special','confirm'])};o.defaultProps={use:'default',isHidden:false};f.exports=o;},null);
__d('SavedResponsesMacroDetailView.react',['React','ScrollableArea.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;function o(p,q){m.constructor.call(this,p,q);}o.prototype.render=function(){var p=this.props.macro;if(!p)return null;return (h.createElement(i,{fade:true,shadow:true},h.createElement('div',null,h.createElement('div',{className:"_tpd"},p.key),h.createElement('div',{className:"_tpe"},p.description),h.createElement('div',{className:"_tpf"},k._("Example")),h.createElement('div',{className:"_tpg"},p.example))));};o.propTypes={macro:n.shape({description:n.string.isRequired,example:n.string.isRequired,key:n.string.isRequired,name:n.string.isRequired,value:n.string.isRequired})};f.exports=o;},null);
__d('SavedResponsesMacroListItem.react',['React','Image.react','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;function o(p,q){m.constructor.call(this,p,q);this.state={isHover:false};}o.prototype.render=function(){return (h.createElement('div',{className:"_5y_z",'data-id':this.props.macro.key,onClick:(function(){return this.$SavedResponsesMacroListItem1();}).bind(this),onMouseOut:(function(){return this.$SavedResponsesMacroListItem2();}).bind(this),onMouseOver:(function(){return this.$SavedResponsesMacroListItem3();}).bind(this)},h.createElement('div',{className:"_5y__"},this.props.macro.key),h.createElement('div',{className:"_5z00"+(!this.state.isHover?' '+"hidden_elem":'')},h.createElement(i,{src:k('/images/pages/macro_listitem_triangle.png')}))));};o.prototype.$SavedResponsesMacroListItem3=function(){this.props.onHover(this.props.macro);this.setState({isHover:true});};o.prototype.$SavedResponsesMacroListItem2=function(){this.setState({isHover:false});};o.prototype.$SavedResponsesMacroListItem1=function(){this.props.onSelect(this.props.macro);};o.propTypes={macro:n.shape({key:n.string.isRequired,value:n.string.isRequired}).isRequired,onHover:n.func.isRequired,onSelect:n.func.isRequired};f.exports=o;},null);
__d('SavedResponsesMacroListView.react',['React','SavedResponsesMacroListItem.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';var l=h.PropTypes;j=babelHelpers.inherits(m,h.Component);k=j&&j.prototype;function m(n,o){k.constructor.call(this,n,o);}m.prototype.render=function(){return (h.createElement('ul',null,this.$SavedResponsesMacroListView1()));};m.prototype.$SavedResponsesMacroListView1=function(){var n=[];for(var o in this.props.macros){var p=this.props.macros[o];n.push(h.createElement(i,{macro:p,onHover:this.props.onMacroHover,onSelect:this.props.onMacroSelected}));}return n;};m.propTypes={macros:l.object.isRequired,onMacroHover:l.func.isRequired,onMacroSelected:l.func.isRequired};f.exports=m;},null);
__d('SavedResponsesMacroBrowseView.react',['Grid.react','React','SavedResponsesFooterButton.react','SavedResponsesMacroDetailView.react','SavedResponsesMacroListView.react','ScrollableArea.react','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r,s=h.GridItem,t=i.PropTypes;q=babelHelpers.inherits(u,i.Component);r=q&&q.prototype;function u(v,w){'use strict';r.constructor.call(this,v,w);this.state={activeMacro:null};}u.prototype.render=function(){'use strict';return (i.createElement('div',null,this.renderBodyPart(),i.createElement('div',{className:"_3ohz"},this.renderFooterPart())));};u.prototype.renderBodyPart=function(){'use strict';var v=p("_552a",this.props.className);return (i.createElement('div',{className:v},i.createElement(h,{cols:2,spacing:'none',className:"_552b"},i.createElement(s,{className:"_552c"},i.createElement('div',{className:"_552d"}),i.createElement(m,{fade:true,shadow:true},i.createElement('div',{className:"_2t-k"},i.createElement(l,{macros:this.props.macros,onMacroSelected:this.props.onMacroSelected,onMacroHover:(function(w){return this.$SavedResponsesMacroBrowseView1(w);}).bind(this)})))),i.createElement(s,{className:"_552e"},i.createElement(k,{macro:this.state.activeMacro})))));};u.prototype.renderFooterPart=function(){'use strict';var v=o._("Cancel");return (i.createElement('div',null,i.createElement('div',{className:"_552g"},i.createElement(j,{label:v,onClick:this.props.onCancel}))));};u.prototype.$SavedResponsesMacroBrowseView1=function(v){'use strict';this.setState({activeMacro:v});};u.propTypes={macros:t.object.isRequired,onCancel:t.func.isRequired,onMacroSelected:t.func.isRequired};f.exports=u;},null);
__d('SavedResponsesPanel.react',['React','Image.react','XUICloseButton.react','XUIDialogBody.react','XUIDialogTitle.react','XUIGrayText.react','cx','emptyFunction','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s;'use strict';var t=h.PropTypes;r=babelHelpers.inherits(u,h.Component);s=r&&r.prototype;function u(v,w){s.constructor.call(this,v,w);}u.prototype.render=function(){return (h.createElement('div',{className:this.props.className},h.createElement(l,{className:"_3alh",showCloseButton:false},h.createElement('div',{className:"_2rp7"},h.createElement('div',{className:"_2rp8"+(!this.props.shouldShowBackButton?' '+"hidden_elem":''),onClick:this.props.onBackButtonClicked},h.createElement(i,{src:q("/images/help/rooms/back.png"),className:"_2rp9"}),h.createElement(m,{shade:'light',className:"_2rpa"},this.props.backButtonLabel),h.createElement('div',{className:"_2rpb"})),h.createElement('span',{className:"_5hp9"},this.props.title)),this.$SavedResponsesPanel1()),h.createElement(k,{className:"_2rpc"},this.props.children)));};u.prototype.$SavedResponsesPanel1=function(){var v=p._("Close");return (h.createElement(j,{className:"_2rpe",label:v,onClick:this.props.onClose,shade:'dark',size:'medium',title:v,type:'button'}));};u.propTypes={backButtonLabel:t.string,onBackButtonClicked:t.func,onClose:t.func.isRequired,shouldShowBackButton:t.bool,title:t.string.isRequired};u.defaultProps={backButtonLabel:null,onBackButtonClicked:o,shouldShowBackButton:false};f.exports=u;},null);
__d('MacroSpan.react',['DraftEntity','React','XUICloseButton.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'MacroSpan',propTypes:{entityKey:l.string.isRequired,offsetKey:l.string.isRequired,onRemoveToken:l.func.isRequired,tokens:l.object.isRequired},getInitialState:function(){return {isMouseOver:false};},render:function(){var n=this._getEntityData();return (i.createElement('span',{className:"_vxd",onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},i.createElement('span',{className:"_vxe",contentEditable:false,'data-offset-key':this.props.offsetKey,spellCheck:false},this._getContent(n),i.createElement(j,{size:'small',className:"_vxf",onClick:this._removeToken}))));},_getContent:function(n){var o=n.key in this.props.tokens?this.props.tokens[n.key].value:n.key,p=n.key in this.props.tokens?this.props.tokens[n.key].key:n.key;return this.state.isMouseOver?p:o;},_onMouseEnter:function(){this.setState({isMouseOver:true});},_onMouseLeave:function(){this.setState({isMouseOver:false});},_removeToken:function(){this.props.onRemoveToken(this.props.offsetKey);},_getEntityData:function(){return h.get(this.props.entityKey).getData();}});f.exports=m;},null);
__d('getMacrosInputDecorator',['CompositeDraftDecorator','DraftDecorator','MacroSpan.react','getEntityMatcher'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m,n){return new h([new i(k(function(o){return o.getType()==='TOKEN';}),j,{onRemoveToken:n,tokens:m})]);}f.exports=l;},null);
__d('SavedResponsesTokensUtils',['DraftEntity','createEditorStateWithEntities','getMacrosInputDecorator'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=new RegExp('{{(.*?)}}','ig'),l={_parseTemplateFieldTokens:function(m){var n=m,o=[],p;while(p=k.exec(n)){var q={text:p[0],offset:p.index,length:p[0].length,entity:{token:p[0],key:p[1]}};o.push(q);n=n.replace(p[0],q.text);k.lastIndex=q.offset+q.length;}if(o.length>0){if(o[0].offset===0){n=" "+n;o.forEach(function(s){s.offset++;});}var r=o[o.length-1];if(r.length+r.offset===n.length)n=n+" ";}return {ranges:o,text:n};},createTemplateFieldsEditorStateWithText:function(m,n,o){var p=l._parseTemplateFieldTokens(m),q=p.ranges,r=p.text;return i({text:r,ranges:q,decorator:j(o,n),entityCreationFn:function(s){return h.create('TOKEN','IMMUTABLE',s);}});},prepareforSend:function(m,n){var o=m.match(/\{{(.*?)\}}/g);if(o)o.forEach(function(p){var q=p.replace('{{','').replace('}}',''),r=q in n?n[q].value:q;m=m.replace(p,r);});return m;}};f.exports=l;},null);
__d("XPagesSavedResponsesAddController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/add\/",{owner_id:{type:"Int",required:true},title:{type:"String",defaultValue:""},message:{type:"String",required:true},photo_id:{type:"Int"},user_message:{type:"String"}});},null);
__d("XPagesSavedResponsesDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/delete\/",{response_id:{type:"Int",required:true}});},null);
__d("XPagesSavedResponsesEditController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/edit\/",{response_id:{type:"Int",required:true},title:{type:"String",defaultValue:""},message:{type:"String",required:true},photo_id:{type:"Int"},remove_photo_id:{type:"Int"}});},null);
__d('SavedResponsesEditResponseView.react',['ActorURI','AsyncRequest','DraftEntity','DraftModifier','DraftOffsetKey','EditorState','PagesEventObserver','PagesEventType','React','SavedResponsesEditResponseContentView.react','SavedResponsesFooterButton.react','SavedResponsesImageUploadHelper','SavedResponsesMacroBrowseView.react','SavedResponsesPanel.react','SavedResponsesTokensUtils','SelectionState','XPagesSavedResponsesAddController','XPagesSavedResponsesDeleteController','XPagesSavedResponsesEditController','XUISpinner.react','cx','fbt','invariant','getMacrosInputDecorator'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){if(c.__markCompiled)c.__markCompiled();var fa,ga,ha=p.PropTypes;fa=babelHelpers.inherits(ia,p.Component);ga=fa&&fa.prototype;function ia(ja,ka){'use strict';ga.constructor.call(this,ja,ka);var la=!!this.props.initialResponse||false,ma=!!this.props.initialResponse&&!!this.props.initialResponse.image?this.props.initialResponse.image.id:'',na=this.$SavedResponsesEditResponseView1(la);this.state={anyContent:na.getCurrentContent().hasText(),editorState:na,imageID:ma,isEditing:la,isModified:false,isPersonalizing:false,isProcessing:false,isUploadingImage:false,message:na.getCurrentContent().getPlainText(),shouldShowDeleteWarning:false,shouldShowDiscardWarning:false,title:!!this.props.initialResponse?this.props.initialResponse.title:'',uploadHandler:new s((function(){return this.$SavedResponsesEditResponseView2();}).bind(this),(function(oa){return this.$SavedResponsesEditResponseView3(oa);}).bind(this))};}ia.prototype.render=function(){'use strict';return (p.createElement(u,{backButtonLabel:this.$SavedResponsesEditResponseView4(),className:"_15ht",onBackButtonClicked:(function(){return this.$SavedResponsesEditResponseView5();}).bind(this),onClose:this.props.onClose,shouldShowBackButton:true,title:this.$SavedResponsesEditResponseView6()},this.$SavedResponsesEditResponseView7(),p.createElement('div',{className:"_3ohz"},this.$SavedResponsesEditResponseView8())));};ia.prototype.$SavedResponsesEditResponseView9=function(){'use strict';return ca._("Cancel");};ia.prototype.$SavedResponsesEditResponseView10=function(){'use strict';return ca._("Delete");};ia.prototype.$SavedResponsesEditResponseView11=function(){'use strict';return ca._("Save reply");};ia.prototype.$SavedResponsesEditResponseView7=function(){'use strict';if(this.state.isPersonalizing){return (p.createElement(t,{className:"_1wxh",macros:this.props.supportedMacros,onCancel:(function(){return this.$SavedResponsesEditResponseView12();}).bind(this),onMacroSelected:(function(ja){return this.$SavedResponsesEditResponseView13(ja);}).bind(this)}));}else return (p.createElement(q,{className:"_1wxh",editorState:this.state.editorState,isUploadingImage:this.state.isUploadingImage,onContentChange:(function(ja){return this.$SavedResponsesEditResponseView14(ja);}).bind(this),onDeleteImage:(function(){return this.$SavedResponsesEditResponseView15();}).bind(this),onPersonalize:(function(){return this.$SavedResponsesEditResponseView16();}).bind(this),onTitleChange:(function(ja){this.setState({title:ja,isModified:true});}).bind(this),pageID:this.props.pageID,responseImageID:this.state.imageID,responseTitle:this.state.title,uploadHandler:this.state.uploadHandler}));};ia.prototype.$SavedResponsesEditResponseView8=function(){'use strict';if(this.state.isPersonalizing){return (p.createElement(r,{label:this.$SavedResponsesEditResponseView9(),onClick:(function(){return this.$SavedResponsesEditResponseView12();}).bind(this)}));}else return this.$SavedResponsesEditResponseView17();};ia.prototype.$SavedResponsesEditResponseView18=function(){'use strict';var ja=ca._("Continue Editing"),ka=ca._("Discard");return (p.createElement('div',null,p.createElement('div',{className:"_2ln1"},ca._("Are you sure you want to discard your edit?")),p.createElement('div',{className:"_4pnp"},p.createElement(r,{label:ka,onClick:(function(){return this.$SavedResponsesEditResponseView19();}).bind(this)}),p.createElement(r,{label:ja,onClick:(function(){return this.$SavedResponsesEditResponseView20();}).bind(this),use:'confirm'}))));};ia.prototype.$SavedResponsesEditResponseView21=function(){'use strict';return (p.createElement('div',null,p.createElement('div',{className:"_2ln1"},ca._("Are you sure you want to delete this saved reply?")),p.createElement('div',{className:"_4pnp"},p.createElement(r,{label:this.$SavedResponsesEditResponseView10(),onClick:(function(){return this.$SavedResponsesEditResponseView22();}).bind(this)}),p.createElement(r,{label:this.$SavedResponsesEditResponseView9(),onClick:(function(){return this.$SavedResponsesEditResponseView23();}).bind(this),use:'confirm'}))));};ia.prototype.$SavedResponsesEditResponseView24=function(){'use strict';return (p.createElement('div',null,p.createElement(r,{label:this.$SavedResponsesEditResponseView10(),onClick:(function(){return this.$SavedResponsesEditResponseView25();}).bind(this),isHidden:!this.state.isEditing}),p.createElement('div',{className:"_4pnp"},p.createElement(r,{label:this.$SavedResponsesEditResponseView9(),onClick:(function(){return this.props.onEditDone(false);}).bind(this)}),p.createElement(r,{disabled:!this.state.anyContent,label:this.$SavedResponsesEditResponseView11(),onClick:(function(){return this.$SavedResponsesEditResponseView26();}).bind(this),use:'confirm'}),p.createElement(aa,{size:'small',className:(!this.state.isProcessing?"hidden_elem":'')+(' '+"_3-91")+(' '+"_3-99")}))));};ia.prototype.$SavedResponsesEditResponseView17=function(){'use strict';if(this.state.shouldShowDeleteWarning){return this.$SavedResponsesEditResponseView21();}else if(this.state.shouldShowDiscardWarning){return this.$SavedResponsesEditResponseView18();}else return this.$SavedResponsesEditResponseView24();};ia.prototype.$SavedResponsesEditResponseView4=function(){'use strict';if(!this.state.isPersonalizing){return ca._("List");}else return ca._("Edit");};ia.prototype.$SavedResponsesEditResponseView6=function(){'use strict';if(this.state.isPersonalizing){return ca._("Add Personalization");}else if(this.state.isEditing){return ca._("Edit Reply");}else return ca._("Create Reply");};ia.prototype.$SavedResponsesEditResponseView27=function(ja){'use strict';var ka={text:'{{'+ja.name+'}}',key:ja.name},la=this.state.editorState,ma=la.getSelection(),na=la.getCurrentContent(),oa=ma.getStartKey(),pa=ma.getStartOffset(),qa=na.getBlockForKey(oa),ra;if(qa.getText().substr(pa-1,1).trim().length>0){var sa=k.replaceText(na,ma,' ');ma=sa.getSelectionAfter();ra=k.insertText(sa,ma,ka.text,la.getCurrentInlineStyle(),j.create('TOKEN','IMMUTABLE',ka));}else ra=k.replaceText(na,ma,ka.text,la.getCurrentInlineStyle(),j.create('TOKEN','IMMUTABLE',ka));ra=k.insertText(ra,ra.getSelectionAfter(),' ');la=m.push(la,ra,'insert-fragment');la=m.forceSelection(la,la.getSelection());this.$SavedResponsesEditResponseView14(la);};ia.prototype.$SavedResponsesEditResponseView28=function(){'use strict';var ja=this.state.editorState.getCurrentContent().getPlainText();n.logData_DEPRECATED({event_name:o.SAVED_REPLIES_EDIT_REPLY,page_id:this.props.pageID,response_content:ja},null);var ka=this.props.initialResponse;!!!ka?da(0):undefined;var la=this.state.imageID?this.state.imageID.toString():'',ma=z.getURIBuilder().setInt('response_id',ka.id).setString('message',ja).setString('title',this.state.title);if(!la&&ka.image&&ka.image.id){ma.setInt('remove_photo_id',ka.image.id);}else ma.setInt('photo_id',la);ma=h.create(ma.getURI(),this.props.pageID);new i().setURI(ma).setMethod('POST').setHandler((function(){return this.props.onEditDone(true);}).bind(this)).send();};ia.prototype.$SavedResponsesEditResponseView29=function(){'use strict';var ja=this.state.editorState.getCurrentContent().getPlainText();n.logData_DEPRECATED({event_name:o.SAVED_REPLIES_CREATE_REPLY,page_id:this.props.pageID,response_content:ja},null);var ka=this.state.imageID?this.state.imageID.toString():'',la=x.getURIBuilder().setInt('owner_id',this.props.pageID).setString('message',ja).setString('title',this.state.title).setInt('photo_id',ka).getURI();la=h.create(la,this.props.pageID);new i().setURI(la).setMethod('POST').setHandler((function(){return this.props.onEditDone(true);}).bind(this)).send();};ia.prototype.$SavedResponsesEditResponseView1=function(ja){'use strict';if(ja&&this.props.initialResponse){var ka=this.props.initialResponse.message||'';return v.createTemplateFieldsEditorStateWithText(ka,(function(la){return this.$SavedResponsesEditResponseView30(la);}).bind(this),this.props.supportedMacros);}else return m.createEmpty(ea(this.props.supportedMacros||{},(function(la){return this.$SavedResponsesEditResponseView30(la);}).bind(this)));};ia.prototype.$SavedResponsesEditResponseView15=function(){'use strict';this.setState({imageID:null});};ia.prototype.$SavedResponsesEditResponseView5=function(){'use strict';if(this.state.isPersonalizing){this.setState({isPersonalizing:false});}else if(this.state.isModified){this.setState({shouldShowDiscardWarning:true});}else this.props.onBackButtonClicked();};ia.prototype.$SavedResponsesEditResponseView12=function(){'use strict';this.setState({isPersonalizing:false});};ia.prototype.$SavedResponsesEditResponseView13=function(ja){'use strict';n.logData_DEPRECATED({event_name:o.SAVED_REPLIES_PERSONALIZE,page_id:this.props.pageID},null);this.setState({isPersonalizing:false});this.$SavedResponsesEditResponseView27(ja);};ia.prototype.$SavedResponsesEditResponseView16=function(){'use strict';this.setState({isPersonalizing:true});this.props.onEnterPersonalizeView();};ia.prototype.$SavedResponsesEditResponseView14=function(ja){'use strict';this.setState({anyContent:ja.getCurrentContent().hasText(),editorState:ja,isModified:true});};ia.prototype.$SavedResponsesEditResponseView2=function(){'use strict';n.logData_DEPRECATED({event_name:o.SAVED_REPLIES_ADD_IMAGE,page_id:this.props.pageID},null);this.setState({imageID:null,isUploadingImage:true});};ia.prototype.$SavedResponsesEditResponseView3=function(ja){'use strict';this.setState({imageID:ja,isUploadingImage:false});};ia.prototype.$SavedResponsesEditResponseView30=function(ja){'use strict';var ka=this.state.editorState,la=l.decode(ja),ma=la.blockKey,na=la.decoratorKey,oa=ka.getBlockTree(ma).getIn([na]),pa=new w({anchorKey:ma,anchorOffset:oa.get('start'),focusKey:ma,focusOffset:oa.get('end'),isBackward:false,hasFocus:true}),qa=k.removeRange(ka.getCurrentContent(),pa,'forward'),ra=m.push(ka,qa,'remove-range');this.$SavedResponsesEditResponseView14(ra);};ia.prototype.$SavedResponsesEditResponseView25=function(){'use strict';this.setState({shouldShowDeleteWarning:true});};ia.prototype.$SavedResponsesEditResponseView26=function(){'use strict';this.setState({isProcessing:true});this.state.isEditing?this.$SavedResponsesEditResponseView28():this.$SavedResponsesEditResponseView29();};ia.prototype.$SavedResponsesEditResponseView23=function(){'use strict';this.setState({shouldShowDeleteWarning:false});};ia.prototype.$SavedResponsesEditResponseView22=function(){'use strict';n.logData_DEPRECATED({event_name:o.SAVED_REPLIES_DELETE_REPLY,page_id:this.props.pageID},null);this.setState({shouldShowDeleteWarning:false,isProcessing:true});!!!this.props.initialResponse?da(0):undefined;var ja=y.getURIBuilder().setInt('response_id',this.props.initialResponse.id).getURI();new i().setURI(ja).setMethod('POST').setHandler((function(){return this.props.onEditDone(true);}).bind(this)).send();};ia.prototype.$SavedResponsesEditResponseView19=function(){'use strict';this.props.onBackButtonClicked();};ia.prototype.$SavedResponsesEditResponseView20=function(){'use strict';this.setState({shouldShowDiscardWarning:false});};ia.propTypes={initialResponse:ha.shape({id:ha.string.isRequired,title:ha.string,message:ha.string,image:ha.object}),onBackButtonClicked:ha.func.isRequired,onClose:ha.func.isRequired,onEditDone:ha.func.isRequired,onEnterPersonalizeView:ha.func.isRequired,pageID:ha.string.isRequired,supportedMacros:ha.object};f.exports=ia;},null);
__d('SavedResponsesListItem.react',['ClientIDs','Link.react','React','ReactDOM','SavedResponsesImage.react','SavedResponsesConstants','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=j.PropTypes,q=j.createClass({displayName:'SavedResponsesListItem',propTypes:{onResponseHover:p.func,onResponseSelected:p.func.isRequired,onResponseUnhover:p.func,pageID:p.string.isRequired,response:p.shape({id:p.string.isRequired,title:p.string,message:p.string.isRequired,image:p.object}),tokens:p.object.isRequired},getInitialState:function(){return {shouldShowSeeMoreLink:false,shouldLimitHeight:true};},componentDidMount:function(){this._refreshSeeMoreLink();},componentDidUpdate:function(){this._refreshSeeMoreLink();},render:function(){var r=this.props.response.image&&true;return (j.createElement('div',{className:"_33w3"+(r?' '+"_33w4":''),'data-id':this.props.response.id,onClick:this._onResponseSelected,onMouseEnter:this._onResponseHover,onMouseLeave:this.props.onResponseUnhover},j.createElement('div',{className:"_33w5"+(r?' '+"_33w6":'')+(' '+"fwb")},this.props.response.title),j.createElement('div',{className:"_33w7"+(this.state.shouldLimitHeight?' '+"_4en5":'')+(!this.props.response.title&&this.props.response.image?' '+"_2pid":''),ref:'message'},this.props.response.image?j.createElement(l,{className:"_33w8",displayClassName:"_33w9",height:m.listItemImageHeight,imageID:this.props.response.image.id,loadingClassName:"_33w9",pageID:this.props.pageID,shouldShowCloseButton:false,width:m.listItemImageWidth}):null,this._processTokens(this.props.response.message)),j.createElement(i,{className:"_4en6"+(!this.state.shouldShowSeeMoreLink?' '+"hidden_elem":''),onClick:this._onShowMoreClicked},o._("See more"))));},_refreshSeeMoreLink:function(){if(this.state.shouldLimitHeight===false||this.state.shouldShowSeeMoreLink)return;var r=k.findDOMNode(this.refs.message);if(r.scrollHeight>r.clientHeight)this.setState({shouldShowSeeMoreLink:true});},_processTokens:function(r){var s=0,t=0,u=/\{{(.*?)\}}/g,v=u.exec(r),w=[];while(v!=null){t=v.index;w.push(j.createElement('span',{key:h.getNewClientID()},r.substring(s,t)));s=t+v[0].length;var x=v[1] in this.props.tokens?this.props.tokens[v[1]].value:v[1];w.push(j.createElement('span',{key:h.getNewClientID(),className:"_-8"},x));v=u.exec(r);}w.push(j.createElement('span',{key:h.getNewClientID()},r.substring(s,r.length)));return w;},_onResponseSelected:function(){this.props.onResponseSelected(this.props.response,this.props.tokens);},_onResponseHover:function(){this.props.onResponseHover&&this.props.onResponseHover(this.props.response,this.props.tokens);},_onShowMoreClicked:function(r){this.setState({shouldShowSeeMoreLink:false,shouldLimitHeight:false});r.stopPropagation();}});f.exports=q;},null);
__d('SavedResponsesListView.react',['React','SavedResponsesListItem.react','XUISpinner.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;function o(p,q){m.constructor.call(this,p,q);}o.prototype.render=function(){if(this.props.isLoadingResponses)return (h.createElement('div',{className:"_e19"},h.createElement(j,{size:'large'})));var p=this.props.searchQuery.trim().toLowerCase(),q=function(r){return (r.message.toLowerCase().indexOf(p)!==-1||(r.title||'').toLowerCase().indexOf(p)!==-1);};return (h.createElement('ul',{className:this.props.shouldAdjustRightMargin?"_e1a":''},this.props.responses.filter(q).map((function(r){return (h.createElement(i,{key:r.id,onResponseHover:this.props.onResponseHover,onResponseSelected:this.props.onResponseSelected,onResponseUnhover:this.props.onResponseUnhover,pageID:this.props.pageID,response:r,tokens:this.props.supportedMacros}));}).bind(this))));};o.propTypes={isLoadingResponses:n.bool.isRequired,onResponseHover:n.func,onResponseSelected:n.func.isRequired,onResponseUnhover:n.func,pageID:n.string.isRequired,responses:n.array.isRequired,searchQuery:n.string.isRequired,shouldAdjustRightMargin:n.bool};f.exports=o;},null);
__d('SavedResponsesListViewContainer.react',['React','XUICloseButton.react','XUITextInput.react','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';var p=h.PropTypes;n=babelHelpers.inherits(q,h.Component);o=n&&n.prototype;function q(r,s){o.constructor.call(this,r,s);}q.prototype.render=function(){var r=m("_3ohy",this.props.className);return (h.createElement('div',{className:r},this.renderSearchField(),this.props.children,h.createElement('div',{className:"_3ohz"},this.props.footerPart)));};q.prototype.renderSearchField=function(){return (h.createElement('div',{className:"_1x3h"},h.createElement('span',{className:"_1x3i"}),h.createElement(j,{onChange:this.props.onSearchQueryChanged,ref:'inputField',placeholder:l._("Search replies"),value:this.props.searchQuery}),h.createElement(i,{size:'small',onClick:this.props.onSearchQueryCleared,className:this.props.searchQuery.length===0?"hidden_elem":''})));};q.propTypes={footerPart:p.object.isRequired,onSearchQueryChanged:p.func.isRequired,onSearchQueryCleared:p.func.isRequired,searchQuery:p.string.isRequired};f.exports=q;},null);
__d('SavedResponsesManageListView.react',['React','SavedResponsesFooterButton.react','SavedResponsesListView.react','SavedResponsesListViewContainer.react','SavedResponsesPanel.react','ScrollableArea.react','cx','ix','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r,s=h.PropTypes;q=babelHelpers.inherits(t,h.Component);r=q&&q.prototype;function t(u,v){'use strict';r.constructor.call(this,u,v);this.state={searchQuery:""};}t.prototype.render=function(){'use strict';return (h.createElement(l,{className:"_15ht",shouldShowBackButton:false,onClose:this.props.onClose,title:p._("Saved Replies")},h.createElement(k,{footerPart:this.$SavedResponsesManageListView1(),onSearchQueryChanged:(function(u){return this.$SavedResponsesManageListView2(u);}).bind(this),onSearchQueryCleared:(function(){return this.$SavedResponsesManageListView3();}).bind(this),searchQuery:this.state.searchQuery},this.$SavedResponsesManageListView4())));};t.prototype.$SavedResponsesManageListView4=function(){'use strict';return (h.createElement('div',{className:"_4pno"},h.createElement(m,{fade:true,shadow:true},h.createElement(j,{isLoadingResponses:false,onResponseSelected:this.props.onResponseSelected,pageID:this.props.pageID,responses:this.props.responses,searchQuery:this.state.searchQuery,supportedMacros:this.props.supportedMacros}),this.$SavedResponsesManageListView5())));};t.prototype.$SavedResponsesManageListView1=function(){'use strict';var u=p._("Create Reply"),v=p._("Done");return (h.createElement('div',{className:"_4pnp"},h.createElement(i,{label:u,onClick:this.props.onCreateNewReplyClicked,image:o('/images/mobile/glyph/compose_dark-grey_m.png')}),h.createElement(i,{label:v,onClick:this.props.onDoneClicked})));};t.prototype.$SavedResponsesManageListView5=function(){'use strict';return (h.createElement('div',{className:"_4pnq"},h.createElement('div',{className:"_50f8"+(' '+"_4pnr")},p._("End of saved replies"))));};t.prototype.$SavedResponsesManageListView2=function(u){'use strict';this.setState({searchQuery:u.target.value});};t.prototype.$SavedResponsesManageListView3=function(){'use strict';this.setState({searchQuery:""});};t.propTypes={onClose:s.func.isRequired,onCreateNewReplyClicked:s.func.isRequired,onDoneClicked:s.func.isRequired,onResponseSelected:s.func.isRequired,otherUserID:s.string.isRequired,pageID:s.string.isRequired,responses:s.array.isRequired,supportedMacros:s.object.isRequired};f.exports=t;},null);
__d('SavedResponsesManagePanel.react',['React','SavedResponsesConstants','SavedResponsesEditResponseView.react','SavedResponsesManageListView.react','SavedResponsesUtils','XUISpinner.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=h.PropTypes;o=babelHelpers.inherits(r,h.Component);p=o&&o.prototype;function r(s,t){p.constructor.call(this,s,t);this.state={isLoadingResponses:true,responseToEdit:null,responses:[],supportedMacros:null,viewType:this.props.initialViewType};}r.prototype.componentWillMount=function(){this.$SavedResponsesManagePanel1();};r.prototype.render=function(){if(this.state.isLoadingResponses)return (h.createElement('div',{className:"_15ht"},h.createElement('div',{className:"_15hu"},h.createElement(m,{size:'large'}))));switch(this.state.viewType){case i.editPanelViewMode.LIST:return (h.createElement(k,{onCreateNewReplyClicked:(function(){return this.$SavedResponsesManagePanel2();}).bind(this),onDoneClicked:(function(){return this.$SavedResponsesManagePanel3();}).bind(this),otherUserID:this.props.otherUserID,onResponseSelected:(function(s,t){return (this.$SavedResponsesManagePanel4(s,t));}).bind(this),onClose:this.props.onClose,pageID:this.props.pageID,responses:this.state.responses,supportedMacros:this.state.supportedMacros}));case i.editPanelViewMode.EDIT:case i.editPanelViewMode.CREATE:case i.editPanelViewMode.PERSONALIZE:return (h.createElement(j,{initialResponse:this.state.responseToEdit,onBackButtonClicked:(function(){return this.$SavedResponsesManagePanel5(false);}).bind(this),onClose:this.props.onClose,onEditDone:(function(s){return this.$SavedResponsesManagePanel5(s);}).bind(this),onEnterPersonalizeView:(function(){return this.$SavedResponsesManagePanel6();}).bind(this),pageID:this.props.pageID,supportedMacros:this.state.supportedMacros}));}};r.prototype.$SavedResponsesManagePanel1=function(){this.setState({isLoadingResponses:true});l.fetchSavedResponses(this.props.pageID,this.props.otherUserID,(function(s,t){return (this.setState({responses:s,supportedMacros:t,isLoadingResponses:false}));}).bind(this));};r.prototype.$SavedResponsesManagePanel5=function(s){if(this.props.initialViewType===i.editPanelViewMode.CREATE){this.props.onClose();return;}if(s)this.$SavedResponsesManagePanel1();this.setState({responseToEdit:null,viewType:i.editPanelViewMode.LIST});};r.prototype.$SavedResponsesManagePanel2=function(){this.setState({responseToEdit:null,viewType:i.editPanelViewMode.CREATE});};r.prototype.$SavedResponsesManagePanel3=function(){this.props.onClose();};r.prototype.$SavedResponsesManagePanel6=function(){this.setState({viewType:i.editPanelViewMode.PERSONALIZE});};r.prototype.$SavedResponsesManagePanel4=function(s){this.setState({responseToEdit:s,viewType:i.editPanelViewMode.EDIT});};r.propTypes={initialViewType:q.string,onClose:q.func.isRequired,otherUserID:q.string.isRequired,pageID:q.string.isRequired};r.defaultProps={initialViewType:i.editPanelViewMode.LIST};f.exports=r;},null);
__d('PagesManagerCountDownTimer.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l,m=1000;k=babelHelpers.inherits(n,h.Component);l=k&&k.prototype;function n(o,p){'use strict';l.constructor.call(this,o,p);this.state={timeRemaining:this.$PagesManagerCountDownTimer1(this.props.expireTimestamp),isCountingDown:false};}n.prototype.componentDidMount=function(){'use strict';if(!this.state.isCountingDown)this.$PagesManagerCountDownTimer2();};n.prototype.componentWillReceiveProps=function(o){'use strict';this.setState({timeRemaining:this.$PagesManagerCountDownTimer1(o.expireTimestamp)});if(!this.state.isCountingDown)this.$PagesManagerCountDownTimer2();};n.prototype.render=function(){'use strict';return (h.createElement('div',{className:"_3uo9"+(this.props.isHidden?' '+"hidden_elem":'')},this.$PagesManagerCountDownTimer3()));};n.prototype.$PagesManagerCountDownTimer3=function(){'use strict';var o=Math.floor(this.state.timeRemaining/1000/60),p=this.$PagesManagerCountDownTimer4(Math.floor(o/60)),q=this.$PagesManagerCountDownTimer4(o%60);if(this.props.isNewInbox)return j._("Returning in {hours}:{minutes}",[j.param('hours',p),j.param('minutes',q)]);return j._("{hours}:{minutes} left",[j.param('hours',p),j.param('minutes',q)]);};n.prototype.$PagesManagerCountDownTimer1=function(o){'use strict';return o?o-Date.now():0;};n.prototype.$PagesManagerCountDownTimer2=function(){'use strict';this.setState({isCountingDown:true});var o=(function(){var p=this.$PagesManagerCountDownTimer1(this.props.expireTimestamp);if(p>0){this.setState({timeRemaining:p});this.$PagesManagerCountDownTimer2();return;}this.setState({isCountingDown:false});this.props.onTimeup();}).bind(this);setTimeout(o,m);};n.prototype.$PagesManagerCountDownTimer4=function(o){'use strict';return ("0"+o).slice(-2);};n.defaultProps={isNewInbox:false};f.exports=n;},null);
__d('PagesManagerPerfLogger',['PagesManagerPerfTypedLogger','Set'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=1000;function k(){this.$PagesManagerPerfLogger1=new i();}k.prototype.log=function(l,m){var n=m.perfID+':'+l;if(this.$PagesManagerPerfLogger1.has(n))return;this.$PagesManagerPerfLogger1.add(n);var o=Date.now()/j-m.baseTime;new h().setPageID(m.pageID).setEventName(l).setEventSeriesID(m.perfID).setPerfTime(Math.round(o)).logVital();};f.exports=new k();},null);
__d('PagesManagerResizeListener',['EventEmitter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('AbstractPagesManagerListStore',['PagesManagerActionType','FluxStore','Map','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,i);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this,o);this.__hasMoreItem=new j();this.__isLoading=false;}n.prototype.__onDispatch=function(o){'use strict';switch(o.type){case h.LIST.FETCH:this.__handleListFetch(o);break;case h.LIST.FETCHED:case h.LIST.UPDATED:this.__emitChange();break;case h.LIST.LOADING:this.__isLoading=true;this.__emitChange();break;case h.NAVIGATION_UNIT.CHANGE:this.__handleNavigationUnitChange(o);break;default:return;}};n.prototype.__handleListFetch=function(o){'use strict';k(0);};n.prototype.__handleNavigationUnitChange=function(o){'use strict';k(0);};n.prototype.hasMoreItem=function(o){'use strict';return this.__hasMoreItem.get(o);};n.prototype.getItemList=function(o,p){'use strict';k(0);};n.prototype.isLoading=function(){'use strict';return this.__isLoading;};f.exports=n;},null);
__d("XPagesCustomTagsDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/custom_tags\/data\/",{});},null);
__d('PagesManagerMessagingCustomTagsStore',['ActorURI','AsyncRequest','PagesManagerMessagingActionType','PagesManagerMessagingThreadlistDispatcher','FluxStore','immutable','Map','XPagesCustomTagsDataController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,l);q=p&&p.prototype;function r(s){q.constructor.call(this,s);this.$PagesManagerMessagingCustomTagsStore1=new n();}r.prototype.hasCustomTags=function(s){return this.$PagesManagerMessagingCustomTagsStore1.has(s);};r.prototype.getCustomTags=function(s){return m.List(this.$PagesManagerMessagingCustomTagsStore1.get(s)||[]);};r.prototype.__onDispatch=function(s){switch(s.type){case j.CUSTOM_TAGS.FETCH:new i().setURI(h.create(o.getURIBuilder().getURI(),s.pageID)).setHandler((function(t){this.__dispatcher.dispatch({type:j.CUSTOM_TAGS.UPDATE,pageID:s.pageID,customTags:t.payload});}).bind(this)).send();break;case j.CUSTOM_TAGS.UPDATE:this.$PagesManagerMessagingCustomTagsStore1.set(s.pageID,s.customTags);this.__emitChange();break;default:break;}};f.exports=new r(k);},null);
__d('PagesManagerMessagingSearchStore',['PagesManagerMessagingActionType','PagesManagerMessagingThreadlistDispatcher','FluxStore','immutable','MercurySearchSnippetResults','MercurySearchThreadResults','MercurySearchThreadResultOrderer','MercurySearchThreadsStrategy','PageCustomTagSearchableEntry','PagesManagerMessagingThreadlistAction','emptyFunction','guid'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';t=babelHelpers.inherits(v,j);u=t&&t.prototype;function v(){u.constructor.call(this,i);this.$PagesManagerMessagingSearchStore1='';this.$PagesManagerMessagingSearchStore2=false;this.$PagesManagerMessagingSearchStore3=false;this.$PagesManagerMessagingSearchStore4=false;this.$PagesManagerMessagingSearchStore5=false;this.$PagesManagerMessagingSearchStore6=false;this.$PagesManagerMessagingSearchStore7='';this.$PagesManagerMessagingSearchStore8=[];this.$PagesManagerMessagingSearchStore9={};this.$PagesManagerMessagingSearchStore10=[];}v.prototype.getCurrentSearchTerm=function(){return this.$PagesManagerMessagingSearchStore1;};v.prototype.getIsInSearchMode=function(){return this.$PagesManagerMessagingSearchStore4;};v.prototype.getThreadNameSearchResults=function(){return this.$PagesManagerMessagingSearchStore8;};v.prototype.getThreadSnippetSearchResults=function(){return this.$PagesManagerMessagingSearchStore9;};v.prototype.getIsSearchingName=function(){return this.$PagesManagerMessagingSearchStore5;};v.prototype.getIsSearchingSnippet=function(){return this.$PagesManagerMessagingSearchStore6;};v.prototype.hasMoreNameSearchResult=function(){return this.$PagesManagerMessagingSearchStore2;};v.prototype.hasMoreSnippetSearchResult=function(){return this.$PagesManagerMessagingSearchStore3;};v.prototype.getCurrentSearchCustomTagEntries=function(){return k.List(this.$PagesManagerMessagingSearchStore10);};v.prototype.__onDispatch=function(w){switch(w.type){case h.SEARCH.CHANGE_SEARCH_TERM:this.$PagesManagerMessagingSearchStore1=w.searchTerm;if(this.$PagesManagerMessagingSearchStore1===''){this.$PagesManagerMessagingSearchStore8=[];this.$PagesManagerMessagingSearchStore4=false;}else{this.$PagesManagerMessagingSearchStore4=true;this.$PagesManagerMessagingSearchStore11(w.pageID,w.searchTerm,w.activeFolder);}this.__emitChange();break;case h.MESSAGE_SEARCH.NAME_SEARCH_CHANGE:this.$PagesManagerMessagingSearchStore5=w.isSearching;this.__emitChange();break;case h.MESSAGE_SEARCH.SNIPPET_SEARCH_CHANGE:this.$PagesManagerMessagingSearchStore6=w.isSearching;this.__emitChange();break;case h.MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT:this.$PagesManagerMessagingSearchStore12(w.pageID,w.searchTerm,w.activeFolder);this.__emitChange();break;case h.MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT:this.$PagesManagerMessagingSearchStore13(w.pageID,w.searchTerm,w.activeFolder);this.__emitChange();break;case h.SEARCH.ADD_SEARCH_CUSTOM_TAG:this.$PagesManagerMessagingSearchStore1='';this.$PagesManagerMessagingSearchStore10.push(w.customTagEntry);this.__emitChange();break;case h.SEARCH.REMOVE_SEARCH_CUSTOM_TAG:var x=w.customTagEntry.getUniqueID(),y=this.$PagesManagerMessagingSearchStore10,z=y.some(function(aa){if(aa.getUniqueID()===x)return true;});if(z)y.splice(y.indexOf(w.customTagEntry),1);this.__emitChange();break;}};v.prototype.$PagesManagerMessagingSearchStore11=function(w,x,y){var z=s();this.$PagesManagerMessagingSearchStore7=z;var aa=o.getForFBID(w),ba=l.getForFBID(w),ca=n.getForFBID(w);this.$PagesManagerMessagingSearchStore5=true;this.$PagesManagerMessagingSearchStore6=true;aa.search(x,(function(da){this.$PagesManagerMessagingSearchStore8=ca.filterThreadsInFolder(da,y);this.__emitChange();}).bind(this),(function(da,ea){if(z!==this.$PagesManagerMessagingSearchStore7)return;var fa=ca.filterThreadsInFolder(da,y);this.$PagesManagerMessagingSearchStore8=ca.orderResults(this.$PagesManagerMessagingSearchStore8,[],fa,y);this.$PagesManagerMessagingSearchStore2=!ea;if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore5=false;this.__emitChange();}else q.changeIsSearchingNameStatus(false);}).bind(this),r);ba.getAllThreadSearchResults(x,(function(da,ea,fa){this.$PagesManagerMessagingSearchStore9=this.$PagesManagerMessagingSearchStore14(ea,da,y);this.$PagesManagerMessagingSearchStore3=!fa;if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore6=false;this.__emitChange();}else q.changeIsSearchingSnippetStatus(false);}).bind(this,ca));this.__emitChange();};v.prototype.$PagesManagerMessagingSearchStore14=function(w,x,y){var z=Object.keys(w),aa=x.filterThreadsInFolder(z,y),ba={};aa.forEach(function(ca){ba[ca]=w[ca];});return ba;};v.prototype.$PagesManagerMessagingSearchStore12=function(w,x,y){var z=m.getForFBID(w),aa=n.getForFBID(w);this.$PagesManagerMessagingSearchStore5=true;z.getMoreThreadlist(x,(function(ba,ca){var da=aa.filterThreadsInFolder(ba,y);this.$PagesManagerMessagingSearchStore8=da;if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore5=false;this.__emitChange();}else q.changeIsSearchingNameStatus(false);}).bind(this));};v.prototype.$PagesManagerMessagingSearchStore13=function(w,x,y){var z=l.getForFBID(w),aa=n.getForFBID(w);z.getAllThreadSearchMoreResults(x,(function(ba,ca,da){this.$PagesManagerMessagingSearchStore3=!da;this.$PagesManagerMessagingSearchStore9=this.$PagesManagerMessagingSearchStore14(ca,ba,y);if(this.__dispatcher.isDispatching()){this.$PagesManagerMessagingSearchStore6=false;this.__emitChange();}else q.changeIsSearchingSnippetStatus(false);}).bind(this,aa));};f.exports=new v();},null);
__d('PagesManagerMessagingNavigationUnitKey',['MercuryFilters','MessagingTag','PageMessageEnumTag'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={FILTERS:{ALL:h.ALL,UNREAD:h.UNREAD,FLAGGED:j.FLAG},FOLDERS:{INBOX:i.INBOX,ARCHIVED:i.ACTION_ARCHIVED,SPAM:i.SPAM}};f.exports=k;},null);
__d('PagesManagerNavigationUnit',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$PagesManagerNavigationUnit1=j;}i.prototype.getDisplayTitle=function(){h(0);};i.prototype.getKey=function(){return this.$PagesManagerNavigationUnit1;};i.prototype.getNotificationCount=function(j,k){return 0;};f.exports=i;},null);
__d('PagesManagerMessagingAllNavigationUnit',['PagesManagerMessagingNavigationUnitKey','PagesManagerNavigationUnit','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,i);l=k&&k.prototype;function m(){l.constructor.call(this,h.FILTERS.ALL);}m.prototype.getDisplayTitle=function(){return j._("All");};f.exports=m;},null);
__d('PagesManagerMessagingFolderNavigationUnit',['immutable','PagesManagerMessagingNavigationUnitKey','PagesManagerNavigationUnit','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.List;l=babelHelpers.inherits(o,j);m=l&&l.prototype;o.prototype.getSupportedFilterKeys=function(){return n([i.FILTERS.ALL]);};o.prototype.assertSupportsFilter=function(p){!(this.getSupportedFilterKeys().indexOf(p.getKey())>=0)?k(0):undefined;};function o(){l.apply(this,arguments);}f.exports=o;},null);
__d('PagesManagerMessagingArchiveNavigationUnit',['PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){l.constructor.call(this,i.FOLDERS.ARCHIVED);}m.prototype.getDisplayTitle=function(){return j._("Archived");};f.exports=m;},null);
__d('PagesManagerMessagingFlaggedNavigationUnit',['PagesManagerNavigationUnit','PagesManagerMessagingNavigationUnitKey','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){l.constructor.call(this,i.FILTERS.FLAGGED);}m.prototype.getDisplayTitle=function(){return j._("Flagged");};f.exports=m;},null);
__d('PagesManagerMessagingUnreadCountHelper',['MercuryThreadlistConstants','MercuryUnreadState'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={getUnreadCount:function(k,l){var m=i.getForFBID(k),n=m.exceedsMaxCount(l);return n?h.MAX_UNREAD_COUNT:m.getUnreadCount(l);}};f.exports=j;},null);
__d('PagesManagerMessagingInboxNavigationUnit',['immutable','PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingUnreadCountHelper','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';var o=h.List;m=babelHelpers.inherits(p,i);n=m&&m.prototype;function p(){n.constructor.call(this,j.FOLDERS.INBOX);}p.prototype.getDisplayTitle=function(){return l._("Inbox");};p.prototype.getSupportedFilterKeys=function(){return o([j.FILTERS.ALL,j.FILTERS.UNREAD,j.FILTERS.FLAGGED]);};p.prototype.getNotificationCount=function(q,r){return k.getUnreadCount(q,this.getKey());};f.exports=p;},null);
__d('PagesManagerMessagingLogger',['MessagingTag','PagesEventObserver','PagesEventType','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='messages',m='inbox',n=':',o={logMessagesSectionViewEvent:function(p,q){var r=q||m,s=[];if(r.indexOf(':')){s=r.split(n);r=s[s.length-1];}i.notify(j.VIEW_MESSAGES,p,{section:l,subsection:r});},logPageViewFolderEvent:function(p,q,r){var event='';switch(q.getKey()){case h.INBOX:event=j.MESSAGES_VIEW_INBOX;break;case h.ACTION_ARCHIVED:event=j.MESSAGES_VIEW_ARCHIVED;break;case h.SPAM:event=j.MESSAGES_VIEW_SPAM;break;default:k(0);}i.notify(event,p,{source:r});}};f.exports=o;},null);
__d('PagesManagerMessagingSpamNavigationUnit',['PagesManagerMessagingFolderNavigationUnit','PagesManagerMessagingNavigationUnitKey','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){l.constructor.call(this,i.FOLDERS.SPAM);}m.prototype.getDisplayTitle=function(){return j._("Spam");};f.exports=m;},null);
__d('PagesManagerMessagingUnreadNavigationUnit',['PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingUnreadCountHelper','PagesManagerNavigationUnit','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,j);m=l&&l.prototype;function n(){m.constructor.call(this,h.FILTERS.UNREAD);}n.prototype.getDisplayTitle=function(){return k._("Unread");};n.prototype.getNotificationCount=function(o,p){if(p.activeFolder.getKey()!==h.FOLDERS.INBOX)return 0;return i.getUnreadCount(o,p.activeFolder.getKey());};f.exports=n;},null);
__d('PagesManagerMessagingSearchView.react',['AbstractTextInput.react','AbstractTokenizer.react','PagesManagerMessagingFilterStore','Image.react','immutable','PageCustomTagSearchableEntry','PageCustomTagSearchSource','PageCustomTagTypeaheadPresenter.react','React','PagesManagerMessagingThreadlistAction','XUICloseButton.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;'use strict';v=babelHelpers.inherits(x,p.Component);w=v&&v.prototype;function x(y,z){w.constructor.call(this,y,z);this.$PagesManagerMessagingSearchView1=(function(aa){q.changeSearchTerm(this.props.pageID,aa.target.value,j.getActiveFolderName());}).bind(this);this.$PagesManagerMessagingSearchView2=(function(){q.resetSearch(this.props.pageID);}).bind(this);this.$PagesManagerMessagingSearchView3=(function(aa){if(aa.key==='Escape')q.resetSearch(this.props.pageID);}).bind(this);this.$PagesManagerMessagingSearchView4=(function(aa){q.addSearchCustomTag(this.props.pageID,aa);}).bind(this);this.$PagesManagerMessagingSearchView5=(function(aa){q.removeSearchCustomTag(this.props.pageID,aa);}).bind(this);}x.prototype.$PagesManagerMessagingSearchView6=function(){var y=t._("Search messages...");if(!this.props.enableTagSearch||this.props.customTagSearchSource.count()===0){return (p.createElement('span',null,p.createElement(h,{className:"_5ptj",onChange:this.$PagesManagerMessagingSearchView1,onKeyDown:this.$PagesManagerMessagingSearchView3,placeholder:y,value:this.props.initSearchTerm}),p.createElement(r,{className:"_3i2o",onClick:this.$PagesManagerMessagingSearchView2,size:'medium'})));}else return (p.createElement(i,{className:"_5ptj",autoHighlight:false,entries:this.props.currentSearchCustomTagEntries.toArray(),onAddEntryAttempt:this.$PagesManagerMessagingSearchView4,onChange:this.$PagesManagerMessagingSearchView1,onRemoveEntryAttempt:this.$PagesManagerMessagingSearchView5,placeholder:y,presenter:o,value:this.props.initSearchTerm,searchSource:n.getInstance(this.props.customTagSearchSource.toArray(),false),showEntriesOnFocus:true}));};x.prototype.render=function(){return (p.createElement('div',{className:"_3i2n"},p.createElement(k,{className:"_5pti",src:u('/images/browse/search/search-gray.png')}),this.$PagesManagerMessagingSearchView6()));};f.exports=x;},null);
__d('PagesManagerMessagingSearchContainer.react',['FluxContainer','immutable','PageCustomTagSearchableEntry','PagesManagerMessagingCustomTagsStore','PagesManagerMessagingSearchStore','PagesManagerMessagingSearchView.react','PagesManagerMessagingThreadlistAction','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,o.Component);q=p&&p.prototype;function r(s,t){q.constructor.call(this,s,t);}r.getStores=function(){return [k,l];};r.prototype.componentWillMount=function(){if(this.props.enableTagSearch&&!k.hasCustomTags(this.props.pageID))n.fetchCustomTags(this.props.pageID);};r.calculateState=function(s,t){return {currentSearchCustomTagEntries:l.getCurrentSearchCustomTagEntries(),currentSearchTerm:l.getCurrentSearchTerm(),isSearchActive:l.getIsInSearchMode(),customTagSearchSource:k.getCustomTags(t.pageID)};};r.prototype.render=function(){return (o.createElement(m,{enableTagSearch:this.props.enableTagSearch,initSearchTerm:this.state.currentSearchTerm,isSearchActive:this.state.isSearchActive,pageID:this.props.pageID,customTagSearchSource:this.state.customTagSearchSource,currentSearchCustomTagEntries:this.state.currentSearchCustomTagEntries}));};f.exports=h.create(r,{withProps:true});},null);
__d('PagesManagerMessagingNotificationCountSubscriber',['Map','MercuryThreadInformer','PagesManagerMessagingFilterActions'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={_pageIDTokenMap:new h(),enableRealtimeNotificationCountUpdates:function(l){var m=k._pageIDTokenMap;if(m.has(l))return;var n=i.getForFBID(l),o=n.subscribe('unread-updated',function(p,q){j.notifyNotificationCountChanged(l);});m.set(l,o);},disableRealtimeNotificationCountUpdates:function(l){var m=k._pageIDTokenMap;if(!m.has(l))return;var n=m.get(l);i.getForFBID(l).unsubscribe(n);m['delete'](n);}};f.exports=k;},null);
__d('PagesManagerMessagingAwayStatusDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerAwayToggleAction',['PagesManagerMessagingActionType','PagesManagerMessagingAwayStatusDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={fetchStatus:function(k){i.dispatch({pageID:k,type:h.AWAY_STATE.FETCH});},setToggleStatus:function(k,l){i.dispatch({pageID:k,toggle:l,type:h.AWAY_STATE.SET});}};f.exports=j;},null);
__d('PagesManagerMessagingComposerActions',['PagesManagerMessagingComposerActionTypes','PagesManagerMessagingComposerDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={clearMessage:function(){i.dispatch({actionType:h.MESSAGE.CLEAR});},clearShareLinkUploader:function(){i.dispatch({actionType:h.SHARE_UPLOADER.CLEAR});},completeAllAttachments:function(){i.dispatch({actionType:h.ATTACHMENT.ALL_COMPLETE});},completeAttachment:function(k){i.dispatch({actionType:h.ATTACHMENT.ATTACH_COMPLETE,attachment:k});},detachAllAttachments:function(){i.dispatch({actionType:h.ATTACHMENT.DETACH_ALL});},detachAttachment:function(k){i.dispatch({actionType:h.ATTACHMENT.DETACH,uploadID:k});},fileUploaderReady:function(k){i.dispatch({actionType:h.UPLOADER.READY,uploader:k});},setIsSavedRepliesLoading:function(k){i.dispatch({actionType:h.SAVED_REPLIES.LOADING,isLoading:k});},setMessage:function(k){i.dispatch({actionType:h.MESSAGE.SET,message:k});},setParticipant:function(k){i.dispatch({actionType:h.PARTICIPANT.SET,participant:k});},setSavedReplies:function(k,l){i.dispatch({actionType:h.SAVED_REPLIES.SET,replies:k,tokens:l});},setShareLinkUploader:function(k){i.dispatch({actionType:h.SHARE_UPLOADER.READY,uploader:k});},startAttachment:function(k){i.dispatch({actionType:h.ATTACHMENT.ATTACH_START,files:k});}};f.exports=j;},null);
__d('PagesManagerMessagingNUXActionTypes',['keyMirrorRecursive'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({RESET_STEP:'',SET_IS_VISIBLE:'',SET_ROOT_ELEMENT:'',SET_STEP:'',SET_SHOULD_SHOW_BANNER:'',SET_SHOULD_SHOW_CONTEXT_CARD_STEP:'',SET_DEPENDENCY_READY:{COMPOSER:'',CONTEXT_CARD:'',THREADLIST:''}});f.exports=i;},null);
__d('PagesManagerMessagingNUXDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerMessagingNUXActions',['PagesManagerMessagingNUXActionTypes','PagesManagerMessagingNUXDispatcher','PagesManagerMessagingMessagelistDispatcher','PagesManagerMessagingActionType'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={resetStep:function(){i.dispatch({actionType:h.RESET_STEP});},setComposerReady:function(){i.dispatch({actionType:h.SET_DEPENDENCY_READY.COMPOSER});},setContextCardReady:function(){i.dispatch({actionType:h.SET_DEPENDENCY_READY.CONTEXT_CARD});},setThreadlistReady:function(){i.dispatch({actionType:h.SET_DEPENDENCY_READY.THREADLIST});},setIsVisible:function(m){i.dispatch({actionType:h.SET_IS_VISIBLE,isVisible:m});},setRootElement:function(m){i.dispatch({actionType:h.SET_ROOT_ELEMENT,rootElement:m});},setStep:function(m){i.dispatch({actionType:h.SET_STEP,step:m});},setShouldShowBanner:function(m){i.dispatch({actionType:h.SET_SHOULD_SHOW_BANNER,shouldShow:m});},setShouldShowContextCardStep:function(m){i.dispatch({actionType:h.SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:m});},showContextCard:function(){j.dispatch({type:k.SET_IS_CONTEXT_CARD_HIDDEN,isHidden:false});}};f.exports=l;},null);
__d("XPagesContextCardSetIsHiddenController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/customer\/context_card\/set_is_hidden\/",{});},null);
__d('PagesManagerMessagingThreadInteractionHelper',['MercuryPageThreadActions','MercuryThreadIDMap','MercuryThreads','MessagingTag','PagesManagerMessagingMessagelistStore','PagesManagerStore','PagesMessagingActionPlacement','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p={_getPermalinkURI:function(q,r){var s=i.getForFBID(r).getServerIDFromClientIDNow(q),t=o.getRequestURI(),u=j.getForFBID(r).getThreadMetaNow(q);t.addQueryData({threadid:s,mercurythreadid:q,timestamp:u?u.timestamp:null});return t;},_clearURLParam:function(){var q=o.getRequestURI();q.removeQueryData('mercurythreadid');q.removeQueryData('threadid');q.removeQueryData('timestamp');window.history.replaceState({},null,q);},handlePermalinkUpdate:function(q,r){if(!q){this._clearURLParam();return;}var s=p._getPermalinkURI(q,r);window.history.replaceState({},null,s);},handleUnreadStateUpdate:function(q,r,s){var t=m.getViewingListItem();if(!t)return;var u=j.getForFBID(r).getThreadMetaNow(t.toString()),v=l.getMessagelist(r,t.toString()),w=h.getForFBID(r);if(u&&u.unread_count>0||v.length>0)if(s===k.UNREAD&&q!==t){w.markRead(t,n.MESSAGE_DIALOG_SHOWN);}else if(s!==k.UNREAD)w.markRead(q,n.MESSAGE_DIALOG_SHOWN);}};f.exports=p;},null);
__d("XPagesAwayToggleController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/manager\/messages\/awaytoggle\/",{});},null);
__d("XPagesAwayToggleStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/manager\/messages\/awaytoggle\/status\/",{});},null);
__d('PagesManagerMessagingAwayStatusStore',['ActorURI','AsyncRequest','PagesManagerMessagingActionType','FluxStore','PagesManagerMessagingAwayStatusDispatcher','XPagesAwayToggleController','XPagesAwayToggleStatusController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';o=babelHelpers.inherits(q,k);p=o&&o.prototype;function q(r){p.constructor.call(this,r);this.$PagesManagerMessagingAwayStatusStore1=false;this.$PagesManagerMessagingAwayStatusStore2=false;this.$PagesManagerMessagingAwayStatusStore3=0;}q.prototype.$PagesManagerMessagingAwayStatusStore4=function(r){var s=n.getURIBuilder().getURI();s=h.create(s,r);new i().setURI(s).setHandler((function(t){this.$PagesManagerMessagingAwayStatusStore1=t.payload.isAway;this.$PagesManagerMessagingAwayStatusStore3=t.payload.expiration;this.$PagesManagerMessagingAwayStatusStore2=true;this.__dispatcher.dispatch({type:j.AWAY_STATE.UPDATE});}).bind(this)).send();};q.prototype.$PagesManagerMessagingAwayStatusStore5=function(r,s){var t=m.getURIBuilder().getURI();t=h.create(t,r);new i().setURI(t).setMethod('POST').setData({is_away:s}).setHandler((function(u){this.$PagesManagerMessagingAwayStatusStore1=u.payload.isAway;this.$PagesManagerMessagingAwayStatusStore3=u.payload.expiration;this.__dispatcher.dispatch({type:j.AWAY_STATE.UPDATE});}).bind(this)).send();};q.prototype.__onDispatch=function(r){switch(r.type){case j.AWAY_STATE.SET:this.$PagesManagerMessagingAwayStatusStore5(r.pageID,r.toggle);break;case j.AWAY_STATE.FETCH:this.$PagesManagerMessagingAwayStatusStore4(r.pageID);break;case j.AWAY_STATE.UPDATE:this.__emitChange();break;default:break;}};q.prototype.isAway=function(){return this.$PagesManagerMessagingAwayStatusStore1;};q.prototype.isInitialized=function(){return this.$PagesManagerMessagingAwayStatusStore2;};q.prototype.getExpirationTimestamp=function(){return this.$PagesManagerMessagingAwayStatusStore3;};f.exports=new q(l);},null);
__d('PagesManagerAwayContainer.react',['PagesManagerMessagingAwayStatusStore','PagesManagerAwayToggleAction','FluxContainer','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,k.Component);m=l&&l.prototype;n.getStores=function(){'use strict';return [h];};n.calculateState=function(o,p){'use strict';return {isAway:h.isAway(),isInitialized:h.isInitialized(),expirationTimestamp:h.getExpirationTimestamp()};};n.prototype.componentWillMount=function(){'use strict';i.fetchStatus(this.props.pageID);};n.prototype.render=function(){'use strict';var o=this.props,p=o.RenderClass,q=babelHelpers.objectWithoutProperties(o,['RenderClass']);return (k.createElement(p,babelHelpers._extends({},q,this.state)));};function n(){'use strict';l.apply(this,arguments);}f.exports=j.create(n,{withProps:true});},null);
__d("XPagesManagerMessagingTutorialController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/manager\/messaging\/tutorial\/",{});},null);
__d('PagesManagerMessagingNuxBanner.react',['ActorURI','AsyncRequest','LeftRight.react','PagesManagerMessagingNUXActions','React','XPagesManagerMessagingTutorialController','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,l.Component);q=p&&p.prototype;function r(s,t){q.constructor.call(this,s,t);this.$PagesManagerMessagingNuxBanner1=(function(){k.setShouldShowBanner(false);this.$PagesManagerMessagingNuxBanner2('REMIND_LATER');}).bind(this);this.$PagesManagerMessagingNuxBanner3=(function(){k.setIsVisible(true);this.$PagesManagerMessagingNuxBanner2('SHOW_TUTORIAL');}).bind(this);}r.prototype.render=function(){return (l.createElement(j,{className:"_3az9"},l.createElement('div',{className:"_3aze"},o._("{=meet your new inbox} We've made it easier to connect with the people who like your Page.",[o.param('=meet your new inbox',l.createElement('span',{className:"_3azg"},o._("Meet your new Inbox.")))])),l.createElement('div',{className:"_3azh"},l.createElement('div',{className:"_3aze _3azi",onClick:this.$PagesManagerMessagingNuxBanner1},o._("Remind Me Later")),l.createElement('div',{className:"_3aze _3azg _3azi",onClick:this.$PagesManagerMessagingNuxBanner3},o._("Start Tour")))));};r.prototype.$PagesManagerMessagingNuxBanner2=function(s){var t=h.create(m.getURIBuilder().getURI(),this.props.pageID);new i().setURI(t).setMethod('POST').setData({action:s}).send();};f.exports=r;},null);
__d('PagesManagerMessagingNUXInboxTour.react',['DOMQuery','NuxTour.react','NuxTourContextualStep.react','React','csx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';var p=k.PropTypes,q=321;n=babelHelpers.inherits(r,k.Component);o=n&&n.prototype;function r(s){o.constructor.call(this,s);}r.prototype.$PagesManagerMessagingNUXInboxTour1=function(s,t,u){return {context:h.find(this.props.rootElement,s),focusContext:true,isContextual:true,position:u,render:t};};r.prototype.$PagesManagerMessagingNUXInboxTour2=function(){var s=[null,this.$PagesManagerMessagingNUXInboxTour1("._14vf",this.$PagesManagerMessagingNUXInboxTour3,'right'),this.$PagesManagerMessagingNUXInboxTour1(".__1d",this.$PagesManagerMessagingNUXInboxTour4,'left')];if(this.props.shouldShowContextCardStep)s.push(this.$PagesManagerMessagingNUXInboxTour1("._2utd",this.$PagesManagerMessagingNUXInboxTour5,'left'));return s;};r.prototype.$PagesManagerMessagingNUXInboxTour4=function(){var s=m._("More Intuitive Responding"),t=m._("Compose messages, share attachments and interact with people from a single, familiar place alongside conversations.");return (k.createElement(j,{showCloseButton:false,title:s},t));};r.prototype.$PagesManagerMessagingNUXInboxTour5=function(){var s=m._("Know More About Who You're Messaging"),t=m._("To help you have more personalized conversations, we've put all the basic information about who you're talking to next to the thread.");return (k.createElement(j,{showCloseButton:false,title:s},t));};r.prototype.$PagesManagerMessagingNUXInboxTour3=function(){var s=m._("Single, Organized View"),t=m._("We've made managing conversations simpler. Now you can flag conversations to follow up later and quickly see the ones that need your attention.");return (k.createElement(j,{showCloseButton:false,title:s},t));};r.prototype.render=function(){return (k.createElement(i,{contextualWidth:q,initialStep:this.props.initialStep||1,onHide:this.props.onHide,onCompleted:this.props.onCompleted,onNotNowClicked:this.props.onNotNow,steps:this.$PagesManagerMessagingNUXInboxTour2(),visible:true}));};r.propTypes={initialStep:p.number,onCompleted:p.func,onHide:p.func.isRequired,onNotNow:p.func,onStepChange:p.func,rootElement:p.object.isRequired};f.exports=r;},null);
__d('PagesManagerMessagingNUXStore',['PagesManagerMessagingNUXActionTypes','FluxStore','PagesManagerMessagingNUXDispatcher'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';var m=1;k=babelHelpers.inherits(n,i);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$PagesManagerMessagingNUXStore1={composer:false,contextcard:false,threadlist:false};this.$PagesManagerMessagingNUXStore2=false;this.$PagesManagerMessagingNUXStore3=false;this.$PagesManagerMessagingNUXStore4=false;this.$PagesManagerMessagingNUXStore5=m;}n.prototype.getAreDependenciesReady=function(){return (this.$PagesManagerMessagingNUXStore1.composer&&(!this.$PagesManagerMessagingNUXStore4||this.$PagesManagerMessagingNUXStore4&&this.$PagesManagerMessagingNUXStore1.contextcard)&&this.$PagesManagerMessagingNUXStore1.threadlist);};n.prototype.getIsVisible=function(){return this.$PagesManagerMessagingNUXStore2;};n.prototype.getTourStep=function(){return this.$PagesManagerMessagingNUXStore5;};n.prototype.getShouldShowBanner=function(){return this.$PagesManagerMessagingNUXStore3;};n.prototype.__onDispatch=function(o){switch(o.actionType){case h.RESET_STEP:this.$PagesManagerMessagingNUXStore6();this.__emitChange();break;case h.SET_STEP:this.$PagesManagerMessagingNUXStore7(o.step);break;case h.SET_IS_VISIBLE:this.$PagesManagerMessagingNUXStore8(o.isVisible);this.__emitChange();break;case h.SET_SHOULD_SHOW_BANNER:this.$PagesManagerMessagingNUXStore9(o.shouldShow);this.__emitChange();break;case h.SET_SHOULD_SHOW_CONTEXT_CARD_STEP:this.$PagesManagerMessagingNUXStore10(o.shouldShow);this.__emitChange();break;case h.SET_DEPENDENCY_READY.COMPOSER:if(!this.$PagesManagerMessagingNUXStore1.composer){this.$PagesManagerMessagingNUXStore11();this.__emitChange();}break;case h.SET_DEPENDENCY_READY.CONTEXT_CARD:if(!this.$PagesManagerMessagingNUXStore1.contextcard){this.$PagesManagerMessagingNUXStore12();this.__emitChange();}break;case h.SET_DEPENDENCY_READY.THREADLIST:if(!this.$PagesManagerMessagingNUXStore1.threadlist){this.$PagesManagerMessagingNUXStore13();this.__emitChange();}break;}};n.prototype.$PagesManagerMessagingNUXStore6=function(){this.$PagesManagerMessagingNUXStore5=m;};n.prototype.$PagesManagerMessagingNUXStore11=function(){this.$PagesManagerMessagingNUXStore1.composer=true;};n.prototype.$PagesManagerMessagingNUXStore12=function(){this.$PagesManagerMessagingNUXStore1.contextcard=true;};n.prototype.$PagesManagerMessagingNUXStore13=function(){this.$PagesManagerMessagingNUXStore1.threadlist=true;};n.prototype.$PagesManagerMessagingNUXStore7=function(o){this.$PagesManagerMessagingNUXStore5=o;};n.prototype.$PagesManagerMessagingNUXStore8=function(o){this.$PagesManagerMessagingNUXStore2=o;};n.prototype.$PagesManagerMessagingNUXStore9=function(o){this.$PagesManagerMessagingNUXStore3=o;};n.prototype.$PagesManagerMessagingNUXStore10=function(o){this.$PagesManagerMessagingNUXStore4=o;};f.exports=new n(j);},null);
__d('PagesManagerMessagingNUXInboxTourContainer.react',['FluxContainer','PagesManagerMessagingNUXActions','PagesManagerMessagingNuxBanner.react','PagesManagerMessagingNUXInboxTour.react','PagesManagerMessagingNUXStore','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';n=babelHelpers.inherits(p,m.Component);o=n&&n.prototype;function p(q){o.constructor.call(this,q);this.$PagesManagerMessagingNUXInboxTourContainer1=this.$PagesManagerMessagingNUXInboxTourContainer1.bind(this);this.$PagesManagerMessagingNUXInboxTourContainer2=this.$PagesManagerMessagingNUXInboxTourContainer2.bind(this);}p.getStores=function(){return [l];};p.calculateState=function(q,r){var s=l.getIsVisible();if(s&&q&&q.isTourVisible===false)i.showContextCard();return {areDependenciesReady:l.getAreDependenciesReady(),currentStep:l.getTourStep(),isTourVisible:s,shouldShowBanner:l.getShouldShowBanner()};};p.prototype.componentWillMount=function(){i.setShouldShowContextCardStep(this.props.shouldShowContextCardStep);};p.prototype.$PagesManagerMessagingNUXInboxTourContainer3=function(){i.setIsVisible(false);};p.prototype.$PagesManagerMessagingNUXInboxTourContainer2=function(){i.setIsVisible(false);i.setShouldShowBanner(false);};p.prototype.$PagesManagerMessagingNUXInboxTourContainer1=function(){i.setIsVisible(!this.state.isTourVisible);i.resetStep();};p.prototype.$PagesManagerMessagingNUXInboxTourContainer4=function(q){i.setStep(q);};p.prototype.render=function(){return (m.createElement('div',null,this.state.shouldShowBanner&&this.state.areDependenciesReady?m.createElement(j,null):null,this.state.isTourVisible?m.createElement(k,{onHide:this.$PagesManagerMessagingNUXInboxTourContainer2,rootElement:this.props.rootElement,shouldShowContextCardStep:this.props.shouldShowContextCardStep,step:this.state.currentStep}):null));};p.propTypes={};f.exports=h.create(p,{withProps:true});},null);
__d('PagesManagerMessagingNoteComposerView.react',['Image.react','PagesMessengerTextInput.react','React','XUIButton.react','cx','fbt','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=j.PropTypes;o=babelHelpers.inherits(r,j.Component);p=o&&o.prototype;function r(s){p.constructor.call(this,s);this.state={isQuickReplyMode:true};}r.prototype.$PagesManagerMessagingNoteComposerView1=function(s){s.preventDefault();this.props.onCreateNote();};r.prototype.$PagesManagerMessagingNoteComposerView2=function(){var s=m._("Cancel");return (j.createElement('div',{className:"_1vgy"},j.createElement(k,{label:s,onClick:this.props.onCancelCreateNote})));};r.prototype.$PagesManagerMessagingNoteComposerView3=function(){var s=m._("Add");if(this.props.message.length>0)return (j.createElement('div',{className:"_1vgz"},j.createElement(k,{label:s,onClick:(function(t){return this.$PagesManagerMessagingNoteComposerView1(t);}).bind(this),use:'confirm'})));};r.prototype.$PagesManagerMessagingNoteComposerView4=function(){var s=m._("Add an admin note...");return (j.createElement('div',{className:"_4dv-"},j.createElement(i,{className:"_1p7p"+(' '+"_5id1")+(n(this.props.message)?' '+"_3197":'')+(' '+"_1vg-"),onNoShiftEnter:this.state.isQuickReplyMode?(function(t){return this.$PagesManagerMessagingNoteComposerView1(t);}).bind(this):null,placeholder:s,onChange:this.props.onInputChange,value:this.props.message,ref:'textInput'})));};r.prototype.$PagesManagerMessagingNoteComposerView5=function(){return (j.createElement('div',{className:"_4dw0"},j.createElement(h,{className:"_1cjc",src:this.props.participant.image_src})));};r.prototype.render=function(){if(!this.props.participant)return j.createElement('div',{className:"_1vg_"});return (j.createElement('div',{className:"_1vh0"},j.createElement('div',{className:"_1vh1"},this.$PagesManagerMessagingNoteComposerView5(),this.$PagesManagerMessagingNoteComposerView4(),j.createElement('div',{className:"_4dwa"},this.$PagesManagerMessagingNoteComposerView2(),this.$PagesManagerMessagingNoteComposerView3()))));};r.propTypes={onInputChange:q.func,onCancelCreateNote:q.func,onCreateNote:q.func,participant:q.object};f.exports=r;},null);
__d('PagesManagerMessagingNoteComposerContainer.react',['MercuryIDs','MercuryMessageIDs','MercuryMessages','MercuryPageMessageActions','MercuryParticipants','PagesManagerMessagingNoteComposerView.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=n.PropTypes;o=babelHelpers.inherits(r,n.Component);p=o&&o.prototype;function r(s,t){p.constructor.call(this,s,t);this.state={message:'',participant:null};}r.prototype.$PagesManagerMessagingNoteComposerContainer1=function(){this.setState({message:''});};r.prototype.componentWillMount=function(){this.$PagesManagerMessagingNoteComposerContainer2(this.props);};r.prototype.componentWillReceiveProps=function(s){this.$PagesManagerMessagingNoteComposerContainer3(s.userID);this.$PagesManagerMessagingNoteComposerContainer2(s);if(s.threadID!==this.props.threadID)this.$PagesManagerMessagingNoteComposerContainer1();if(s.userID!==this.props.userID)this.$PagesManagerMessagingNoteComposerContainer3(s.userID);};r.prototype.componentDidMount=function(){setTimeout((function(){return this.$PagesManagerMessagingNoteComposerContainer3(this.props.userID);}).bind(this),0);};r.prototype.componentWillUpdate=function(s,t){if(this.props.onMessageOrAttachmentUpdate&&t.message!==this.state.message)this.props.onMessageOrAttachmentUpdate();};r.prototype.$PagesManagerMessagingNoteComposerContainer2=function(s){var t=s.userID;this.$PagesManagerMessagingNoteComposerContainer4=k.getForFBID(t);this.$PagesManagerMessagingNoteComposerContainer5=j.getForFBID(t);};r.prototype.$PagesManagerMessagingNoteComposerContainer6=function(s){var t=s.target;this.setState({message:t.value});};r.prototype.$PagesManagerMessagingNoteComposerContainer7=function(){if(!this.props.threadID)return;var s=this.props.creatorInfo?{creatorID:this.props.creatorInfo.creatorID,creatorType:this.props.creatorInfo.creatorType,creatorName:this.props.creatorInfo.creatorName,labelType:'page_admin_note',pageID:this.props.creatorInfo.pageID,profileURI:this.props.creatorInfo.profileURI}:null,t={id:null,body:this.state.message,creator_info:s,timestamp:Math.floor(Date.now()/1000)};this.$PagesManagerMessagingNoteComposerContainer5.getThreadMessagesRange(this.props.threadID,0,1,(function(u){if(!u.length)return;var v=u[0];if(this.$PagesManagerMessagingNoteComposerContainer5.isLocalMessage(v)){i.getServerIDs([v.message_id],(function(w){if(w.length){var x=w[0];this.$PagesManagerMessagingNoteComposerContainer4.createNote(t,this.props.threadID,x);}}).bind(this));}else this.$PagesManagerMessagingNoteComposerContainer4.createNote(t,this.props.threadID,v.message_id);}).bind(this));this.$PagesManagerMessagingNoteComposerContainer1();this.props.onDisablePageAdminNoteMode();};r.prototype.$PagesManagerMessagingNoteComposerContainer8=function(){this.$PagesManagerMessagingNoteComposerContainer1();this.props.onDisablePageAdminNoteMode();};r.prototype.$PagesManagerMessagingNoteComposerContainer3=function(s){var t=h.getParticipantIDFromUserID(s);l.get(t,(function(u){this.setState({participant:u});}).bind(this));};r.prototype.render=function(){return (n.createElement(m,babelHelpers._extends({},this.props,this.state,{onInputChange:(function(s){return this.$PagesManagerMessagingNoteComposerContainer6(s);}).bind(this),onCreateNote:(function(){return this.$PagesManagerMessagingNoteComposerContainer7();}).bind(this),onCancelCreateNote:(function(){return this.$PagesManagerMessagingNoteComposerContainer8();}).bind(this)})));};r.propTypes={creatorInfo:q.object,onDisablePageAdminNoteMode:q.func.isRequired,onMessageOrAttachmentUpdate:q.func,threadID:q.string,userID:q.string.isRequired};f.exports=r;},null);
__d('MercuryPageThreadTitle.react',['DOM','MercuryMessageRenderer','MercuryThreadTitle.react','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,j);n=m&&m.prototype;o.prototype.render=function(){return (k.createElement('div',{className:this.props.className},k.createElement('span',{ref:'title'})));};o.prototype.componentDidUpdate=function(){var p=this.props.thread.name?this.$MercuryPageThreadTitle1():this.state.participantNames;if(this.props.useHighlightTitle){var q=p.search(this.props.highlightText),r={};r[q]=this.props.highlightText;p=i.formatMessageBody(p,r);}h.setContent(l.findDOMNode(this.refs.title),p);};function o(){m.apply(this,arguments);}o.defaultProps={isNewThread:false,showUnreadCount:false,useShortName:false,useAndSeparator:false};f.exports=o;},null);
__d('PagesManagerAwayBanner.react',['PagesManagerAwayToggleAction','Image.react','LeftRight.react','Link.react','PagesManagerResizeListener','PagesManagerCountDownTimer.react','React','XUIText.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t,u='/help/800788243369168';s=babelHelpers.inherits(v,n.Component);t=s&&s.prototype;v.prototype.$PagesManagerAwayBanner1=function(){'use strict';h.setToggleStatus(this.props.pageID,false);};v.prototype.componentDidUpdate=function(w){'use strict';if(w.isAway!==this.props.isAway)l.emit('change');};v.prototype.renderLeftChild=function(){'use strict';var w=this.props.expirationTimestamp*1000;return (n.createElement('div',null,n.createElement(i,{className:"_2fei",src:r('images/pages/pages_manager/messages/clock.png')}),n.createElement(o,{className:"_2fek",size:'small',display:'inline'},q._("Currently Away"),n.createElement('div',{className:"_2fel"},n.createElement(m,{expireTimestamp:w,isHidden:!this.props.isAway,isNewInbox:true,onTimeup:(function(){return this.$PagesManagerAwayBanner1();}).bind(this)})))));};v.prototype.renderRightChild=function(){'use strict';return (n.createElement('div',null,n.createElement(k,{className:"_2fem",href:u,target:'_blank'},q._("Learn More")),n.createElement(o,{className:"_2fen",onClick:(function(){h.setToggleStatus(this.props.pageID,false);}).bind(this)},q._("Turn Off"))));};v.prototype.render=function(){'use strict';if(!this.props.isInitialized)return n.createElement('div',null);return (n.createElement(j,{className:"_2feo"+(!this.props.isAway?' '+"hidden_elem":'')},this.renderLeftChild(),this.renderRightChild()));};function v(){'use strict';s.apply(this,arguments);}f.exports=v;},null);
__d('PagesManagerMessagingBatchActionMenu.react',['MercuryPageThreadActions','PagesManagerAction','PagesManagerMessagingMessagelistAction','PagesMessengerActions','PagesMessagingActionPlacement','PopoverMenu.react','React','SimpleXUIDialog','ReactXUIMenu','XUIDialogButton.react','XUIDialogCancelButton.react','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w,x=p.Item;v=babelHelpers.inherits(y,n.Component);w=v&&v.prototype;function y(z){'use strict';w.constructor.call(this,z);this.$PagesManagerMessagingBatchActionMenu1=h.getForFBID(z.pageID);}y.prototype.$PagesManagerMessagingBatchActionMenu2=function(event,z){'use strict';var aa=z.item.getValue(),ba=null;switch(aa){case k.FLAG:ba=this.$PagesManagerMessagingBatchActionMenu1.batchAddFlag;break;case k.UNFLAG:ba=this.$PagesManagerMessagingBatchActionMenu1.batchRemoveFlag;break;case k.MARK_AS_SPAM:ba=this.$PagesManagerMessagingBatchActionMenu1.batchMarkSpam;break;case k.MARK_AS_UNSPAM:ba=this.$PagesManagerMessagingBatchActionMenu1.batchUnmarkSpam;break;case k.MARK_AS_READ:ba=this.$PagesManagerMessagingBatchActionMenu1.batchMarkRead;break;case k.MARK_AS_UNREAD:ba=this.$PagesManagerMessagingBatchActionMenu1.batchMarkUnread;break;case k.ARCHIVE:ba=this.$PagesManagerMessagingBatchActionMenu1.batchArchive;break;case k.UNARCHIVE:ba=this.$PagesManagerMessagingBatchActionMenu1.batchUnarchive;break;case k.DELETE_THREAD:this.$PagesManagerMessagingBatchActionMenu3();return;case k.HIDE_CONTEXT_CARD:this.$PagesManagerMessagingBatchActionMenu4();return;case k.SHOW_CONTEXT_CARD:this.$PagesManagerMessagingBatchActionMenu5();return;default:u(0);}if(ba)ba.call(this.$PagesManagerMessagingBatchActionMenu1,this.props.selectedRows,this.props.placement);i.deselectAll();this.props.onSelectionClear&&this.props.onSelectionClear();};y.prototype.$PagesManagerMessagingBatchActionMenu3=function(){'use strict';var z=this.props.selectedRows.length,aa=t._("Delete Messages"),ba=t._("Are you sure you want to delete {number of messages}?",[t.param('number of messages',n.createElement('span',{className:"_50f7"},t._({"*":{"message":"{number of messages} message","messages":"{number of messages} messages"}},[t.param('number of messages',z,[0]),t['enum'](z>1?'messages':'message',{message:'message',messages:'messages'})])))]),ca=t._("Delete Messages"),da=[n.createElement(r,null),n.createElement(q,{action:'cancel',label:ca,onClick:(function(){this.$PagesManagerMessagingBatchActionMenu1.batchDelete(this.props.selectedRows,l.THREAD_LIST_BATCH_ACTION);}).bind(this),use:'confirm'})];o.showEx(ba,aa,da);};y.prototype.$PagesManagerMessagingBatchActionMenu4=function(){'use strict';j.setIsContextCardHidden(true);};y.prototype.$PagesManagerMessagingBatchActionMenu5=function(){'use strict';j.setIsContextCardHidden(false);};y.prototype.renderMenu=function(){'use strict';return (n.createElement(p,{onItemClick:(function(event,z){return this.$PagesManagerMessagingBatchActionMenu2(event,z);}).bind(this)},this.props.inlineActionParam.showFlag?n.createElement(x,{value:k.FLAG},t._("Flag")):null,this.props.inlineActionParam.showUnflag?n.createElement(x,{value:k.UNFLAG},t._("Unflag")):null,this.props.inlineActionParam.showSpam?n.createElement(x,{value:k.MARK_AS_SPAM},t._("Report as Spam")):null,this.props.inlineActionParam.showUnspam?n.createElement(x,{value:k.MARK_AS_UNSPAM},t._("Move to Inbox")):null,this.props.inlineActionParam.showMarkRead?n.createElement(x,{value:k.MARK_AS_READ},t._("Mark as Read")):null,this.props.inlineActionParam.showMarkUnread?n.createElement(x,{value:k.MARK_AS_UNREAD},t._("Mark as Unread")):null,this.props.inlineActionParam.showArchive?n.createElement(x,{value:k.ARCHIVE},t._("Archive")):null,this.props.inlineActionParam.showUnarchive?n.createElement(x,{value:k.UNARCHIVE},t._("Move to Inbox")):null,this.props.inlineActionParam.showDelete?n.createElement(x,{value:k.DELETE_THREAD},t._("Delete")):null,this.props.inlineActionParam.showHideContextCard?n.createElement(x,{value:k.HIDE_CONTEXT_CARD},t._("Hide sender info")):null,this.props.inlineActionParam.showShowContextCard?n.createElement(x,{value:k.SHOW_CONTEXT_CARD},t._("Show sender info")):null));};y.prototype.render=function(){'use strict';return (n.createElement(m,{alignh:this.props.alignh,className:!this.props.showBatchAction?"hidden_elem":'',layerBehaviors:this.props.layerBehaviors,menu:this.renderMenu(),onHide:this.props.onHide,onShow:this.props.onShow,ref:'menu'},this.props.children));};y.defaultProps={alignh:'left'};f.exports=y;},null);
__d('PagesManagerMessagingMessageDateBreak.react',['MessengerDateBreak.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,i.Component);l=k&&k.prototype;function m(n){'use strict';l.constructor.call(this,n);}m.prototype.render=function(){'use strict';return (i.createElement(h,{className:"_2hvw",date:this.props.date}));};f.exports=m;},null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/saved_responses\/image\/duplication\/",{});},null);
__d('PagesManagerMessagingSavedRepliesListItem.react',['ActorURI','AsyncRequest','LeftRight.react','React','SavedResponsesImage.react','SavedResponsesTokensUtils','SavedResponsesUtils','XPagesSavedResponsesImageDuplicationController','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s;'use strict';var t=k.PropTypes,u=53,v=53;r=babelHelpers.inherits(w,k.Component);s=r&&r.prototype;function w(x){s.constructor.call(this,x);this.state={isHovering:false};}w.prototype.$PagesManagerMessagingSavedRepliesListItem1=function(){if(this.props.reply.image){var x=this.props.reply.image.id;return (k.createElement(l,{className:"_3-9b _wba",displayClassName:"_wba",height:u,imageID:x,loadingClassName:"_wba",pageID:this.props.pageID,shouldShowCloseButton:false,width:v}));}};w.prototype.$PagesManagerMessagingSavedRepliesListItem2=function(){if(this.props.reply.title)return (k.createElement('h4',{className:"_wbb"},this.props.reply.title));};w.prototype.$PagesManagerMessagingSavedRepliesListItem3=function(){var x=m.prepareforSend(this.props.reply.message,this.props.tokens),y=null,z,aa;if(!this.props.reply.image){this.props.onClick(x,y);return;}y=this.props.reply.image.id;z=o.getURIBuilder().getURI();aa=h.create(z,this.props.pageID);new i().setURI(aa).setMethod('POST').setData({image_id:y}).setHandler((function(ba){var ca=n.generateImageMetadata(''+ba.payload.duplicatedImageID);this.props.onClick(x,ca);}).bind(this)).send();};w.prototype.$PagesManagerMessagingSavedRepliesListItem4=function(){var x=m.prepareforSend(this.props.reply.message,this.props.tokens);this.props.onMouseEnter(x);};w.prototype.$PagesManagerMessagingSavedRepliesListItem5=function(x){var y=0,z=0,aa=/\{{(.*?)\}}/g,ba=aa.exec(x),ca=0,da=[];while(ba!=null){z=ba.index;da.push(k.createElement('span',{key:'token:'+ca},x.substring(y,z)));y=z+ba[0].length;ca+=1;var ea=ba[1] in this.props.tokens?this.props.tokens[ba[1]].value:ba[1];da.push(k.createElement('span',{className:"_3p6b",key:'token:'+ca},ea));ba=aa.exec(x);ca+=1;}da.push(k.createElement('span',{key:'token:'+ca},x.substring(y,x.length)));ca+=1;return da;};w.prototype.render=function(){return (k.createElement('li',{className:q("_2ph_ _1_2c",this.props.className),onClick:(function(){return this.$PagesManagerMessagingSavedRepliesListItem3();}).bind(this),onMouseEnter:(function(){return this.$PagesManagerMessagingSavedRepliesListItem4();}).bind(this),onMouseLeave:(function(){return this.props.onMouseLeave();}).bind(this),ref:'replyItem'},k.createElement(j,{direction:'right'},k.createElement('div',null,this.$PagesManagerMessagingSavedRepliesListItem2(),this.$PagesManagerMessagingSavedRepliesListItem5(this.props.reply.message)),this.$PagesManagerMessagingSavedRepliesListItem1())));};w.propTypes={className:t.string,onClick:t.func.isRequired,onMouseEnter:t.func.isRequired,onMouseLeave:t.func.isRequired,pageID:t.string.isRequired,reply:t.object.isRequired,tokens:t.object.isRequired};f.exports=w;},null);
__d('PagesManagerMessagingSavedRepliesList.react',['Link.react','React','PagesManagerMessagingSavedRepliesListItem.react','ScrollableArea.react','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=i.PropTypes;o=babelHelpers.inherits(r,i.Component);p=o&&o.prototype;r.prototype.$PagesManagerMessagingSavedRepliesList1=function(s){return (s.message.toLowerCase().indexOf(this.props.filter)!==-1||(s.title||'').toLowerCase().indexOf(this.props.filter)!==-1);};r.prototype.render=function(){return (i.createElement('div',{className:"_1_25"+(this.props.isLoading?' '+"_1_26":'')+(!this.props.isLoading&&this.props.replies.length===0?' '+"_1_27":'')},this.props.isLoading?this.$PagesManagerMessagingSavedRepliesList2():null,this.$PagesManagerMessagingSavedRepliesList3()));};r.prototype.$PagesManagerMessagingSavedRepliesList4=function(){return (i.createElement(h,{onClick:(function(){return this.props.onCreateNewReply();}).bind(this),className:"_1_2a"},n._("Create new reply")));};r.prototype.$PagesManagerMessagingSavedRepliesList5=function(){return (i.createElement('div',{className:"_2ph_ _1_28"},i.createElement('p',null,this.$PagesManagerMessagingSavedRepliesList6()),i.createElement('p',null,this.$PagesManagerMessagingSavedRepliesList4())));};r.prototype.$PagesManagerMessagingSavedRepliesList2=function(){return (i.createElement('div',null,i.createElement('div',{className:"_2ph_ _1_29"},i.createElement(l,{size:'large'}))));};r.prototype.$PagesManagerMessagingSavedRepliesList6=function(){return n._("End of saved replies");};r.prototype.$PagesManagerMessagingSavedRepliesList3=function(){return (i.createElement(k,{fade:true,shadow:false,height:300},i.createElement('ul',{className:"_1_2b"},this.props.replies.map(this.$PagesManagerMessagingSavedRepliesList7,this),i.createElement('li',{className:"_2ph_ _1_2c"},this.$PagesManagerMessagingSavedRepliesList5()))));};r.prototype.$PagesManagerMessagingSavedRepliesList7=function(s,t){return (i.createElement(j,{className:!this.$PagesManagerMessagingSavedRepliesList1(s)?"hidden_elem":'',key:t,onClick:this.props.onReplySelected,onMouseEnter:this.props.onReplyMouseEnter,onMouseLeave:this.props.onReplyMouseLeave,pageID:this.props.pageID,reply:s,tokens:this.props.tokens}));};function r(){o.apply(this,arguments);}r.defaultProps={filter:''};r.propTypes={filter:q.string,isLoading:q.bool.isRequired,onCreateNewReply:q.func.isRequired,onReplyMouseEnter:q.func.isRequired,onReplyMouseLeave:q.func.isRequired,onReplySelected:q.func.isRequired,pageID:q.string.isRequired,replies:q.array.isRequired,tokens:q.object.isRequired};f.exports=r;},null);
__d('PagesManagerMessagingSavedRepliesFlyout.react',['Image.react','LeftRight.react','Link.react','PagesManagerMessagingSavedRepliesList.react','React','XUICloseButton.react','XUITextInput.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s;'use strict';var t=l.PropTypes;r=babelHelpers.inherits(u,l.Component);s=r&&r.prototype;function u(v){s.constructor.call(this,v);this.state={searchQuery:''};}u.prototype.$PagesManagerMessagingSavedRepliesFlyout1=function(v){var w=v.target.value;this.setState({searchQuery:w});};u.prototype.$PagesManagerMessagingSavedRepliesFlyout2=function(){this.setState({searchQuery:''});};u.prototype.render=function(){return (l.createElement('div',{className:"_201v"},this.$PagesManagerMessagingSavedRepliesFlyout3(),this.$PagesManagerMessagingSavedRepliesFlyout4(),this.$PagesManagerMessagingSavedRepliesFlyout5()));};u.prototype.$PagesManagerMessagingSavedRepliesFlyout3=function(){return (l.createElement('div',{className:"_2ph_ _201w"},l.createElement(i,null,l.createElement('h3',{className:"_201x"},p._("Saved Save Replies")),l.createElement(j,{className:'PagesManagerMessagingSavedRepliesFlyout/manageLink',onClick:this.props.onManageReplies},p._("Manage Replies")))));};u.prototype.$PagesManagerMessagingSavedRepliesFlyout5=function(){return (l.createElement(k,{filter:this.state.searchQuery,isLoading:this.props.isLoading,onCreateNewReply:this.props.onCreateNewReply,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,tokens:this.props.tokens}));};u.prototype.$PagesManagerMessagingSavedRepliesFlyout4=function(){return (l.createElement('div',{className:"_2ph_ _201y"},l.createElement(h,{className:"_201z",src:q('/images/browse/search/search-gray.png')}),l.createElement(n,{className:"_201-",onChange:this.$PagesManagerMessagingSavedRepliesFlyout1.bind(this),ref:'inputField',placeholder:p._("Search Saved Replies"),value:this.state.searchQuery}),l.createElement(m,{size:'small',onClick:this.$PagesManagerMessagingSavedRepliesFlyout2.bind(this),className:this.state.searchQuery.length===0?"hidden_elem":''})));};u.propTypes={isLoading:t.bool.isRequired,onCreateNewReply:t.func.isRequired,onManageReplies:t.func.isRequired,onReplyMouseEnter:t.func.isRequired,onReplyMouseLeave:t.func.isRequired,onReplySelected:t.func.isRequired,pageID:t.string.isRequired,replies:t.array.isRequired,tokens:t.object.isRequired};f.exports=u;},null);
__d('PagesManagerMessagingSavedRepliesButton.react',['Image.react','Link.react','PagesEventObserver','PagesEventType','PagesManagerMessagingSavedRepliesFlyout.react','React','SavedResponsesConstants','SavedResponsesManagePanel.react','XUIContextualDialog.react','XUIDialog.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v;'use strict';var w=m.PropTypes,x=600,y=405;u=babelHelpers.inherits(z,m.Component);v=u&&u.prototype;function z(aa){v.constructor.call(this,aa);this.state={initialSavedResponsesManageViewType:n.editPanelViewMode.LIST,isFlyoutShown:false,isManageDialogVisible:false};}z.prototype.$PagesManagerMessagingSavedRepliesButton1=function(){this.props.onFetchReplies();j.notify(k.SAVED_REPLIES_TOGGLE_BROWSE_VIEW,this.props.pageID,{toggle_on:!this.state.isFlyoutShown});this.setState({isFlyoutShown:!this.state.isFlyoutShown});};z.prototype.$PagesManagerMessagingSavedRepliesButton2=function(){this.props.onFetchReplies();this.setState({isManageDialogVisible:false});};z.prototype.$PagesManagerMessagingSavedRepliesButton3=function(){setTimeout((function(){j.notify(k.SAVED_REPLIES_TOGGLE_BROWSE_VIEW,this.props.pageID,{toggle_on:false});this.setState({isFlyoutShown:false});}).bind(this),0);};z.prototype.render=function(){var aa=s._("Choose a Saved Reply");return (m.createElement('div',null,m.createElement(i,{'aria-label':this.props.showTooltip?aa:null,className:"_3xmz",'data-hover':'tooltip','data-tooltip-align':'right',onClick:this.$PagesManagerMessagingSavedRepliesButton1.bind(this)},m.createElement(h,{alt:'',className:"_3xm-",ref:'icon',src:t('/images/pages/pages_manager/messages/composer-saved-replies.png'),tabIndex:0})),this.$PagesManagerMessagingSavedRepliesButton4(),this.$PagesManagerMessagingSavedRepliesButton5()));};z.prototype.$PagesManagerMessagingSavedRepliesButton4=function(){if(this.state.isFlyoutShown)return (m.createElement(p,{alignment:'right',className:"_3xm_",contextRef:(function(){return this.refs.icon;}).bind(this),hasActionableContext:true,hideOnEscape:false,onBlur:this.$PagesManagerMessagingSavedRepliesButton3.bind(this),position:'above',ref:'flyoutDialog',shown:this.state.isFlyoutShown,width:y},m.createElement(l,{isLoading:this.props.isSavedRepliesLoading,onCreateNewReply:(function(){return this.setState({isManageDialogVisible:true,initialSavedResponsesManageViewType:n.editPanelViewMode.CREATE});}).bind(this),onManageReplies:(function(){return this.setState({isManageDialogVisible:true,initialSavedResponsesManageViewType:n.editPanelViewMode.LIST});}).bind(this),onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,tokens:this.props.tokens})));};z.prototype.$PagesManagerMessagingSavedRepliesButton5=function(){if(this.state.isManageDialogVisible)return (m.createElement(q,{layerHideOnBlur:false,ref:'managementDialog',shown:this.state.isManageDialogVisible,width:x},m.createElement(o,{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$PagesManagerMessagingSavedRepliesButton2.bind(this),otherUserID:this.props.recipientID,pageID:this.props.pageID})));};z.propTypes={isSavedRepliesLoading:w.bool.isRequired,onFetchReplies:w.func.isRequired,onReplyMouseEnter:w.func.isRequired,onReplyMouseLeave:w.func.isRequired,onReplySelected:w.func.isRequired,pageID:w.string.isRequired,recipientID:w.string.isRequired,replies:w.array.isRequired,showTooltip:w.bool,tokens:w.object.isRequired};z.defaultProps={showTooltip:true};f.exports=z;},null);
__d('PagesManagerMessagingSearchListResult.react',['Link.react','PagesManagerListRowContainer.react','PagesManagerAction','PagesSelectableList.react','React','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;p=babelHelpers.inherits(r,l.Component);q=p&&p.prototype;r.prototype.$PagesManagerMessagingSearchListResult1=function(s){'use strict';j.viewListItem(s);};r.prototype.getNameResultKey=function(s){'use strict';return 'NameResult:'+s;};r.prototype.getSnippetResultKey=function(s){'use strict';return 'SnippetResult:'+s;};r.prototype.$PagesManagerMessagingSearchListResult2=function(){'use strict';var s=l.createElement('li',{className:"_3o39",key:'nameSearchTitle'},o._("Showing results for name: {message search term}",[o.param('message search term',this.props.searchTerm)])),t=this.props.nameSearchResult.map((function(y){return (l.createElement(i,{ChildClass:this.props.listRowContainer,listItem:y,pageID:this.props.pageID,ref:this.getNameResultKey(y),key:this.getNameResultKey(y),onViewingListItem:this.$PagesManagerMessagingSearchListResult1,highlightText:this.props.searchTerm,useHighlightTitle:true,type:'li'}));}).bind(this)),u=this.props.hasMoreNameSearchResult&&!this.props.isSearchingName?l.createElement('li',{className:"_3o39",key:'loadMoreNameResult'},l.createElement(h,{onClick:this.props.loadMoreNameResult},o._("Load Older Threads"))):l.createElement('li',{className:"_3o39"}),v=l.createElement('li',{className:"_3o39",key:'snippetSearchTitle'},o._("Showing results for message: {message search term}",[o.param('message search term',this.props.searchTerm)])),w=[];Object.keys(this.props.snippetSearchResult).forEach((function(y){w.push(l.createElement(i,{ChildClass:this.props.listRowContainer,listItem:y,pageID:this.props.pageID,ref:this.getSnippetResultKey(y),key:this.getSnippetResultKey(y),onViewingListItem:this.$PagesManagerMessagingSearchListResult1,highlightText:this.props.searchTerm,useHighlightTitle:false,type:'li'}));}).bind(this));var x=this.props.hasMoreSnippetSearchResult&&!this.props.isSearchingSnippet?l.createElement('li',{className:"_3o39",key:'loadMoreSnippetResult'},l.createElement(h,{onClick:this.props.loadMoreSnippetResult},o._("Load Older Threads"))):l.createElement('li',{className:"_3o39"});return [s].concat(t,[u,v],w,[x]);};r.prototype.render=function(){'use strict';var s=this.$PagesManagerMessagingSearchListResult2();return (l.createElement(k,{actionBarRightComponent:this.props.actionBarRightContainer,deselectAllLabel:'',enableOnVisible:false,forceRequestMoreRows:false,height:this.props.height,onSelectionChange:this.props.onSelectionChange,onRequestMoreRows:n,ref:'selectableList',scrollableAreaMode:true,scrollableAreaHasShadow:false},s));};function r(){'use strict';p.apply(this,arguments);}f.exports=r;},null);
__d('PagesManagerNavigationView.react',['ContextualDialogArrow','ContextualLayerAutoFlip','Map','PagesManagerNavigationUnit','PopoverMenu.react','React','ReactXUIMenu','cx','invariant','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r,s=n.Item,t=c('immutable').List;q=babelHelpers.inherits(u,m.Component);r=q&&q.prototype;function u(v,w){'use strict';r.constructor.call(this,v,w);this.$PagesManagerNavigationView1=this.$PagesManagerNavigationView1.bind(this);this.$PagesManagerNavigationView2=this.$PagesManagerNavigationView2.bind(this);}u.prototype.$PagesManagerNavigationView3=function(v){'use strict';var w=this.$PagesManagerNavigationView4(v,this.props.tabbarUnits);if(w)return w;w=this.$PagesManagerNavigationView4(v,this.props.dropdownUnits);if(w)return w;p(0);};u.prototype.$PagesManagerNavigationView4=function(v,w){'use strict';var x=w.filter(function(y){return y.getKey()===v;});if(x.count()>0)return x.get(0);};u.prototype.$PagesManagerNavigationView1=function(v,w){'use strict';this.props.onUnitSelected(this.$PagesManagerNavigationView3(w.item.getValue()));};u.prototype.render=function(){'use strict';return (m.createElement('div',{className:"_-7a"},this.$PagesManagerNavigationView5(),this.$PagesManagerNavigationView6()));};u.prototype.$PagesManagerNavigationView2=function(v){'use strict';return (m.createElement(s,{key:v.getKey(),value:v.getKey()},m.createElement('div',{className:"_-7b"},v.getDisplayTitle())));};u.prototype.$PagesManagerNavigationView5=function(){'use strict';if(this.props.dropdownUnits.size===0||!this.props.activeDropdownUnit)return null;var v=m.createElement(n,{onItemClick:this.$PagesManagerNavigationView1},this.props.dropdownUnits.map(this.$PagesManagerNavigationView2));return (m.createElement(l,{layerBehaviors:[h,i],menu:v},m.createElement('div',{className:"_-7c"},this.props.activeDropdownUnit.getDisplayTitle())));};u.prototype.$PagesManagerNavigationView7=function(v){'use strict';var w=this.props.unitNotificationCountMap.get(v);return (m.createElement('div',babelHelpers._extends({},this.props,{className:"_-7d"+(' '+"_-7e")+(v===this.props.activeTabbarUnit?' '+"_-7f":''),onClick:(function(){return this.props.onUnitSelected(v);}).bind(this),key:v.getKey()}),m.createElement('div',{className:"_-7g _-7e"},v.getDisplayTitle().toString().toUpperCase()),m.createElement('div',{className:"_-7h"+(' '+"_-7e")+(w===0?' '+"hidden_elem":'')},w)));};u.prototype.$PagesManagerNavigationView6=function(){'use strict';return this.props.tabbarUnits.map((function(v){return this.$PagesManagerNavigationView7(v);}).bind(this));};f.exports=u;},null);