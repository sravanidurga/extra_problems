/*!CK:1229535870!*//*1449046091,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["cXRne"]); }

__d("MNCommerceLoggerEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GEN_CALL:"gen_call",DUPLICATE_CALL:"duplicate_call",ERROR:"error",GEN_SHIPMENT_ENT:"gen_shipment_ent",GEN_SHIPMENT_TRACKING_ENT:"gen_shipment_tracking_ent",SHIPMENT_NOTIFICATION_READY:"shipment_notification_ready",SHIPMENT_NOTIFICATION_SENT:"shipment_notification_sent",SHIPMENT_NOTIF_READY:"shipment_notif_ready",SHIPMENT_NOTIF_SENT:"shipment_notif_sent",ETA_NOTIF_READY:"eta_notif_ready",ETA_NOTIF_SENT:"eta_notif_sent",DELIVERED_NOTIF_READY:"delivered_notif_ready",DELIVERED_NOTIF_SENT:"delivered_notif_sent",OUT_FOR_DELIVERY_NOTIF_READY:"out_for_delivery_notif_ready",OUT_FOR_DELIVERY_NOTIF_SENT:"out_for_delivery_notif_sent",DELAYED_NOTIF_READY:"delayed_notif_ready",DELAYED_NOTIF_SENT:"delayed_notif_sent",IN_TRANSIT_NOTIF_READY:"in_transit_notif_ready",IN_TRANSIT_NOTIF_SENT:"in_transit_notif_sent",ASYNC_EXECUTION:"async_execution",ASYNC_SCHEDULE:"async_schedule",ASYNC_THROTTLE:"async_throttle",ASYNC_USER_ACCOUNT_DISABLED:"async_user_account_disabled",ASYNC_GEN_DATA_ERROR:"async_gen_data_error",TRACKING_SHUTDOWN_WITH_EXCEPTION_ERROR:"tracking_shutdown_with_exception",TRACKING_SHUTDOWN_WITH_RETRY_ERROR:"tracking_shutdown_with_retry",DELIVERED_STATS:"delivered_stats",USER_LINKED:"user_linked",USER_LINK_FAILED:"user_link_failed",USER_TOKEN_DECRYPTION_FAILED:"user_token_decryption_failed",USER_TOKEN_DELIVERY_ATTEMPT:"user_token_delivery_attempt",USER_TOKEN_DELIVERED:"user_token_delivered",USER_TOKEN_DELIVERY_FAILED:"user_token_delivery_failed",USER_TOKEN_CRITICAL_LOOKUP:"user_token_critical_lookup",USER_TOKEN_LOOKUP_FAILED:"user_token_lookup_failed",USER_UNLINKED:"user_unlinked",USER_UNLINK_FAILED:"user_unlink_failed",USER_UNLINK_BUSINESS_NOTIFIED:"user_unlink_business_notified",USER_UNLINK_BUSINESS_NOTIFICATION_FAILED:"user_unlink_business_notification_failed",PLUGIN_CLIENT_RENDERED:"plugin_client_rendered",PLUGIN_RENDERED:"plugin_rendered",PLUGIN_HIDDEN_ALREADY_LINKED:"plugin_hidden_already_linked",PLUGIN_BLOCKED:"plugin_blocked",PLUGIN_UPDATES_DISALLOWED:"plugin_updates_disallowed",PLUGIN_UPDATES_REALLOWED:"plugin_updates_reallowed",PLUGIN_ASSOC_MUTATE_FAILED:"plugin_assoc_mutate_failed",PLUGIN_ASSOC_READ_FAILED:"plugin_assoc_read_failed",PLUGIN_MESSAGE_US_CLICK:"plugin_message_us_click",ORDER_CANCELLED:"order_cancelled",ORDER_CANCELLATION_FAILED:"order_cancellation_failed",SEND_MESSAGE_WITH_ROBOTEXT:"send_message_with_robotext",SEND_MESSAGE_WITH_ATTACHMENT:"send_message_with_attachment",SEND_MESSAGE_WITH_LOG_MESSAGE:"send_message_with_log_message",SEND_MESSAGE_FAILURE:"send_message_failure",SEND_BLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_block_all_log_message_exception",SEND_UNBLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_unblock_all_log_message_exception",DIALOG_OPENED:"dialog_opened",DIALOG_CLOSED:"dialog_closed",DIALOG_LOAD_ERROR:"dialog_load_error",DIALOG_LOAD_SUCCESS:"dialog_load_success",NOT_YOU_CLICKED:"not_you_clicked",PRODUCT_SUBSCRIPTION_CLICKED:"product_subscription_clicked",RECEIPTS:"receipts",CANCELLATIONS:"cancellations",SHIPMENTS:"shipments",NOW_IN_STOCK:"nowinstock",NOTIFY_ME:"notifyme",PROMOTIONAL_MESSAGE:"promotionalmessage",RETAIL_CANCELLATIONS:"retailcancellations",RETAIL_RECEIPTS:"retailreceipts",UPDATE_RECEIPTS:"updatereceipts",RETAIL_SHIPMENTS:"retailshipments",RETAIL_UPDATE_RECEIPTS:"retailupdatereceipts",AIRLINE_ITINERARY:"airlineitinerary",AIRLINE_REMINDER:"airlinereminder",AIRLINE_CHECKIN:"airlinecheckin",AIRLINE_UPDATE:"airlineupdate",AIRLINE_BOARDINGPASS:"airlineboardingpass",BILL_PAYMENT_REQUEST:"billpaymentrequest",SIMPLE_LINK_WITH_STATE:"simplelinkwithstate",BUSINESS_MESSAGE:"businessmessage",PROMOTION_CREATION_ATTEMPTED:"promotion_creation_attempted",PROMOTION_ENT_CREATED:"promotion_ent_created",PROMOTION_SCHEDULED:"promotion_scheduled",PROMOTION_KILLED:"promotion_killed",PROMOTION_USER_ATTEMPTED:"promotion_user_attempted",PROMOTION_USER_GK_FAILED:"promotion_user_gk_failed",PROMOTION_USER_GK_PASSED:"promotion_user_gk_passed",PROMOTION_USER_ALREADY_LINKED:"promotion_user_already_linked",PROMOTION_USER_NOT_LINKED:"promotion_user_not_linked",PROMOTION_USER_PREVIOUSLY_UNLINKED:"promotion_user_previously_unlinked",PROMOTION_USER_BLOCKED_PROMOTION:"promotion_user_blocked_promotion",PROMOTION_USER_SEND_MESSAGE_EXCEPTION:"promotion_user_send_message_exception",PROMOTION_ATOMIC_MESSAGE_SENT:"promotion_atomic_message_sent",PROMOTION_LOG_MESSAGE_SENT:"promotion_log_message_sent",PROMOTION_ROBOTEXT_SENT:"promotion_robotext_sent",PROMOTION_ATTACHMENT_SENT:"promotion_attachment_sent",PROMOTION_ASYNC_JOB_ERROR:"promotion_async_job_error",M_SUGGESTION_CALL:"m_suggestion_call",M_SUGGESTION_ENT_CREATED:"m_suggestion_ent_created",M_SUGGESTION_LINK_IF_NECESSARY:"m_suggestion_link_if_necessary",M_SUGGESTION_SEND_MESSAGE:"m_suggestion_send_message",GEN_CANCELLATION_ENT:"gen_cancellation_ent",CANCELLATION_NOTIFICATION_READY:"cancellation_notification_ready",CANCELLATION_NOTIFICATION_SENT:"cancellation_notification_sent",LIVECHAT_HISTORY_USER_FETCH_FAILURE:"livechat_history_user_fetch_failure",LIVECHAT_HISTORY_PAGE_FETCH_FAILURE:"livechat_history_page_fetch_failure",LIVECHAT_HISTORY_API_SUCCESS:"livechat_history_api_success",LIVECHAT_HISTORY_API_FAILURE:"livechat_history_api_failure",PIXEL_FIRE_CALL:"pixel_fire_call",PIXEL_EVENT_NAME_VALIDATED:"pixel_event_name_validated",PIXEL_SECURITY_CHECKED:"pixel_security_checked",PIXEL_MESSAGE_SENT:"pixel_message_sent",PIXEL_EVENT_HANDLER_EXCEPTION:"pixel_event_handler_exception"};},null);
__d("P2PPaymentLogMessageSubtype",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired"};},null);
__d('UFICreatorInfo.react',['HelpLink.react','React','URI','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'UFICreatorInfo',propTypes:{creatorID:m.string.isRequired,creatorType:m.string.isRequired,creatorName:m.string.isRequired,labelType:m.string.isRequired,pageID:m.string.isRequired,profileURI:m.string},render:function(){var o,p=this.getCreatorLink();switch(this.props.labelType){case 'commented':o=l._("Commented on by {creator}",[l.param('creator',p)]);break;case 'edited_comment':o=l._("Edited by {creator}",[l.param('creator',p)]);break;case 'sent_message':o=l._("Sent by {creator}",[l.param('creator',p)]);break;case 'page_admin_note':o=l._("Noted by {creator}",[l.param('creator',p)]);break;default:return;}return (i.createElement('span',null,o,i.createElement(h,{tooltip:this.getHelpText()})));},getCreatorLink:function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (i.createElement('a',{className:'uiLinkSubtle','aria-label':this.getTooltipText(),'data-hover':'tooltip'},this.props.creatorName));case 'business_admin':return (i.createElement('a',{className:'uiLinkSubtle',href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (i.createElement('span',{className:'uiLinkSubtle'},i.createElement('img',{src:'/images/privacy/cant-see.png',width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (i.createElement('span',{className:'uiLinkSubtle'},this.props.creatorName));}},getTooltipText:function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}},getProfileLinkWithHovercard:function(){if(!this.props.profileURI)return i.createElement('span',null,this.props.creatorName);var o=new j('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (i.createElement('a',{className:'uiLinkSubtle','data-hovercard':o,href:this.props.profileURI},this.props.creatorName));},getApplicationText:function(){switch(this.props.labelType){case 'commented':return l._("This was commented on by someone using {application}.",[l.param('application',this.props.creatorName)]);case 'edited_comment':return l._("This was edited by someone using {application}.",[l.param('application',this.props.creatorName)]);case 'sent_message':return l._("This was sent by someone using {application}.",[l.param('application',this.props.creatorName)]);case 'page_admin_note':return l._("This was noted by someone using {application}.",[l.param('application',this.props.creatorName)]);}},getIndirectAdminText:function(){switch(this.props.labelType){case 'commented':return l._("This was commented on by someone from {page}.",[l.param('page',this.props.creatorName)]);case 'edited_comment':return l._("This was edited by someone from {page}.",[l.param('page',this.props.creatorName)]);case 'sent_message':return l._("This was sent by someone from {page}.",[l.param('page',this.props.creatorName)]);case 'page_admin_note':return l._("This was noted by someone from {page}.",[l.param('page',this.props.creatorName)]);}},getGrayAccountText:function(){switch(this.props.labelType){case 'commented':return l._("This was commented on by someone who doesn't have a personal Facebook account.");case 'edited_comment':return l._("This was edited by someone who doesn't have a personal Facebook account.");case 'sent_message':return l._("This was sent by someone who doesn't have a personal Facebook account.");case 'page_admin_note':return l._("This was noted by someone who doesn't have a personal Facebook account.");}},getHelpText:function(){switch(this.props.labelType){case 'commented':return l._("Only people who manage this Page can see who posted a comment");case 'edited_comment':return l._("Only people who manage this Page can see who edited a comment");case 'sent_message':return l._("Only people who manage this Page can see who sent a message");case 'page_admin_note':return l._("Only people who manage this Page can see who created a note");}}});f.exports=n;},null);
__d('PagesMessengerCreatorInfo.react',['React','UFICreatorInfo.react','XUIGrayText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';var n=h.PropTypes;l=babelHelpers.inherits(o,h.Component);m=l&&l.prototype;o.prototype.render=function(){return (h.createElement(j,{className:"_ajk"+(this.props.isNote?' '+"_45l2":''),display:'inline',shade:'light',size:'small'},h.createElement(i,{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI})));};function o(){l.apply(this,arguments);}o.propTypes={creator_info:n.shape({creatorID:n.string.isRequired,creatorName:n.string.isRequired,creatorType:n.string.isRequired,labelType:n.string.isRequired,pageID:n.string.isRequired,profileURI:n.string}).isRequired};f.exports=o;},null);
__d("XPagesMessagingSuggestedResponseController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/messaging\/suggestedresponse\/",{});},null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/messaging\/suggestedresponse\/feedback\/",{});},null);
__d('PagesMessageSuggestedResponseHandler',['ActorURI','AsyncRequest','XPagesMessagingSuggestedResponseController','XPagesMessagingSuggestedResponseFeedbackController','invariant','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();function n(o,p){'use strict';this.$PagesMessageSuggestedResponseHandler1=o;this.$PagesMessageSuggestedResponseHandler2=p;this.$PagesMessageSuggestedResponseHandler3=false;this.$PagesMessageSuggestedResponseHandler4=false;}n.prototype.requestSuggestedResponseAsync=function(o,p){'use strict';this.$PagesMessageSuggestedResponseHandler3=true;var q=j.getURIBuilder().getURI();new i().setURI(h.create(q,this.$PagesMessageSuggestedResponseHandler2)).setData({message:this.$PagesMessageSuggestedResponseHandler1.body}).setMethod('POST').setHandler((function(r){return this.$PagesMessageSuggestedResponseHandler5(r.payload,o);}).bind(this)).setErrorHandler(p).send();};n.prototype.sendFeedback=function(o){'use strict';!this.hasReceviedSuggestedResponse()?l(0):undefined;var p=k.getURIBuilder().getURI();new i().setURI(h.create(p,this.$PagesMessageSuggestedResponseHandler2)).setMethod('POST').setData({message_id:this.$PagesMessageSuggestedResponseHandler6,accepted:o}).send();};n.prototype.$PagesMessageSuggestedResponseHandler5=function(o,p){'use strict';if(o.messageFound)this.$PagesMessageSuggestedResponseHandler6=o.messageID;p(this.$PagesMessageSuggestedResponseHandler1.message_id,o);};n.prototype.shouldBeTreatedAsRejected=function(){'use strict';return !this.getHasBeenAccepted()&&this.hasReceviedSuggestedResponse();};n.prototype.hasReceviedSuggestedResponse=function(){'use strict';return !m(this.$PagesMessageSuggestedResponseHandler6);};n.prototype.alreadyRequested=function(){'use strict';return this.$PagesMessageSuggestedResponseHandler3;};n.prototype.getMessageID=function(){'use strict';return this.$PagesMessageSuggestedResponseHandler1.message_id;};n.prototype.getHasBeenAccepted=function(){'use strict';return this.$PagesMessageSuggestedResponseHandler4;};f.exports=n;},null);
__d('PagesMessengerSuggestedResponseView.react',['LoadingIndicator.react','PagesMessageSuggestedResponseHandler','React','XUIGrayText.react','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=j.PropTypes,p=j.createClass({displayName:'PagesMessengerSuggestedResponseView',propTypes:{onAccepted:o.func.isRequired,onDeclined:o.func,suggestedResponseHandler:o.instanceOf(i)},getInitialState:function(){return {shouldShowResult:false,shouldShowProgress:false,responseMessage:"",witMessageId:""};},_reset:function(){this.setState(this.getInitialState());},componentWillReceiveProps:function(q){if(q.suggestedResponseHandler!==this.props.suggestedResponseHandler){this._reset();var r=q.suggestedResponseHandler;if(!r||r.alreadyRequested())return;this.setState({shouldShowProgress:true});r.requestSuggestedResponseAsync(this._onSuggestedResponseReceived,this._onSuggestedResponseError);}},_onSuggestedResponseReceived:function(q,r){if(!this._isMessageIDCurrent(q))return;this.setState({shouldShowProgress:false});if(!!r.responseMessage&&r.responseMessage.length>0)this.setState({shouldShowResult:true,responseMessage:r.responseMessage,witMessageId:r.message_id});},_onSuggestedResponseError:function(q){if(!this._isMessageIDCurrent(q))return;this.setState({shouldShowProgress:false,shouldShowResult:false});},_isMessageIDCurrent:function(q){return !!this.props.suggestedResponseHandler&&q===this.props.suggestedResponseHandler.getMessageID();},render:function(){return (j.createElement('div',{className:"_710"+(' '+"_2ph-")+(!this.state.shouldShowResult&&!this.state.shouldShowProgress?' '+"hidden_elem":'')},this._renderProgressPart(),this._renderSuggestionPart()));},_renderSuggestionPart:function(){return (j.createElement('div',{className:!this.state.shouldShowResult?"hidden_elem":''},j.createElement('div',{className:"_3-94"},j.createElement(k,{shade:'light'},n._("We found a suggested reply:"))),j.createElement('div',{className:"_3-94"},j.createElement(k,{shade:'dark',className:"_711"},this.state.responseMessage)),j.createElement('div',{className:"_712"},j.createElement(k,{shade:'light',className:"_3-90"},n._("Do you want to use this reply?")),j.createElement(l,{label:n._("No"),use:'default',className:"_3-8_",onClick:this._onDeclined}),j.createElement(l,{label:n._("Yes"),use:'confirm',onClick:this._onAccepted}))));},_renderProgressPart:function(){return (j.createElement('div',{className:(!this.state.shouldShowProgress?"hidden_elem":'')+(' '+"_71d")},j.createElement(k,{shade:'light'},n._("Looking for suggested responses")),j.createElement(h,{size:'small',color:'white',className:"_3-9a"})));},_hide:function(){this.setState({shouldShowResult:false,shouldShowProgress:false});},_onAccepted:function(){this._hide();this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(true);this.props.onAccepted&&this.props.onAccepted(this.state.responseMessage);},_onDeclined:function(){this._hide();this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(false);this.props.onDeclined&&this.props.onDeclined();}});f.exports=p;},null);
__d('PagesMessengerTextInput.react',['AbstractTextFieldMixin.react','React','TextAreaControl','InputCaretUtility','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=i.createClass({displayName:'PagesMessengerTextInput',mixins:[h],propTypes:{onClick:n.func,onKeyUp:n.func,onPaste:n.func,onFocus:n.func,tabIndex:n.string},componentDidMount:function(){var p=this.getTextFieldDOM();new j(p);},moveCaretToBeginning:function(){var p=this.getTextFieldDOM();k.delayedMoveCaretToBeginning(p);},resetHeight:function(){var p=j.getInstance(this.getTextFieldDOM());p.resetHeight();},updateHeight:function(){var p=j.getInstance(this.getTextFieldDOM());p.updateHeight();},renderTextField:function(){var p=m(this.props.className,"_58al"+(' '+"uiTextareaAutogrow"));return this.setTextFieldPropsOn(i.createElement('textarea',{type:'text',className:p,tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,onFocus:this.props.onFocus}));}});f.exports=o;},null);
__d('MessengerErrorAttachment.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';j=babelHelpers.inherits(l,h.Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);}l.prototype.render=function(){return (h.createElement('div',{className:"_1o12 _52mr"},h.createElement('div',{className:"_1o13"},this.props.attachment.error_msg)));};f.exports=l;},null);
__d('MessengerFileAttachment.react',['Link.react','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'MessengerFileAttachment',mixins:[i],propTypes:{attachment:l.object.isRequired},render:function(){return (j.createElement(h,{className:"_4pcn _2uf4",href:this.props.attachment.url},j.createElement('div',{className:"_2uf5"}),this.props.attachment.name));}});f.exports=m;},null);
__d('MessengerPhoto.react',['Image.react','MercuryAttachmentType','React','URI','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=206,p=450;function q(u){if(u.metadata){if(u.attach_type===i.VIDEO)return u.metadata.inbox_preview;return new k('/ajax/mercury/attachments/photo.php').addQueryData({fbid:u.metadata.fbid,height:o,mode:'cover',request_user_id:u.metadata.pageid,width:o}).toString();}return null;}function r(u){if(u.preview_uploading)return {height:u.preview_height||o,src:u.preview_url,width:u.preview_width||o};var v=q(u);if(v)return babelHelpers._extends({src:v},u.metadata.inbox_size);if(u.preview_url)return {height:u.preview_height,src:u.preview_url,width:u.preview_width};if(u.media)return u.media.playable&&u.media.animated_image?babelHelpers._extends({},u.media.animated_image_size,{src:u.media.animated_image}):babelHelpers._extends({},u.media.image_size,{src:u.media.image});}function s(u,v){if(u.preview_uploading)return u.preview_url?0:o;var w=u.media?r(u):{height:u.preview_height,width:u.preview_width};return Math.min(w.height*Math.min(1,p/w.width),p);}var t=j.createClass({displayName:'MessengerPhoto',contextTypes:{width:n.number},propTypes:{attachment:n.object.isRequired,isSingle:n.bool.isRequired,onClick:n.func},render:function(){var u=this.props.attachment,v=r(u);if(!v)return null;var w=this._getImageFromMetadata(v),x={};if(v.src)x.backgroundImage='url('+v.src+')';if(this.props.isSingle){var y=s(u,this.context);if(y)x.minHeight=y;}var z=!!this.props.attachment.app_attribution;return (j.createElement('div',{className:m(this.props.className,"_4tsk"+(z?' '+"_mxz":'')+(this.props.isSingle&&!z?' '+"_52mr":'')+(u.preview_uploading&&!v.src?' '+"_3etv":'')),style:x,onClick:this._onClick},w,j.createElement('a',{className:"_4tsl",href:v.src},this.props.children)));},_onClick:function(u){u.preventDefault();if(this.props.onClick)this.props.onClick(this.props.attachment);},_getImageFromMetadata:function(u){if(this.props.attachment.preview_uploading&&!u.src)return null;if(this.props.isSingle)return j.createElement(h,{alt:'',src:u.src});return null;}});f.exports=t;},null);
__d('MessengerVideo.react',['Image.react','MessengerPhoto.react','ReactComponentWithPureRenderMixin','React','cx','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'MessengerVideo',mixins:[j],propTypes:{attachment:o.object.isRequired,isSingle:o.bool.isRequired,onClick:o.func},render:function(){return (k.createElement(i,babelHelpers._extends({},this.props,{className:n(this.props.className,"_ccq")}),k.createElement(h,{className:"_ccr",src:m('/images/chat/chat_play_icon.png')}),k.createElement('span',{className:"_ccs"},this._getDuration())));},_getDuration:function(){var q;if(!!this.props.attachment.metadata){q=this.props.attachment.metadata.duration;}else if(!!this.props.attachment.media)q=this.props.attachment.media.duration;return !!q?this._formatDuration(q):null;},_formatDuration:function(q){var r=q%60;return Math.floor(q/60)+':'+(r<10?'0':'')+r;}});f.exports=p;},null);
__d('MessengerPhotosGroup.react',['ChatSpeakingSticker.react','MercuryAttachmentType','MessengerPhoto.react','MessengerVideo.react','MessagesViewer','ReactComponentWithPureRenderMixin','React','Vector','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r='empty-spacer',s=n.PropTypes,t=n.createClass({displayName:'MessengerPhotosGroup',mixins:[m],propTypes:{attachType:s.string,attachments:s.arrayOf(s.object).isRequired,message:s.object},componentDidMount:function(){l.preload();},render:function(){var u=this.props.attachments;return (n.createElement('div',{className:this._getRootClassNameFor(u)},this._rowsFor(u)));},_onChildClicked:function(u){if(u.preview_uploading)return;if(u.attach_type===i.VIDEO){l.renderVideo({disableForward:true,rootClassName:"_1j1h",videoID:u.metadata.fbid,videoSize:new o(u.metadata.dimensions.width,u.metadata.dimensions.height),videoURI:u.url});}else if(u.attach_type===i.PHOTO||u.attach_type===i.ANIMATED_IMAGE){l.bootstrapWithConfig({dimensions:u.metadata.dimensions,disablePaging:this.props.attachments.length===1,endpoint:u.url,fbid:u.metadata.fbid,rootClassName:"_1j1h",snapToPhoto:true,src:u.preview_url});}else if(u.uri)window.open(u.uri);},_rowsFor:function(u){if(u.length===1)return [this._photo(u[0],true)];var v=3;if(u.length===2||u.length===4)v=2;var w=[];for(var x=0,y=u.length;x<y;x+=v){var z=u.slice(x,x+v),aa=v-z.length;while(aa>0){z.push({attach_type:r,key:'ghost'+aa});aa--;}w.push(n.createElement('div',{className:"_2n8g",key:x},z.map((function(ba){return this._photo(ba);}).bind(this))));}return w;},_photo:function(u,v){var w;if(u.deduplication_key){w=u.deduplication_key;}else if(u.metadata){w=u.metadata.fbid;}else w=u.upload_id;var x={attachment:u,isSingle:v||false,key:w,onClick:this._onChildClicked},y=this.props.attachType||u.attach_type;switch(y){case i.PHOTO:case i.ANIMATED_IMAGE:return n.createElement(j,x);case i.VIDEO:if(u.metadata&&u.metadata.render_as_sticker)return (n.createElement(h,{videoSize:u.metadata.dimensions,videoURI:u.url}));return n.createElement(k,x);case r:return (n.createElement('div',{key:u.key,className:"_4tsk _4rf-"}));default:throw u.attachType+' is not handled by MessengerPhotoGroup';}},_getRootClassNameFor:function(u){var v=u.length===2||u.length===4;return q(this.props.className,"_2n8h"+(u.length===1?' '+"_2n8i":'')+(v?' '+"_4ksk":'')+(u.length>1&&!v?' '+"_2n8k":''));}});f.exports=t;},null);
__d('MessengerStickerUtils',['MercuryAttachmentType'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(l){return !!(l&&l.attach_type===h.STICKER);}function j(l){var m=l.attachments;return !!(l.is_like_preview||l.sticker_id||m&&m.length===1&&i(m[0]));}function k(l){return l.size===1&&j(l.first());}f.exports={isStickerMessageGroup:k,isStickerMessage:j,isStickerAttachment:i};},null);
__d('MessengerVoiceClipAttachment.react',['MercuryAttachmentAudioClip.react','MercuryShareAttachmentRenderLocations','ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'MessengerVoiceClipAttachment',mixins:[j],propTypes:{attachment:m.object.isRequired,message:m.object.isRequired},render:function(){var o=this.props.attachment,p=o.metadata.duration/1000,q=200,r=!!o.app_attribution;return (k.createElement('div',{className:"_hh7"+(' '+"_s1-")+(!r?' '+"_52mr":'')+(r?' '+"_mxz":'')+(' '+"_1fz8")+(r?' '+"_1-wa":'')+(' '+"_1nqp")},k.createElement(h,{src:o.url,duration:p,key:'audio:'+this.props.message.message_id,showHelp:false,width:q,location:i.MESSENGER,rootClassName:"_3czg"+(r?' '+"_4yjw":'')+(' '+"_2poz")+(' '+"_ui9")})));}});f.exports=n;},null);
__d('isRetina',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=function(){return (window.devicePixelRatio||1)>1;};},null);
__d('MessengerAttachmentRenderer',['CurrentUser','MercuryAttachment','MercuryAttachmentType','MercuryAudioType','MercuryShareAttachment.react','MercuryShareAttachmentRenderLocations','MessengerErrorAttachment.react','MessengerFileAttachment.react','MessengerHotLikePreview.react','MessengerHotLikeUtils','MessengerPhotosGroup.react','MessengerStickerUtils','MercuryThreads','MessengerVoiceClipAttachment.react','React','Set','Sticker.react','StickerActions','StickerAssetType','StickerConstants','StickerImages','StickerUtils','StoryAttachmentStyle','XStickerAssetController','cx','isRetina'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=new w([j.ANIMATED_IMAGE,j.PHOTO,j.VIDEO]),ia=700,ja=function(la){return la===Object(la);},ka={getAttachmentsInsideBubble:function(la){var ma=i.get(la).filter(ja).filter((function(na){return (!this.attachmentShouldAppearOutsideBubble(na));}).bind(this));return this._getAttachmentComponents(ma,la);},getAttachmentsOutsideBubble:function(la){var ma=i.get(la).filter(ja).filter((function(na){return (this.attachmentShouldAppearOutsideBubble(na));}).bind(this));return this._getAttachmentComponents(ma,la);},_getAttachmentComponents:function(la,ma){var na=this._getPhotosGroup(la.filter(this.isPhotoAttachment),ma),oa=la.filter((function(pa){return !this.isPhotoAttachment(pa);}).bind(this)).map((function(pa){return this._getAttachmentComponent(pa,ma);}).bind(this));if(na)oa.push(na);return oa;},_getAttachmentComponent:function(la,ma){if(s.isStickerAttachment(la))return this._getStickerComponent(la,ma);if(this.isVoiceClip(la))return this._getVoiceClip(la,ma);if(this.isFileAttchment(la))return this._getFileComponent(la,ma);if(this.isP2P(la)||this.isShareAttachment(la))return this._getShareAttachment(la,ma);if(this.isErrorAttachment(la))return this._getErrorAttachment(la,ma);},_getStickerComponent:function(la,ma){if(ma.is_like_preview)return (v.createElement(p,{key:'hlp:'+ma.like_preview_since,since:ma.like_preview_since}));var na=la.metadata;if(!na){na=q.getMetadataForHotLike(ma.sticker_id);if(!na){var oa=ba.getSticker(ma.sticker_id);na=babelHelpers._extends({},oa);var pa=ca.getScaledDimensions(oa?oa.height:aa.THREAD_SIZE,oa?oa.width:aa.THREAD_SIZE,aa.THREAD_SIZE),qa=pa.height,ra=pa.width;na.height=qa;na.width=ra;}na.stickerID=ma.sticker_id;}var sa=ea.getURIBuilder().setInt('sticker_id',na.stickerID),ta=null,ua=null;if(ga()){ta=na.paddedSpriteURI2x;ua=na.spriteURI2x;}else{ta=na.paddedSpriteURI;ua=na.spriteURI;}var va=t.getForFBID(h.getID()).getThreadMetaNow(ma.thread_id),wa=va?va.custom_like_icon:null;return (v.createElement(x,{className:"_2poz _ui9",animationTrigger:'hover',customLike:wa,frameCount:na.frameCount||1,frameRate:na.frameRate||aa.DEFAULT_FRAME_RATE,framesPerCol:na.framesPerCol||1,framesPerRow:na.framesPerRow||1,key:'sticker:'+ma.message_id,onStickerClick:function(xa,ya){y.handleStickerClick(xa,ma.thread_id);},packID:na.packID&&na.packID.toString(),paddedSpriteURI:ta,sourceHeight:na.height,sourceURI:sa.setEnum('image_type',z.IMAGE).getURI().toString(),sourceWidth:na.width,spriteURI:ua,stickerID:na.stickerID.toString()}));},_getShareAttachment:function(la,ma){return v.createElement(l,{attachment:la.share,location:m.MESSENGER,key:'share:'+ma.message_id,maxWidth:ia,thread_id:ma.thread_id});},_getVoiceClip:function(la,ma){return (v.createElement(u,{attachment:la,key:'audio:'+ma.message_id,message:ma}));},_getErrorAttachment:function(la,ma){return (v.createElement(n,{attachment:la,key:'error:'+ma.message_id}));},_getPhotosGroup:function(la,ma){return la.length?v.createElement(r,{attachments:la,className:"_2poz _52mr _ui9",key:'photos:'+ma.message_id,message:ma}):null;},_getFileComponent:function(la,ma){return (v.createElement(o,{attachment:la,className:"_2poz",key:'file:'+la.url}));},attachmentShouldAppearOutsideBubble:function(la){return s.isStickerAttachment(la)||this.isPhotoAttachment(la)||this.isShareAttachment(la)||this.isP2P(la)||this.isVoiceClip(la)||this.isErrorAttachment(la);},isPhotoAttachment:function(la){return ha.has(la.attach_type);},isFileAttchment:function(la){return la.attach_type===j.FILE;},isShareAttachment:function(la){return !!(this._isStoryBased(la)&&!this.isP2P(la)&&(la.share.style_list.indexOf(da.SHARE)>-1||la.share.style_list.indexOf(da.FALLBACK)>-1));},isP2P:function(la){return !!(this._isStoryBased(la)&&la.share.style_list.indexOf(da.ORION)>-1);},_isStoryBased:function(la){return !!(la.attach_type===j.SHARE&&la.share&&la.share.style_list);},isVoiceClip:function(la){return !!la.metadata&&(la.metadata.type===k.AudioClip||la.metadata.type===k.VoiceMessageWithTranscript);},isVoiceClipAttachment:function(la){var ma=i.get(la).filter(ja).filter((function(na){return (this.isVoiceClip(na));}).bind(this));return !!ma.length;},isP2PAttachment:function(la){var ma=i.get(la).filter((function(na){return (ja(na)&&this.isP2P(na));}).bind(this));return !!ma.length;},isErrorAttachment:function(la){return la.attach_type===j.ERROR;}};f.exports=ka;},null);
__d('MNCommerceDialogStateActions',['MessengerDispatcher','MNCommerceActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={showDialog:function(k,l){h.dispatch({type:i.DIALOG.SHOW,dialogContainer:k,state:l});},hideDialog:function(){h.dispatch({type:i.DIALOG.HIDE});}};f.exports=j;},null);
__d('MessengerAttachmentAttribution.react',['ImmutableObject','MercuryAttachmentAttribution.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'MessengerAttachmentAttribution',propTypes:{attachment:l.instanceOf(h)},render:function(){return (j.createElement(i,{attachment:this.props.attachment,className:"_2f5n _4br2"}));}});f.exports=m;},null);
__d('MessengerBubble.react',['immutable','MercuryMessageBody.react','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'MessengerBubble',mixins:[j],propTypes:{attachments:n.instanceOf(h.List),body:n.string,isP2PAttachment:n.bool,ranges:n.array,threadID:n.string,customLike:n.object},render:function(){return (k.createElement('div',{className:m(this.props.className,"_hh7"+(' '+"_s1-")+(' '+"_52mr")+(this.props.isP2PAttachment?' '+"_4z55":''))},k.createElement(i,{className:"_3oh-",body:this.props.body,ranges:this.props.ranges,threadID:this.props.threadID,customLike:this.props.customLike}),this.props.attachments));}});f.exports=o;},null);
__d('MessengerBubbleBlock.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'MessengerBubbleBlock',render:function(){return (h.createElement('div',{className:"_52mr _4h13 _3058"},this.props.children));}});f.exports=j;},null);
__d('MessengerDateBreak.react',['React','cx','formatDate','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'MessengerDateBreak',propTypes:{date:l.instanceOf(Date).isRequired},shouldComponentUpdate:function(n){return this.props.date.getTime()!==n.date.getTime();},render:function(){var n=j(this.props.date,{today:'g:ia',withinWeek:'D g:ia',thisYear:'M jS, g:ia',older:'m/d/Y g:ia'});return (h.createElement('h4',{className:k(this.props.className,"_497p _2lpt")},h.createElement('time',{className:"_3oh-"},n)));}});f.exports=m;},null);
__d('MessengerDeleteMessageDialog.react',['MercuryConfig','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','ReactComponentWithPureRenderMixin','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=p.PropTypes,s=p.createClass({displayName:'MessengerDeleteMessageDialog',mixins:[o],propTypes:{isFromViewer:r.bool,onDelete:r.func,onToggle:r.func},render:function(){return (p.createElement(i,{onToggle:this.props.onToggle},p.createElement(n,null,this._renderDialogHeaderMsg()),p.createElement(j,null,this._renderDialogBodyMsg()),p.createElement(m,null,p.createElement(l,{onClick:this._handleCancel}),p.createElement(k,{label:this._renderDialogButtonMsg(),onClick:this._handleDelete,type:'primary',use:'danger'}))));},_renderDialogHeaderMsg:function(){if(h.MessengerGlobalDeleteGK)if(this.props.isFromViewer){return q._("Delete Message?");}else return q._("Hide Message?");return q._("Delete Message");},_renderDialogBodyMsg:function(){if(h.MessengerGlobalDeleteGK)if(this.props.isFromViewer){return q._("If you delete this message, no one in this conversation can see it anymore and it can't be undone.");}else return q._("If you hide your copy of this message, you can't get it back. The other person in the conversation may still be able to see it.");return q._("Are you sure you want to delete this message?");},_renderDialogButtonMsg:function(){if(!this.props.isFromViewer&&h.MessengerGlobalDeleteGK)return q._("Hide");return q._("Delete");},_handleDelete:function(){this.props.onToggle&&this.props.onToggle(false);this.props.onDelete&&this.props.onDelete();},_handleCancel:function(){this.props.onCancel&&this.props.onCancel();}});f.exports=s;},null);
__d('P2PGroupSendReceiptDialog.react',['CurrentEnvironment','Image.react','Link.react','P2PAmountUtils','P2PButton.react','P2PBigAmount.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLinkConstants','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PText.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=w.PropTypes,aa=w.createClass({displayName:'P2PGroupSendReceiptDialog',propTypes:{amount:z.string.isRequired,eventFlow:z.string,isGrayAmount:z.bool,onClose:z.func.isRequired,receiver:z.object.isRequired,sender:z.object.isRequired,title:z.node},getDefaultProps:function(){return {bodyText:y._("You can send money to friends in groups."),eventFlow:u.UI_FLOW_P2P_GROUP_SEND,isGrayAmount:false,title:y._("Payment Details")};},componentDidMount:function(){this.log(t.UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount});},log:function(ba,ca){s.log(ba,babelHelpers._extends({www_event_flow:this.props.eventFlow},ca));},handleClose:function(){this.log(t.UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED);this.props.onClose();},renderParticipantRow:function(ba,ca){var da;if(ca){da=y._("From");}else da=y._("To");return (w.createElement('li',{className:"_2chg",key:ba.id},w.createElement('div',{className:"_2chh"},w.createElement(j,{href:ba.profile_uri,onClick:this.props.onClose},w.createElement(i,{height:50,src:ba.picture,width:50}))),w.createElement('div',{className:"_2chi"},w.createElement(v,{type:'primary'},w.createElement(v,{type:'secondary'},da),ba.full_name))));},render:function(){var ba=h.messengerdotcom,ca=ba?380:360,da=this.props.title;return (w.createElement(n,{className:ba?"_bpv":'',layerHideOnBlur:false,onToggle:this.props.onClose,width:ca},w.createElement(q,null,da),w.createElement(o,null,w.createElement('ul',null,this.renderParticipantRow(this.props.sender,true),this.renderParticipantRow(this.props.receiver,false)),w.createElement('div',{className:"_bpy"},w.createElement(m,{amount:k.sanitizeAmount(this.props.amount),isPending:this.props.isGrayAmount,size:'large'})),w.createElement(v,{className:"_bpt",size:'small',type:'secondary'},this.props.bodyText,' ',w.createElement(j,{className:"_1ed3",href:r.helpCenterURI,target:'_blank'},y._("Learn More")))),w.createElement(p,null,w.createElement(l,{label:y._("OK"),onClick:this.handleClose,type:'primary'}))));}});f.exports=aa;},null);
__d("XP2PTransactionDetailController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transaction\/",{id:{type:"String",required:true}});},null);
__d('P2PMercuryLogMessage.react',['CurrentEnvironment','CurrentUser','Link.react','MercuryIDs','P2PGroupSendReceiptDialog.react','P2PPaymentLogMessageSubtype','React','ReactLayeredComponentMixin','XP2PTransactionDetailController','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=n.PropTypes,t=n.createClass({displayName:'P2PMercuryLogMessage',mixins:[o],propTypes:{amount:s.string,receiver:s.object.isRequired,sender:s.object.isRequired,subtype:s.oneOf(Object.keys(m).map(function(u){return m[u];})),transferID:s.string.isRequired,threadFBID:s.string,threadID:s.string},getDefaultProps:function(){return {amount:'',sender:null,receiver:null,subtype:null};},getInitialState:function(){return {groupSendReceiptDetailsShown:false};},handleGroupDetailsLinkClicked:function(){this.setState({groupSendReceiptDetailsShown:true});},handleThirdPartyReceiptDialogClosed:function(){this.setState({groupSendReceiptDetailsShown:false});},isViewerSender:function(){return (k.getUserIDFromParticipantID(this.props.sender.id)===i.getID());},isViewerReceiver:function(){return (k.getUserIDFromParticipantID(this.props.receiver.id)===i.getID());},renderTransferDetailsLink:function(){var u=p.getURIBuilder().setString('id',this.props.transferID).getURI();return (n.createElement(j,{className:"_kiq",href:u,target:'_blank'},r._("See details")));},renderGroupDetailsLink:function(){return (n.createElement(j,{className:"_kiq",href:'#',onClick:this.handleGroupDetailsLinkClicked},r._("See details")));},renderLayers:function(){var u={};if(this.state.groupSendReceiptDetailsShown){var v={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},w={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};u.groupSendReceiptDetailsDialog=n.createElement(l,{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:v,sender:w});}return u;},render:function(){var u=null,v=this.props.amount,w=this.props.subtype,x=this.isViewerSender(),y=this.isViewerReceiver(),z;if(!x&&!y){z=this.renderGroupDetailsLink();}else z=this.renderTransferDetailsLink();switch(w){case m.SENT_IN_GROUP:u=r._("{sendername} sent {amount} to {receivername}. {details}",[r.param('sendername',this.props.sender.name),r.param('amount',v),r.param('receivername',this.props.receiver.name),r.param('details',z)]);break;case m.CANCELED_EXPIRED:case m.CANCELED_SAME_CARD:case m.CANCELED_SENDER_RISK:case m.CANCELED_RECIPIENT_RISK:case m.CANCELED_CUSTOMER_SERVICE:if(x){u=r._("Your {amount} payment was canceled. {details}",[r.param('amount',v),r.param('details',this.renderTransferDetailsLink())]);}else if(y){u=r._("{name}'s {amount} payment was canceled. {details}",[r.param('name',this.props.sender.name),r.param('amount',v),r.param('details',this.renderTransferDetailsLink())]);}else u=r._("{sender_name}'s {amount} payment to {receiver_name} was canceled. {details}",[r.param('sender_name',this.props.sender.name),r.param('amount',v),r.param('receiver_name',this.props.receiver.name),r.param('details',z)]);u=n.createElement('span',{className:"_5rdx"},u);break;case m.CANCELED_DECLINED:if(x){u=r._("{name} didn't accept your {amount} payment. {details}",[r.param('name',this.props.receiver.name),r.param('amount',v),r.param('details',this.renderTransferDetailsLink())]);}else if(y){u=r._("You didn't accept {name}'s {amount} payment. {details}",[r.param('name',this.props.sender.name),r.param('amount',v),r.param('details',this.renderTransferDetailsLink())]);}else u=r._("{receiver_name} didn't accept {sender_name}'s {amount} payment. {details}",[r.param('receiver_name',this.props.receiver.name),r.param('sender_name',this.props.sender.name),r.param('amount',v),r.param('details',z)]);u=n.createElement('span',{className:"_5rdx"},u);break;}return (n.createElement('div',{className:h.messengerdotcom?"_5rdy":''},u));}});f.exports=t;},null);
__d('MessengerLogMessageBody.react',['immutable','ImmutableObject','MercuryIDs','MercuryParticipants','MercuryLogMessageType','P2PMercuryLogMessage.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=o.PropTypes,s=o.createClass({displayName:'MessengerLogMessageBody',_viewer:'',mixins:[n,p(k)],propTypes:{message:r.instanceOf(i).isRequired,viewer:r.string.isRequired},statics:{calculateState:function(t){var u=[],v=t.message,w=v.log_message_data,x=v.log_message_type;switch(x){case l.SUBSCRIBE:u=w.added_participants;break;case l.UNSUBSCRIBE:u=w.removed_participants;break;case l.ORION:u.push(w.senderId,w.receiverId);break;}if(!u||!u.length)return {};var y=h.Map().withMutations(function(z){u.forEach(function(aa){z.set(aa,k.getOrFetch(aa)||{});});});return {extraParticipants:y};}},render:function(){var t=this.props.message.log_message_type;this._viewer=j.getParticipantIDFromUserID(this.props.viewer);if(this._viewer!==this.props.message.author&&t!==l.ORION)return null;switch(t){case l.SUBSCRIBE:return (o.createElement('span',null,this._renderSubscribeMessage(this.props.message)));case l.UNSUBSCRIBE:return (o.createElement('span',null,this._renderUnsubscribeMessage(this.props.message)));case l.THREAD_NAME:var u=this.props.message.log_message_data;if(!u.name)return (o.createElement('span',null,q._("You removed the group name.")));return (o.createElement('span',null,q._("You named the group {the new name of the group}.",[q.param('the new name of the group',u.name)])));case l.THREAD_IMAGE:return (o.createElement('span',null,q._("You changed the group photo.")));case l.ORION:return this._renderP2PLogMessage(this.props.message);default:return null;}},_renderP2PLogMessage:function(t){var u=t.log_message_data,v=u.senderId,w=u.receiverId,x=this.state.extraParticipants,y=x.get(v),z=x.get(w);return (o.createElement(m,{amount:u.formattedAmount,receiver:z,sender:y,subtype:u.subtype,threadFBID:t.thread_fbid,threadID:t.thread_id,transferID:u.transfer_id}));},_renderSubscribeMessage:function(t){var u=this._moveCurrentUserToFront(t.log_message_data.added_participants),v=this.state.extraParticipants;switch(u.length){case 1:return q._("You added {subscriber1}.",[q.param('subscriber1',v.get(u[0]).name)]);case 2:return q._("You added {subscriber1} and {subscriber2}.",[q.param('subscriber1',v.get(u[0]).name),q.param('subscriber2',v.get(u[1]).name)]);case 3:return q._("You added {subscriber1}, {subscriber2} and {subscriber3}.",[q.param('subscriber1',v.get(u[0]).name),q.param('subscriber2',v.get(u[1]).name),q.param('subscriber3',v.get(u[2]).name)]);default:var w=u.map(function(x){return v.get(x);});return q._("You added {subscriber1}, {subscriber2} and {num} other people.",[q.param('subscriber1',w[0].name),q.param('subscriber2',w[1].name),q.param('num',w.slice(2).length)]);}},_renderUnsubscribeMessage:function(t){var u=this.state.extraParticipants,v=t.log_message_data.removed_participants[0],w=u.get(v);if(!v||v===t.author){return q._("You left the conversation.");}else return q._("You removed {name} from the conversation.",[q.param('name',w.name)]);},_moveCurrentUserToFront:function(t){var u=this._viewer,v=t.indexOf(u);if(v>0){var w=t.filter(function(x){return x!==u;});return [u].concat(w);}return t;}});f.exports=s;},null);
__d('MNCommerceLoggingConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DIALOG_SURFACE:{CHECKOUT_ORDER_CONFIG:'checkout_order_config',SHIPMENT:'shipment',RECEIPT:'receipt',UNLINK:'unlink',UNLINK_ERROR:'unlink_error',MANAGE:'manage'}};f.exports=h;},null);
__d('MNCommerceUnlinkDialog.react',['MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'MNCommerceUnlinkDialog',propTypes:{onCancelButtonClick:o.func,onTurnOffButtonClick:o.func},render:function(){var q=n._("Cancel"),r=n._("Turn Off");return (m.createElement(i,{onToggle:this.props.onToggle,shown:this.props.shown},m.createElement(l,{showCloseButton:false},n._("Unlink account?")),m.createElement(j,null,m.createElement('div',null,n._("You can turn off updates if you didn't sign up or just don't want to get them anymore."))),m.createElement(k,null,m.createElement(h,{label:q,onClick:this.props.onCancelButtonClick,use:'default'}),m.createElement(h,{label:r,onClick:this.props.onTurnOffButtonClick,use:'confirm'}))));}});f.exports=p;},null);
__d('MNCommerceUnlinkDialogContainer.react',['BanzaiLogger','MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceUnlinkDialog.react','MNCommerceUnlinkErrorDialog.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=o.createClass({displayName:'MNCommerceUnlinkDialogContainer',render:function(){var q=j.getState();if(q&&q.errorType){h.log('MessengerCommerceLoggerConfig',{event:l.DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:k.DIALOG_SURFACE.UNLINK_ERROR})});return (o.createElement(n,{onToggle:this._onToggle,shown:!!q,errorType:q.errorType,onOkayButtonClick:this._hideDialog}));}else{h.log('MessengerCommerceLoggerConfig',{event:l.DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:k.DIALOG_SURFACE.UNLINK})});return (o.createElement(m,{onToggle:this._onToggle,shown:!!q,onCancelButtonClick:this._hideDialog,onTurnOffButtonClick:q&&q.onTurnOffButtonClick}));}},_onToggle:function(q){if(!q)this._hideDialog();},_hideDialog:function(){i.hideDialog();}});f.exports=p;},null);
__d("XMNCommerceUnlinkController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messages\/commerce\/unlink\/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}});},null);
__d('MNCommerceUnlinkDataManager',['AsyncRequest','MNCommerceDialogStateActions','MNCommerceUnlinkDialogContainer.react','XMNCommerceUnlinkController'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();l.prototype.unlink=function(m,n){var o=k.getURIBuilder().setString('page_id',m).setString('user_id',n).getURI();new h().setURI(o).setErrorHandler(this.$MNCommerceUnlinkDataManager1).send();};l.prototype.$MNCommerceUnlinkDataManager1=function(m){i.showDialog(j,{errorType:m.error});};function l(){}f.exports=new l();},null);
__d('MNCommerceLogMessageUtils',['BanzaiLogger','Link.react','MercuryConfig','MercuryIDs','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceDialogStateActions','MNCommerceReplyTypes','MNCommercePromotionBlockDataManager','MNCommercePromotionManageBlockDialogContainer.react','MNCommerceUnlinkDataManager','MNCommerceUnlinkDialogContainer.react','React','cx','fbt','invariant','MercuryThreads'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=c('MercuryThreads').get();y.prototype.isCommercePageAdminMessage=function(z){return !!(z&&z.log_message_data&&(z.log_message_data.replyType===o.COMMERCE_LINK||z.log_message_data.replyType===o.COMMERCE_UNLINK));};y.prototype.getCommercePageManage=function(z,aa){var ba=null;if(j.WWWMessengerManageAdminGK){var ca=function(){var ea=k.getUserIDFromParticipantID(z.author),fa=function(ga,ha){return p.block(ga,ha);};n.showDialog(q,{pageID:ea,onConfirmButtonClick:fa});h.log('MessengerCommerceLoggerConfig',{event:m.DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:l.DIALOG_SURFACE.MANAGE})});};ba=t.createElement(i,{className:(!aa?"_2w2m":'')+(aa?' '+"_1jvn":''),onClick:ca},v._("Manage"));}else if(z.log_message_data.replyType===o.COMMERCE_LINK){var da=function(){var ea=k.getUserIDFromParticipantID(z.author),fa=x.getThreadMetaNow(z.thread_id);!fa?w(0):undefined;var ga=null;fa.participants.every(function(ia){if(ia!==z.author){ga=k.getUserIDFromParticipantID(ia);return false;}return true;});var ha=function(){n.hideDialog();r.unlink(ea,ga);};n.showDialog(s,{onTurnOffButtonClick:ha});h.log('MessengerCommerceLoggerConfig',{event:m.DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:l.DIALOG_SURFACE.UNLINK})});};ba=t.createElement(i,{className:(!aa?"_2w2m":'')+(aa?' '+"_1jvn":''),onClick:da},v._("Turn Off"));}return (t.createElement('span',null,z.log_message_body,' ',ba));};function y(){}f.exports=new y();},null);
__d('MessengerLogMessage.react',['Image.react','ImmutableObject','MercuryIDs','MercuryLogMessageType','MercuryMessageInfo','MessagingGenericAdminTextType','MessengerLogMessageBody.react','MNCommerceLogMessageUtils','React','MercuryParticipants','ReactComponentWithPureRenderMixin','cx','fbt','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=p.PropTypes,x=u('/images/mercury/clients/messenger/message/messageStateFailed.png'),y=p.createClass({displayName:'MessengerLogMessage',mixins:[r],propTypes:{message:w.instanceOf(i).isRequired,viewer:w.string.isRequired},render:function(){return (p.createElement('div',{className:this._computeClass()},this._renderErrorState(),p.createElement('i',{className:"_uwa"}),p.createElement('span',{className:"_3oh-"},this._renderLogMessageBody())));},_renderLogMessageBody:function(){var z;if(this.props.message.log_message_type!==k.ORION){z=this.props.message.log_message_body;if(this.props.message.log_message_data.message_type===m.TURN_ON_PUSH&&z&&z.length>0)z=t._("{admin-text-message} for Messenger on mobile.",[t.param('admin-text-message',z.substring(0,z.length-1))]);}switch(this.props.message.log_message_data.message_type){case m.JOURNEY_PROMPT_COLOR:z=t._("You need to be on the latest version of Messenger on a mobile device to pick a color for this conversation.");break;case m.JOURNEY_PROMPT_NICKNAME:var aa=null;if(this.props.message.other_user_fbid&&this.props.viewer!==this.props.message.other_user_fbid){var ba=j.getParticipantIDFromUserID(this.props.message.other_user_fbid);aa=q.getOrFetch(ba);}if(aa&&aa.short_name){z=t._("You need to be on the latest version of Messenger on a mobile device to set a nickname for {admin-text-message} .",[t.param('admin-text-message',aa.short_name)]);}else z=t._("You need to be on the latest version of Messenger on a mobile device to set a nickname for yourself.");break;case m.JOURNEY_PROMPT_LIKE:z=t._("You need to be on the latest version of Messenger on a mobile device to pick an emoji for this conversation.");break;default:break;}return (this._renderMNCommerceManage()||z||p.createElement(n,{message:this.props.message,viewer:this.props.viewer}));},_renderMNCommerceManage:function(){var z=this.props.message;if(o.isCommercePageAdminMessage(z))return o.getCommercePageManage(z,true);},_renderErrorState:function(){if(!l.hasError(this.props.message))return null;return (p.createElement(h,{className:"_41-9",src:x}));},_computeClass:function(){var z,aa=this.props.message,ba=aa.log_message_type===k.UNSUBSCRIBE&&aa.log_message_data.removed_participants.indexOf(aa.author)!==-1,ca=this.props.viewer;switch(aa.log_message_type){case k.SUBSCRIBE:z="_uwb";break;case k.UNSUBSCRIBE:z=ba?"_uwc":"_uwe";break;case k.PHONE_CALL:z=aa.log_message_data.caller.indexOf(ca)!==-1?"_uwf":"_uwg";break;case k.VIDEO_CALL:z=aa.log_message_data.caller.indexOf(ca)!==-1?"_uwh":"_uwi";break;case k.THREAD_NAME:z="_uwj";break;case k.THREAD_IMAGE:z="_uwk";break;case k.SERVER_ERROR:z="_uwl";break;case k.LIVE_LISTEN:z="_uwm";break;case k.WALLPAPER:z="_uwn";break;case k.ORION:z="_uwo";break;case k.SWITCH_TO_WORK:z="_uwp";break;case k.PAGE_REPLY:z="_uwq";break;}return v("_497p"+((aa.log_message_type===k.PHONE_CALL||aa.log_message_type===k.VIDEO_CALL)&&!aa.log_message_data.answered?' '+"_3no3":''),z);}});f.exports=y;},null);
__d('MessengerContextualActions.react',['ContextualLayerUpdateOnScroll','LayerHideOnBlur','Link.react','React','ReactAbstractContextualDialog','ReactLayer','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=m.createClass(l.createSpec({displayName:'MessengerContextualActionsDialog',theme:{wrapperClassName:"_hw2",arrowDimensions:{offset:12,length:12}}})),q=k.createClass({displayName:'MessengerContextualActions',propTypes:{onToggle:o.func},render:function(){var s=this.props,t=s.children,u=babelHelpers.objectWithoutProperties(s,['children']);return (k.createElement(p,babelHelpers._extends({},u,{alignment:'center',behaviors:{ContextualLayerUpdateOnScroll:h,LayerHideOnBlur:i},onToggle:this.props.onToggle}),k.createElement('ul',{className:"_hw3"},t)));}}),r=k.createClass({displayName:'MessengerContextualActionsItem',propTypes:{onClick:o.func},render:function(){return (k.createElement('li',{className:"_hw4"},k.createElement(j,{className:"_hw5",onClick:this.props.onClick},this.props.children)));}});q.Item=r;f.exports=q;},null);
__d('MessengerMessageActionsWrapper.react',['DOMQuery','ImmutableObject','ReactLayeredComponentMixin','MercuryConfig','MercuryMessageActions','MercuryMessageInfo','MessengerActions','MessengerContextualActions.react','MessengerDeleteMessageDialog.react','Parent','React','ReactDOM','csx','cx','fbt','invariant','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=o.Item,z=r.PropTypes,aa="_ui9",ba="._ui9",ca=r.createClass({displayName:'MessengerMessageActionsWrapper',mixins:[j],propTypes:{isActive:z.bool,isDeletable:z.bool,isFromViewer:z.bool,message:z.instanceOf(i).isRequired,onDeselect:z.func.isRequired,onSelect:z.func.isRequired},getDefaultProps:function(){return {isDeletable:true};},render:function(){return (r.createElement('div',babelHelpers._extends({onContextMenu:this._handleContextMenu},this.props),this.props.children));},renderLayers:function(){if(!this.props.isDeletable||!this.props.isActive)return {};var da=s.findDOMNode(this),ea=da&&h.scry(da,ba)[0];if(!ea)return {};return {contextualDialog:r.createElement(o,{context:ea,onToggle:this._handleActionsToggle,shown:this.props.isActive},this._renderRetry(),r.createElement(y,{onClick:this._handleDelete},this._renderActionItemMsg()))};},_renderActionItemMsg:function(){if(!this.props.isFromViewer&&k.MessengerGlobalDeleteGK)return v._("Hide");return v._("Delete");},_renderRetry:function(){if(!m.hasError(this.props.message))return null;return (r.createElement(y,{onClick:this._handleRetry},v._("Try Again")));},_handleActionsToggle:function(da){!da&&this._handleDeselect();},_handleDeselect:function(){this.props.onDeselect(this.props.message.message_id);},_handleDelete:function(){var da=this.props.message;n.showDialog(p,{onDelete:function(){l.get()['delete'](da.thread_id,[da.message_id]);},onToggle:this._handleDialogToggle,onCancel:this._handleDeselect,isFromViewer:this.props.isFromViewer});},_handleDialogToggle:function(da){if(!da)n.hideDialog();},_handleRetry:function(){this._handleDeselect();l.get().resend(this.props.message);},_handleContextMenu:function(da){if(!this._shouldAllowNativeContextMenu(da))da.preventDefault();x((function(){this.props.onSelect(this.props.message.message_id);}).bind(this));},_shouldAllowNativeContextMenu:function(da){!(da.target instanceof HTMLElement)?w(0):undefined;return (da.target.nodeName.toLowerCase()==='a'||window.getSelection().toString()!==''||!q.byClass(da.target,aa));}});f.exports=ca;},null);
__d('MessengerMessageSeenHeads.react',['Image.react','immutable','ImmutableObject','MercuryMessageInfo','MessengerConfig','ReactComponentWithPureRenderMixin','React','cssVar','cx','fbt','getViewportDimensions','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.PropTypes,u=l.MaxSeenHeadCount||8,v=n.createClass({displayName:'MessengerMessageSeenHeads',mixins:[m],propTypes:{isFromViewer:t.bool,message:t.instanceOf(j).isRequired,nextTimestamp:t.number.isRequired,participants:t.instanceOf(i.Map).isRequired,readReceipts:t.instanceOf(i.OrderedMap).isRequired},render:function(){var x=this.props,y=x.message,z=x.nextTimestamp,aa=x.participants,ba=x.readReceipts;if(k.isSending(y)||ba.isEmpty())return null;var ca=i.Seq(ba).filter(function(ka,la){return (ka>=y.timestamp&&ka<z);});if(ca.isEmpty())return null;var da=this.props.isFromViewer?u:w(),ea=ca.count()>da+1,fa=ea?ca.slice(0,da):ca,ga=fa.map(function(ka,la){var ma=aa.get(la);if(!ma)return null;var na=q._("Seen by {full name}",[q.param('full name',ma.name)]);return (n.createElement(h,{alt:na,className:"_jf2",key:la,src:ma.image_src,title:na}));}).toArray(),ha=ga.length;if(!ha)return null;var ia=ea?ca.slice(da).count():0;if(ia>0){var ja=ca.slice(da).map(function(ka,la){var ma=aa.get(la);return ma?ma.name:null;}).filter(function(ka){return !!ka;}).join('\n')+' ';ga.unshift(n.createElement('span',{className:"_jf3",key:'overflow',title:ja},'+'+ia));}return (n.createElement('span',{className:s(this.props.className,"_jf4"+(ha+ia===1?' '+"_jf5":''))},ga));}});function w(){var x=r().width;if(x<parseInt("920px".replace('px',''),10))return Math.min(u,8);if(x<parseInt("1211px".replace('px',''),10))return Math.min(u,3);return u;}f.exports=v;},null);
__d('messengerRTLClasses',['cx','isRTL'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k,l){var m=i(k||'');return l?m?"_4pv0":'':(!m?"direction_ltr":'')+(m?' '+"direction_rtl":'')+(!m?' '+"text_align_ltr":'')+(m?' '+"text_align_rtl":'')+(m?' '+"_4pv0":'');}f.exports=j;},null);
__d('MessengerMessage.react',['MercuryDisplayTimeFilterMessageRenderer','immutable','ImmutableObject','MercuryAttachment','MercuryConfig','MercuryMessageDeliveryState','MercuryMessageInfo','MessengerAttachmentAttribution.react','MessengerAttachmentRenderer','MessengerBubble.react','MessengerBubbleBlock.react','MessengerCodeBubble.react','MessengerCodePasteUtils','MessengerConfig','MessengerMessageActionsWrapper.react','MessengerMessageSeenHeads.react','React','cx','fbt','joinClasses','messengerRTLClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){'use strict';if(c.__markCompiled)c.__markCompiled();var ca=x.PropTypes;function da(fa){switch(fa){case m.SENDING:return z._("Sending");case m.SENT:return z._("Sent");case m.DELIVERED:return z._("Delivered");case m.ERROR:return z._("Error");}return null;}var ea=x.createClass({displayName:'MessengerMessage',propTypes:{deliveryTimestamp:ca.number.isRequired,isActive:ca.bool,isFromViewer:ca.bool,message:ca.instanceOf(j).isRequired,nextTimestamp:ca.number.isRequired,onDeselect:ca.func.isRequired,onSelect:ca.func.isRequired,participants:ca.instanceOf(i.Map).isRequired,readReceipts:ca.instanceOf(i.OrderedMap).isRequired,showDeliveryState:ca.bool},shouldComponentUpdate:function(fa){return (fa.isActive!==this.props.isActive||fa.isFromViewer!==this.props.isFromViewer||fa.message!==this.props.message||fa.nextTimestamp!==this.props.nextTimestamp||fa.showDeliveryState!==this.props.showDeliveryState||fa.deliveryTimestamp!==this.props.deliveryTimestamp||!i.is(fa.readReceipts,this.props.readReceipts)||!i.is(fa.participants,this.props.participants));},render:function(){return (x.createElement(v,{className:aa("_o46"+(' '+"_3erg")+(this.props.isActive?' '+"_-5k":'')+(this.props.isFromViewer?' '+"_3i_m":'')+(this.props.isFromViewer?' '+"_nd_":'')+(!this.props.isFromViewer?' '+"_29_7":''),ba(this.props.message.body)),isActive:this.props.isActive,isDeletable:!this._isP2PAttachment(),isFromViewer:this.props.isFromViewer,message:this.props.message,onDeselect:this.props.onDeselect,onSelect:this.props.onSelect},x.createElement('div',{className:'clearfix'},this._renderBubble(),this._renderAttachmentsOutsideBubble()),this._renderErrorState(),this._renderDeliveryState(),x.createElement(w,{className:"_4jzq",isFromViewer:this.props.isFromViewer,message:this.props.message,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts})));},_renderAttachmentsOutsideBubble:function(){var fa=p.getAttachmentsOutsideBubble(this.props.message);if(!fa||!fa.length)return null;var ga=x.createElement('div',{className:"_3058 _15gf"},fa);if(this.props.message.attachments.length===1&&k.hasAttribution(this.props.message.attachments[0]))return (x.createElement(r,null,ga,x.createElement(o,{attachment:new j(this.props.message.attachments[0])})));return ga;},_isP2PAttachment:function(){return (p.isP2PAttachment(this.props.message));},_renderBubble:function(){var fa=this.props.message,ga=i.List(p.getAttachmentsInsideBubble(fa));if(l.MessengerCodePaste&&t.containsCodeBlock(fa.body))return (x.createElement(s,{attachments:ga,body:fa.body,className:"_3058 _ui9",ranges:fa.ranges||[],threadID:fa.thread_id||''}));if(fa.is_filtered_content)return (x.createElement('div',{className:"_3058 _wiu _52mr uiBoxYellow clearfix"},h.renderFilteredContent(fa)));if(fa.body||!ga.isEmpty())return (x.createElement(q,{attachments:ga,body:fa.body,className:"_3058 _ui9",isP2PAttachment:this._isP2PAttachment(),ranges:fa.ranges,threadID:fa.thread_id,customLike:fa.customLike}));return null;},_renderDeliveryState:function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var fa=n.getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(fa===m.UNKNOWN)return null;return (x.createElement('span',{className:"_2her"+(fa===m.SENDING?' '+"_4jzp":'')+(fa===m.SENT?' '+"_3zzf":'')+(fa===m.DELIVERED?' '+"_9ah":'')+(fa===m.ERROR?' '+"_5ei9":''),onClick:fa===m.ERROR?this._handleSelect:null,title:da(fa)}));},_renderErrorState:function(){var fa=this.props.message;if(!n.hasError(fa))return null;return (x.createElement('span',{className:"_3058 _2ygi",onClick:this._handleSelect},z._("Message couldn't be sent.")));},_handleSelect:function(fa){fa.stopPropagation();this.props.onSelect(this.props.message.message_id);}});f.exports=ea;},null);
__d('MessengerPageAdminNoteList.react',['LeftRight.react','MessengerBubble.react','PagesMessengerCreatorInfo.react','ReactComponentWithPureRenderMixin','React','enumerate','classWithMixins','cx','fbt','immutable','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';var u=l.PropTypes;s=babelHelpers.inherits(v,n(l.Component,r(k)));t=s&&s.prototype;v.prototype.render=function(){var w=[],x=this.calculateGroups(this.props.notes);x.forEach((function(y,z){w.push(l.createElement('li',{className:"_4kd2",key:'group:'+z},this.$MessengerPageAdminNoteList1(y)));}).bind(this));return (l.createElement('ul',{className:"_4kd3"},w));};v.prototype.$MessengerPageAdminNoteList1=function(w){var x=[];w.forEach((function(y,z){x.push(l.createElement('div',{className:"_4kd4",key:'note:'+z},this.$MessengerPageAdminNoteList2(y,w)));}).bind(this));return x;};v.prototype.$MessengerPageAdminNoteList2=function(w,x){var y=q.List([l.createElement(h,{className:"_561k"},l.createElement('div',{className:"_561l"},p._("Private Note")),l.createElement(j,{key:'creator_info',creator_info:x[0].creator_info,isNote:true}))]);return (l.createElement('div',{className:"_o46 _3i_m _nd_"},l.createElement('div',{className:'clearfix'},l.createElement(i,{body:w.body,attachments:y,className:"_3058 _4kd5"}))));};v.prototype.calculateGroups=function(w){var x=[],y=null,z=null,aa=m(w),ba;while(!(ba=aa.next()).done){var ca=z&&z.value.creator_info.creatorID===ba.value.creator_info.creatorID;if(!ca){y=[];x.push(y);}if(y)y.push(ba.value);z=ba;}return x;};function v(){s.apply(this,arguments);}v.propTypes={notes:u.arrayOf(u.shape({id:u.string,body:u.string.isRequired,creator_info:u.shape({creatorID:u.string.isRequired,creatorName:u.string.isRequired,creatorType:u.string.isRequired,labelType:u.string.isRequired,pageID:u.string.isRequired,profileURI:u.string}),timestamp:u.number.isRequired})).isRequired};f.exports=v;},null);
__d('MessengerMessageGroup.react',['immutable','ImmutableObject','Image.react','Link.react','MercuryIDs','MercuryParticipants','MercuryTimestamp','MessengerActions','MessengerDateBreak.react','MessengerMessage.react','MessengerPageAdminNoteList.react','MessengerProfileImageWrapper.react','MessengerStickerUtils','PagesMessengerCreatorInfo.react','React','ReactDOM','StoreAndPropBasedStateMixin','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';if(c.__markCompiled)c.__markCompiled();var aa=h.List,ba=h.OrderedMap,ca=v.PropTypes,da=32,ea=new i({image_src:'',is_messenger_user:true,name:''}),fa=v.createClass({displayName:'MessengerMessageGroup',mixins:[x(m)],propTypes:{activeMessageID:ca.string,deliveryTimestamp:ca.number.isRequired,hasDateBreak:ca.bool,isCanonical:ca.bool,isFromViewer:ca.bool,isPageMessage:ca.bool,lastReadTimestamp:ca.number.isRequired,messages:ca.instanceOf(h.List).isRequired,nextTimestamp:ca.number.isRequired,onMessageDeselect:ca.func.isRequired,onMessageSelect:ca.func.isRequired,readReceipts:ca.instanceOf(ba).isRequired,thread:ca.object},statics:{calculateState:function(ia){return {participants:ga(ia)};}},shouldComponentUpdate:function(ia,ja){return (this.props.activeMessageID!==ia.activeMessageID||this.props.isFromViewer!==ia.isFromViewer||this.props.deliveryTimestamp!==ia.deliveryTimestamp||this.props.lastReadTimestamp!==ia.lastReadTimestamp||!h.is(this.props.messages,ia.messages)||!h.is(this.props.readReceipts,ia.readReceipts)||!h.is(this.state.participants,ja.participants));},render:function(){return (v.createElement('div',null,v.createElement('div',{className:"_1t_p"+(' '+"clearfix")+(t.isStickerMessageGroup(this.props.messages)?' '+"_5tx1":'')+(this._hasSeenHeadsAtBottom()?' '+"_35fy":'')},this._renderProfileColumn(),this._renderName(),v.createElement('div',{className:"_1t_s"},this._renderMessages())),this.props.isPageMessage?this._renderNotes():null));},_renderProfileColumn:function(){if(this.props.isFromViewer)return null;var ia=this.props.messages.last(),ja=this.state.participants.get(ia.author)||ea,ka=z._("{name} {time}",[z.param('name',ja.name),z.param('time',n.getPreciseTimestamp(ia.timestamp))]),la=v.createElement(s,{className:"_1t_r",isMessengerUser:ja.is_messenger_user,size:da,showBadge:true,tooltipContent:ka},v.createElement(j,{alt:'',src:ja.image_src,height:da,width:da}));if(!this.props.isCanonical)la=v.createElement(k,{className:"_5f0v",onClick:this._handleContactSelect.bind(this,ja),tabIndex:-1},la);return (v.createElement('div',{className:"_1t_q"},la));},_renderMessages:function(){var ia=this.props.messages.size,ja=[];this.props.messages.forEach((function(ka,la,ma){var na=ka.message_id===this.props.activeMessageID;if(na&&!(la===0&&this.props.hasDateBreak))ja.push(v.createElement(p,{className:"_5r8z",date:new Date(ka.timestamp),key:'db:'+ka.message_id}));ja.push(v.createElement(q,{deliveryTimestamp:this.props.deliveryTimestamp,isActive:na,isFromViewer:this.props.isFromViewer,key:ka.message_id,message:ka,participants:this.state.participants,nextTimestamp:this._getNextTimestamp(ma,ia,la),onDeselect:this.props.onMessageDeselect,onSelect:this.props.onMessageSelect,readReceipts:this.props.readReceipts,showDeliveryState:ka.timestamp>this.props.lastReadTimestamp,ref:ka.message_id}));if(ha(this.props.isPageMessage,ma,la,ka))ja.push(v.createElement(u,{key:'creator_info:'+la,creator_info:ka.creator_info}));}).bind(this));return ja;},_renderNotes:function(){var ia=[];this.props.messages.forEach((function(ja,ka,la){if(this.props.isPageMessage&&ja.page_admin_notes)ia.push(v.createElement(r,{key:'notes:'+ja.message_id,notes:ja.page_admin_notes}));}).bind(this));return ia;},_renderName:function(){var ia=this.state.participants.get(this.props.messages.first().author);if(!ia)return null;var ja=ia.short_name;if(this.props.thread){var ka=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null,la=l.getUserIDFromParticipantID(ia.id);if(ka&&la&&ka[la])ja=ka[la];}return (v.createElement('h5',{className:"_ih3"+(this.props.isCanonical||this.props.isFromViewer?' '+"_-ne":'')},v.createElement('span',{className:"_3oh-"},ja)));},getMessageElement:function(ia){return w.findDOMNode(this.refs[ia]);},_hasSeenHeadsAtBottom:function(){var ia=this.props,ja=ia.messages,ka=ia.nextTimestamp,la=ia.readReceipts,ma=ja.last().timestamp,na=0;la.forEach(function(oa){if(oa>=ma&&oa<ka)if(++na===2)return false;});return na===2;},_getNextTimestamp:function(ia,ja,ka){return ka<ja-1?ia.get(ka+1).timestamp:this.props.nextTimestamp;},_handleContactSelect:function(ia){var ja=l.getThreadIDFromParticipantID(ia.id);ja&&o.selectThread(ja);}});function ga(ia){var ja=ia.messages.first().author;return h.Map().withMutations(function(ka){ia.readReceipts.forEach(function(la,ma){ka.set(ma,m.getOrFetch(ma));});ka.set(ja,m.getOrFetch(ja));});}function ha(ia,ja,ka,la){if(!ia||!la.creator_info)return false;if(ka===ja.size-1)return true;var ma=ja.get(ka+1).creator_info;if(!ma)return true;return la.creator_info.creatorID!==ma.creatorID;}f.exports=fa;},null);
__d('MessengerTypingIndicator.react',['Image.react','immutable','MercuryParticipants','MercuryTypingAnimation.react','MessengerProfileImageWrapper.react','MessengerBubble.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=o.PropTypes,s=32,t=o.createClass({displayName:'MessengerTypingIndicator',mixins:[n,p(j)],propTypes:{userID:r.string,showName:r.bool},statics:{calculateState:function(u){return {author:j.getOrFetch(u.userID)};}},render:function(){if(!this.state.author)return null;var u=this.state.author;return (o.createElement('div',{className:"_1t_p _1hbw"},o.createElement('div',{className:"_1t_q"},o.createElement(l,{className:"_1t_r",isMessengerUser:u.is_messenger_user,size:s,showBadge:true},o.createElement(h,{alt:'',src:u.image_src,height:s,width:s}))),o.createElement('div',{className:"_1t_s"},o.createElement('div',{className:"_o46 _3erg _29_7"},o.createElement('div',{className:'clearfix'},o.createElement(m,{attachments:i.List([o.createElement(k,{key:'animation'})]),body:'',className:"_3058",ref:'bubble'}))))));},getBubble:function(){return this.refs.bubble;}});f.exports=t;},null);
__d('MercurySeenIndicator.react',['MercuryDelayedRoger','MercuryIDs','React','SubscriptionsHandler','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'MercurySeenIndicator',propTypes:{thread:m.object.isRequired,viewer:m.string.isRequired},componentDidMount:function(){this._subscriptions=new k();this._subscriptions.addSubscriptions(h.subscribe('state-changed',(function(o,p){p[this.props.thread.thread_id]&&this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},render:function(){var o=this._separateParticipants(),p=o.viewer,q=o.others,r=this._viewerLastToReply(p),s=this._seenByAll(q);return (j.createElement('span',{className:"_3jy5"+(r?' '+"repliedLast":'')+(r&&s?' '+"seenByAll":'')}));},_separateParticipants:function(){var o=i.getParticipantIDFromUserID(this.props.viewer),p=this.props.thread.participants.filter(function(q){return q!==o;});return {viewer:o,others:p};},_viewerLastToReply:function(o){return o===this.props.thread.snippet_sender;},_seenByAll:function(o){var p=this.props.thread.thread_id;return h.getSeenBy(p).length===o.length;}});f.exports=n;},null);
__d('MercuryThreadSnippet.react',['immutable','MercuryAttachmentSnippet.react','MercuryIDs','React','TextWithEmoticons.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'MercuryThreadSnippet',propTypes:{participants:o.instanceOf(h.Map).isRequired,shouldAlwaysRenderSender:o.bool,shouldRenderYou:o.bool,thread:o.object.isRequired,viewer:o.string.isRequired},shouldComponentUpdate:function(s,t){return (this.props.shouldRenderYou!==s.shouldRenderYou||this.props.thread!==s.thread||this.props.viewer!==s.viewer||!h.is(s.participants,this.props.participants));},render:function(){return (k.createElement('span',{className:this.props.className},this._renderAttachmentIndicator(),this._renderSnippet()));},_renderAttachmentIndicator:function(){if(!this.props.thread.snippet||!q(this.props.thread))return null;return (k.createElement('span',{className:"_j0r"}));},_renderSnippet:function(){var s=this.props.thread,t=j.getParticipantIDFromUserID(this.props.viewer),u=this._renderInnerSnippet(),v=s.participants.length;if(s.is_subscribed)v--;if(s.snippet_has_attachment||!s.snippet_sender)return u;if(s.snippet_sender===t){if(!this.props.shouldRenderYou)return u;return n._("You: {conversation_snippet}",[n.param('conversation_snippet',u)]);}if(v<=1&&!this.props.shouldAlwaysRenderSender)return u;var w=this.props.participants.get(s.snippet_sender);if(!w||!w.short_name)return u;var x=w.short_name;if(s){var y=s.custom_nickname?s.custom_nickname:null,z=j.getUserIDFromParticipantID(w.id);if(y&&z&&y[z])x=y[z];}return n._("{name}: {conversation_snippet}",[n.param('name',x),n.param('conversation_snippet',u)]);},_renderInnerSnippet:function(){var s=this.props.thread,t=s.snippet;if(t&&t.startsWith('?OTR'))return n._("[encrypted message]");if(t)return (k.createElement(l,{renderEmoticons:true,renderEmoji:true,text:t.replace(/\r\n|[\r\n]/g,' ')}));if(q(s))return (k.createElement(i,{thread:s,viewer:this.props.viewer}));return null;}});function q(s){return (s.snippet_has_attachment&&s.snippet_attachments&&s.snippet_attachments.length>0);}function r(s){return !s.snippet&&q(s);}f.exports=p;},null);
__d('MercuryThreadTimestamp.react',['ReactComponentWithPureRenderMixin','React','formatDate','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'MercuryThreadTimestamp',mixins:[h],propTypes:{time:l.number,title:l.string,text:l.string},render:function(){var n=this.props.time;if(!n)return i.createElement('abbr',null);return (i.createElement('abbr',{className:k(this.props.className,'timestamp'),title:this.props.title||new Date(n).toLocaleDateString(),'data-utime':n/1000},this.props.text||j(new Date(n),'g:ia')));}});f.exports=m;},null);
__d('PagesManagerActionType',['ImmutableObject','keyMirrorRecursive'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=new h(i({LIST:{FETCH:'',FETCHED:'',UPDATED:'',LOAD_MORE:'',LOADING:'',PREVENT_SCROLL:'',SELECT:'',DESELECT_ALL:'',VIEW:'',INITIAL_VIEW:'',CLEAR_INITIAL_VIEW:''},NAVIGATION_UNIT:{CHANGE:'',NOTIFICATION_COUNT_CHANGE:''},LAYOUT:{HEIGHT_CHANGE:''},SEARCH:{TOGGLE_SEARCH:'',CHANGE_SEARCH_TERM:'',IS_SEARCHING_CHANGED:'',ADD_SEARCH_CUSTOM_TAG:'',REMOVE_SEARCH_CUSTOM_TAG:''}}));f.exports=j;},null);
__d('PagesManagerDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerStore',['PagesManagerActionType','FluxStore','Map','PagesManagerDispatcher'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,i);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this,k);this.$PagesManagerStore1=null;this.$PagesManagerStore2=0;this.$PagesManagerStore3=0;this.$PagesManagerStore4=[];this.$PagesManagerStore5=new j();}n.prototype.__onDispatch=function(o){'use strict';switch(o.type){case h.LIST.VIEW:this.$PagesManagerStore1=o.listItem;this.__emitChange();break;case h.LIST.SELECT:this.$PagesManagerStore6(o);this.__emitChange();break;case h.LAYOUT.HEIGHT_CHANGE:this.$PagesManagerStore2=o.heights.navigationHeight;this.$PagesManagerStore3=o.heights.layoutHeight;this.__emitChange();break;case h.LIST.DESELECT_ALL:this.$PagesManagerStore6({rowsAdded:[],rowsRemoved:this.$PagesManagerStore4,selectedRows:[]});this.__emitChange();break;case h.LIST.INITIAL_VIEW:this.$PagesManagerStore7(o.item);break;case h.LIST.CLEAR_INITIAL_VIEW:this.$PagesManagerStore8=null;break;default:return;}};n.prototype.$PagesManagerStore7=function(o){'use strict';this.$PagesManagerStore8=o;this.$PagesManagerStore1=o;};n.prototype.$PagesManagerStore6=function(o){'use strict';this.$PagesManagerStore4=o.selectedRows;o.rowsAdded.forEach((function(p){this.$PagesManagerStore5.set(p,true);}).bind(this));o.rowsRemoved.forEach((function(p){this.$PagesManagerStore5.set(p,false);}).bind(this));};n.prototype.getViewingListItem=function(){'use strict';return this.$PagesManagerStore1;};n.prototype.getInitialViewingItem=function(){'use strict';return this.$PagesManagerStore8;};n.prototype.getLayoutHeight=function(){'use strict';return this.$PagesManagerStore3;};n.prototype.getNavigationHeight=function(){'use strict';return this.$PagesManagerStore2;};n.prototype.getIsRowSelected=function(o){'use strict';return this.$PagesManagerStore5.has(o)?this.$PagesManagerStore5.get(o):false;};n.prototype.getSelectedRows=function(){'use strict';return this.$PagesManagerStore4;};f.exports=new n(k);},null);
__d('PagesManagerListBatchActionContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,j.Component);l=k&&k.prototype;m.getStores=function(){'use strict';return [i];};m.calculateState=function(n){'use strict';var o=i.getSelectedRows(),p=o.length>0;return {showBatchAction:p,selectedRows:o};};m.prototype.render=function(){'use strict';var n=this.props,o=n.ChildClass,p=babelHelpers.objectWithoutProperties(n,['ChildClass']);return (j.createElement(o,babelHelpers._extends({},p,{selectedRows:this.state.selectedRows,showBatchAction:this.state.showBatchAction})));};function m(){'use strict';k.apply(this,arguments);}f.exports=h.create(m);},null);
__d('PagesManagerAction',['PagesManagerActionType','PagesManagerDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={viewListItem:function(k){i.dispatch({type:h.LIST.VIEW,listItem:k});},setInitialViewItem:function(k){i.dispatch({type:h.LIST.INITIAL_VIEW,item:k});},clearInitialViewItem:function(){i.dispatch({type:h.LIST.CLEAR_INITIAL_VIEW});},setHeight:function(k){i.dispatch({type:h.LAYOUT.HEIGHT_CHANGE,heights:k});},handleSelectionChange:function(k,l,m){i.dispatch({type:h.LIST.SELECT,rowsAdded:k,rowsRemoved:l,selectedRows:m});},deselectAll:function(){i.dispatch({type:h.LIST.DESELECT_ALL});}};f.exports=j;},null);
__d('PagesManagerListDetailLayout.react',['PagesManagerAction','PagesManagerResizeListener','React','ReactDOM','ResizeListener','SubscriptionsHandler','Vector','XUICard.react','Grid.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t,u=p.GridItem,v=200;s=babelHelpers.inherits(w,j.Component);t=s&&s.prototype;w.getTopOffsetRelativeToView=function(x){'use strict';var y=0;do{if(!isNaN(x.offsetTop))y+=x.offsetTop;}while(x=x.offsetParent);return y;};function w(x,y){'use strict';t.constructor.call(this,x,y);this.state={top:0,height:v};}w.prototype.recalculateHeight=function(){'use strict';var x=Math.max(v,n.getViewportDimensions().y-w.getTopOffsetRelativeToView(k.findDOMNode(this))-2-30);this.setState({height:x});var y=n.getElementDimensions(k.findDOMNode(this.refs.navigationSection)).y;h.setHeight({layoutHeight:x,navigationHeight:y});this.setState({top:y+8});};w.prototype.componentDidMount=function(){'use strict';this.recalculateHeight();this.$PagesManagerListDetailLayout1=new m();this.$PagesManagerListDetailLayout1.addSubscriptions(l.add((function(){return this.recalculateHeight();}).bind(this)),i.addListener('change',(function(){return this.recalculateHeight();}).bind(this)));};w.prototype.componentWillUnmount=function(){'use strict';this.$PagesManagerListDetailLayout1&&this.$PagesManagerListDetailLayout1.release();};w.prototype.render=function(){'use strict';var x=this.state.height+'px',y=this.state.top+'px',z=this.props.navigationSection===null?null:j.createElement('div',{className:"_2-97",ref:'navigationSection'},this.props.navigationSection);return (j.createElement(o,{style:{height:x}},z,j.createElement('div',{className:"_10ua",style:{top:y}},j.createElement(p,{alignv:'top',className:"_10ue",cols:2},j.createElement(u,{className:r("_10uf",this.props.listClassName)},this.props.listSection),j.createElement(u,{className:"_10ug"},this.props.detailSection)))));};f.exports=w;},null);
__d('PagesManagerListRowContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,j.Component);l=k&&k.prototype;m.getStores=function(){'use strict';return [i];};m.calculateState=function(n,o){'use strict';var p=false,q=false;if(o&&o.listItem){p=i.getIsRowSelected(o.listItem);q=i.getViewingListItem()===o.listItem;}return {selected:p,isViewing:q};};m.prototype.render=function(){'use strict';var n=this.props,o=n.ChildClass,p=babelHelpers.objectWithoutProperties(n,['ChildClass']);return (j.createElement(o,babelHelpers._extends({ref:'childClass',selected:this.state.selected,isViewing:this.state.isViewing},p)));};function m(){'use strict';k.apply(this,arguments);}f.exports=h.create(m,{withProps:true});},null);
__d('PagesManagerListView.react',['PagesManagerListRowContainer.react','PagesManagerAction','PagesSelectableList.react','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,k.Component);m=l&&l.prototype;n.prototype.$PagesManagerListView1=function(o){'use strict';i.viewListItem(o);};n.prototype.componentWillUpdate=function(o){'use strict';if(o.navigationKey!==this.props.navigationKey){i.deselectAll();this.refs.selectableList.clearSelection();}};function n(o){'use strict';m.constructor.call(this,o);this.state={scrollableHeight:0};}n.prototype.render=function(){'use strict';var o;if(!this.props.list.length){if(!this.props.initLoading){o=this.props.emptyView;}else o=this.$PagesManagerListView2();}else o=this.$PagesManagerListView3();return (k.createElement(j,{actionBarRightComponent:this.props.actionBarRightContainer,deselectAllLabel:'',enableOnVisible:this.props.hasMoreItem,forceRequestMoreRows:true,height:this.props.height,loadingIndicator:this.props.loadingMoreSpinner,onSelectionChange:this.props.onSelectionChange,onRequestMoreRows:this.props.onScroll,ref:'selectableList',scrollableAreaMode:true,scrollableAreaHasShadow:false},o));};n.prototype.$PagesManagerListView3=function(){'use strict';return this.props.list.map((function(o){return (k.createElement(h,{ChildClass:this.props.listRowContainer,listItem:o,pageID:this.props.pageID,ref:this.props.getKey(o),key:this.props.getKey(o),onViewingListItem:this.$PagesManagerListView1,type:'li'}));}).bind(this));};n.prototype.clearSelection=function(){'use strict';this.refs.selectableList.clearSelection();};n.prototype.$PagesManagerListView2=function(){'use strict';return k.createElement('div',{key:'loading'});};f.exports=n;},null);
__d('PagesManagerStaticStore',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={_pageID:'',setPageID:function(i){this._pageID=i;},getPageID:function(){return this._pageID;}};f.exports=h;},null);
__d('PagesManagerDetailContainer.react',['FluxContainer','PagesManagerStore','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,j.Component);l=k&&k.prototype;function m(n){'use strict';l.constructor.call(this,n);this.state={height:0,viewingListItem:null};}m.getStores=function(){'use strict';return [i];};m.calculateState=function(n){'use strict';var o=i.getLayoutHeight()-i.getNavigationHeight();return {height:o,viewingListItem:i.getViewingListItem()};};m.prototype.render=function(){'use strict';var n=this.props,o=n.ChildContainerClass,p=babelHelpers.objectWithoutProperties(n,['ChildContainerClass']);return (j.createElement(o,babelHelpers._extends({height:this.state.height,viewingListItem:this.state.viewingListItem,listItemKey:this.props.getListItemKey(this.state.viewingListItem)},p)));};f.exports=h.create(m);},null);
__d('PagesManagerListContainer.react',['FluxContainer','PagesManagerAction','PagesManagerStore','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;l=babelHelpers.inherits(n,k.Component);m=l&&l.prototype;function n(o){'use strict';m.constructor.call(this,o);this.state={height:0};}n.getStores=function(){'use strict';return [j];};n.calculateState=function(o){'use strict';var p=j.getLayoutHeight()-j.getNavigationHeight();return {height:p};};n.prototype.render=function(){'use strict';var o=this.props,p=o.ChildContainerClass,q=babelHelpers.objectWithoutProperties(o,['ChildContainerClass']);return (k.createElement(p,babelHelpers._extends({height:this.state.height,onSelectionChange:this.$PagesManagerListContainer1},q)));};n.prototype.$PagesManagerListContainer1=function(o){'use strict';var p=o.rowsAdded,q=o.rowsRemoved,r=o.selectedRows;i.handleSelectionChange(p,q,r);};f.exports=h.create(n);},null);
__d('PagesManagerMessagingActionType',['PagesManagerActionType','keyMirrorRecursive'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i({THREAD_LEVEL:{READ_STATUS:'',ARCHIVE_STATUS:'',SPAM_STATUS:'',UPDATE_THREAD:''},MESSAGE_LEVEL:{READ_RECEIPTS:''},SET_SCROLL_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null,MESSAGE_SEARCH:{NAME_SEARCH_CHANGE:null,SNIPPET_SEARCH_CHANGE:null,LOAD_MORE_NAME_RESULT:null,LOAD_MORE_SNIPPET_RESULT:null},HOT_LIKE:{END:null,START:null},CUSTOM_TAGS:{FETCH:null,UPDATE:null}});Object.assign(j,h);f.exports=j;},null);
__d('PagesManagerMessagingComposerActionTypes',['keyMirrorRecursive'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({ATTACHMENT:{ALL_COMPLETE:'attachment/attach/complete/all',ATTACH_CACHED:'attachment/attach/cached',ATTACH_COMPLETE:'attachment/attach/complete',ATTACH_START:'attachment/attach/start',CANCEL:'attachment/cancel',DETACH:'attachment/detach',DETACH_ALL:'attachment/detach/all'},MESSAGE:{CLEAR:'message/clear',SET:'message/set'},PARTICIPANT:{SET:'participant/set'},SAVED_REPLIES:{LOADING:'saved-replies/loading',SET:'saved-replies/set'},SHARE_UPLOADER:{READY:'share-uploader/ready',CLEAR:'share-uploader/clear'},UPLOADER:{READY:'uploader/ready'}});f.exports=i;},null);
__d('PagesManagerMessagingComposerDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerMessagingComposerStore',['PagesManagerMessagingComposerActionTypes','FluxStore','Map','MercuryConfig','PagesManagerMessagingComposerDispatcher','PagesMessagingConfig','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';o=babelHelpers.inherits(q,i);p=o&&o.prototype;function q(r){p.constructor.call(this,r);this.$PagesManagerMessagingComposerStore1=new j();this.$PagesManagerMessagingComposerStore2=null;this.$PagesManagerMessagingComposerStore3=false;this.$PagesManagerMessagingComposerStore4='';this.$PagesManagerMessagingComposerStore5=null;this.$PagesManagerMessagingComposerStore6={replies:[],tokens:{}};this.$PagesManagerMessagingComposerStore7=null;}q.prototype.getAllAttachmentsMeta=function(){var r=this.$PagesManagerMessagingComposerStore8(),s=[];for(var t=this.$PagesManagerMessagingComposerStore1.values(),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var w;if(u){if(v>=t.length)break;w=t[v++];}else{v=t.next();if(v.done)break;w=v.value;}var x=w;if(x.id&&r.indexOf(x.id)!==-1||x.isUploading)s.push(x);}return s;};q.prototype.getAttachedAttachmentIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAttachments();return [];};q.prototype.getAttachedImageIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getImageFiles();return [];};q.prototype.getAttachedAnimatedImageIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAnimatedImageFiles();return [];};q.prototype.getAttachedVideoIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getVideoFiles();return [];};q.prototype.getAttachedAudioFilesIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getAudioFiles();return [];};q.prototype.getAttachedFilesIds=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.getFiles();return [];};q.prototype.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore2;};q.prototype.getIsAttachmentUploading=function(){if(this.$PagesManagerMessagingComposerStore2)return this.$PagesManagerMessagingComposerStore2.isUploading();return false;};q.prototype.getIsSavedRepliesLoading=function(){return this.$PagesManagerMessagingComposerStore3;};q.prototype.getMessage=function(){return this.$PagesManagerMessagingComposerStore4;};q.prototype.getQuickReplyMode=function(){return m.sendOnEnter;};q.prototype.getParticipant=function(){return this.$PagesManagerMessagingComposerStore5;};q.prototype.getSavedReplies=function(){return this.$PagesManagerMessagingComposerStore6;};q.prototype.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore7)return this.$PagesManagerMessagingComposerStore7.getAttachData();};q.prototype.getUploadActionFromUserID=function(r){if(!r)return null;return new n(k.upload_url).addQueryData('request_user_id',r).toString();};q.prototype.$PagesManagerMessagingComposerStore9=function(r,s){this.$PagesManagerMessagingComposerStore1.set(s.upload_id,{id:'',isUploading:true,name:s.metadata.filename,type:s.metadata.filetype,uploadID:s.upload_id});};q.prototype.$PagesManagerMessagingComposerStore10=function(r){r.map((function(s){this.$PagesManagerMessagingComposerStore1.set(s.upload_id,{id:'',isUploading:true,name:s.metadata.name,type:s.metadata.type,uploadID:s.upload_id});}).bind(this));};q.prototype.$PagesManagerMessagingComposerStore11=function(){this.$PagesManagerMessagingComposerStore4='';};q.prototype.$PagesManagerMessagingComposerStore12=function(r){if(this.$PagesManagerMessagingComposerStore1.has(r))this.$PagesManagerMessagingComposerStore1['delete'](r);};q.prototype.$PagesManagerMessagingComposerStore13=function(){if(this.$PagesManagerMessagingComposerStore7)this.$PagesManagerMessagingComposerStore7.clear();};q.prototype.$PagesManagerMessagingComposerStore14=function(r){var s;if(this.$PagesManagerMessagingComposerStore1.has(r.upload_id)){s=this.$PagesManagerMessagingComposerStore1.get(r.upload_id);s.id=this.$PagesManagerMessagingComposerStore15(r);s.isUploading=false;this.$PagesManagerMessagingComposerStore1.set(r.upload_id,s);}};q.prototype.$PagesManagerMessagingComposerStore8=function(){if(!this.$PagesManagerMessagingComposerStore2)return [];var r=this.$PagesManagerMessagingComposerStore2;return [].concat(r.getAttachments(),r.getImageFiles(),r.getAnimatedImageFiles(),r.getVideoFiles(),r.getAudioFiles(),r.getFiles());};q.prototype.$PagesManagerMessagingComposerStore15=function(r){return r.metadata.image_id||r.metadata.gif_id||r.metadata.video_id||r.metadata.audio_id||r.metadata.file_id;};q.prototype.__onDispatch=function(r){switch(r.actionType){case h.ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore16();this.__emitChange();break;case h.ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore14(r.attachment);this.__emitChange();break;case h.ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore10(r.files);this.__emitChange();break;case h.ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore17(r.uploadID);this.__emitChange();break;case h.ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore18();this.__emitChange();break;case h.MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore11();break;case h.MESSAGE.SET:this.$PagesManagerMessagingComposerStore19(r.message);this.__emitChange();break;case h.PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore20(r.participant);this.__emitChange();break;case h.SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore21(r.isLoading);this.__emitChange();break;case h.SAVED_REPLIES.SET:this.$PagesManagerMessagingComposerStore22(r.replies,r.tokens);this.__emitChange();break;case h.SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore23(r.uploader);break;case h.SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore13();break;case h.UPLOADER.READY:this.$PagesManagerMessagingComposerStore24(r.uploader);this.$PagesManagerMessagingComposerStore25();break;}};q.prototype.$PagesManagerMessagingComposerStore18=function(){if(this.$PagesManagerMessagingComposerStore2){this.$PagesManagerMessagingComposerStore2.removeAttachments();this.$PagesManagerMessagingComposerStore1.clear();}};q.prototype.$PagesManagerMessagingComposerStore17=function(r){if(this.$PagesManagerMessagingComposerStore2){this.$PagesManagerMessagingComposerStore2.removeOneAttachment(r);this.$PagesManagerMessagingComposerStore12(r);}};q.prototype.$PagesManagerMessagingComposerStore16=function(){this.$PagesManagerMessagingComposerStore1.forEach((function(r,s){if(r.isUploading)this.$PagesManagerMessagingComposerStore1['delete'](r.uploadID);}).bind(this));};q.prototype.$PagesManagerMessagingComposerStore24=function(r){this.$PagesManagerMessagingComposerStore2=r;};q.prototype.$PagesManagerMessagingComposerStore21=function(r){this.$PagesManagerMessagingComposerStore3=r;};q.prototype.$PagesManagerMessagingComposerStore19=function(r){this.$PagesManagerMessagingComposerStore4=r;};q.prototype.$PagesManagerMessagingComposerStore20=function(r){this.$PagesManagerMessagingComposerStore5=r;};q.prototype.$PagesManagerMessagingComposerStore22=function(r,s){this.$PagesManagerMessagingComposerStore6={replies:r,tokens:s};};q.prototype.$PagesManagerMessagingComposerStore23=function(r){this.$PagesManagerMessagingComposerStore7=r;};q.prototype.$PagesManagerMessagingComposerStore25=function(){var r=this.$PagesManagerMessagingComposerStore2;if(r)r.subscribe('cached-file-added',this.$PagesManagerMessagingComposerStore9.bind(this));};f.exports=new q(l);},null);
__d('PagesManagerMessagingComposerAttachmentListItem.react',['Image.react','React','XUICloseButton.react','XUISpinner.react','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';var p=i.PropTypes;n=babelHelpers.inherits(q,i.Component);o=n&&n.prototype;function q(r){o.constructor.call(this,r);this.$PagesManagerMessagingComposerAttachmentListItem1=(function(){return this.props.onDetach(this.props.uploadID);}).bind(this);}q.prototype.$PagesManagerMessagingComposerAttachmentListItem2=function(){if(this.props.type.startsWith('image')){return m('/images/pages/pages_manager/messages/photo-attachment.png');}else if(this.props.type.startsWith('video')){return m('/images/pages/pages_manager/messages/video-attachment.png');}else if(this.props.type.startsWith('audio')){return m('/images/pages/pages_manager/messages/audio-attachment.png');}else if(this.props.type.startsWith('text'))return m('/images/pages/pages_manager/messages/text-attachment.png');return m('/images/pages/pages_manager/messages/general-attachment.png');};q.prototype.$PagesManagerMessagingComposerAttachmentListItem3=function(){return (i.createElement(j,{className:"_2uia",onClick:this.$PagesManagerMessagingComposerAttachmentListItem1}));};q.prototype.$PagesManagerMessagingComposerAttachmentListItem4=function(){return (i.createElement('span',{className:"_2uib"},this.props.isUploading?i.createElement(k,{size:'large'}):i.createElement(h,{src:this.$PagesManagerMessagingComposerAttachmentListItem2(),alt:this.props.type})));};q.prototype.$PagesManagerMessagingComposerAttachmentListItem5=function(){return (i.createElement('span',{className:"_2uic"},this.props.name));};q.prototype.render=function(){return (i.createElement('li',{className:"clearfix _2uid"},i.createElement('span',{className:"_kqe _kqf"},this.$PagesManagerMessagingComposerAttachmentListItem4()),i.createElement('span',{className:"_kqe _kqh"},this.$PagesManagerMessagingComposerAttachmentListItem5()),i.createElement('span',{className:"_kqe _kqi"},this.$PagesManagerMessagingComposerAttachmentListItem3())));};q.propTypes={attachmentID:p.string,isUploading:p.bool,key:p.string,name:p.string,onDetach:p.func,type:p.string,uploadID:p.string};f.exports=q;},null);
__d('PagesManagerMessagingComposerAttachmentList.react',['PagesManagerMessagingComposerAttachmentListItem.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';var m=i.PropTypes;k=babelHelpers.inherits(n,i.Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);}n.prototype.$PagesManagerMessagingComposerAttachmentList1=function(o){return (i.createElement(h,{isUploading:o.isUploading,key:o.uploadID,name:o.name,onDetach:this.props.onDetach,type:o.type,uploadID:o.uploadID}));};n.prototype.render=function(){if(this.props.attachments.length>0)return (i.createElement('ul',{className:"_27ru"},this.props.attachments.map(this.$PagesManagerMessagingComposerAttachmentList1,this)));return null;};n.propTypes={attachments:m.array.isRequired,onDetach:m.func.isRequired};n.defaultProps={attachments:[]};f.exports=n;},null);
__d('PagesManagerMessagingComposerView.react',['PagesManagerMessagingComposerAttachmentList.react','Image.react','MercuryDragDropPrompt.react','MessengerHotLikeButton.react','PagesManagerMessagingSavedRepliesButton.react','PagesMessageSuggestedResponseHandler','PagesMessengerFileUploader.react','PagesMessengerOmnipicker.react','PagesMessengerSuggestedResponseView.react','PagesMessengerTextInput.react','React','UFIStickerButton.react','XUIButton.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x,y;'use strict';var z=r.PropTypes,aa=function(){};x=babelHelpers.inherits(ba,r.Component);y=x&&x.prototype;function ba(ca){y.constructor.call(this,ca);this.state={isAttachmentsButtonVisible:true,isSavedRepliesButtonVisible:true,isStickerButtonVisible:true,placeholder:''};}ba.prototype.componentDidUpdate=function(ca,da){if(this.props.onInitialRender&&!ca.participant&&this.props.participant)this.props.onInitialRender();if(ca&&ca.message!==this.props.message)this.refs.textInput.updateHeight();};ba.prototype.componentWillMount=function(){this.$PagesManagerMessagingComposerView1(this.props);};ba.prototype.componentWillReceiveProps=function(ca){this.$PagesManagerMessagingComposerView1(ca,this.state);};ba.prototype.$PagesManagerMessagingComposerView1=function(ca){var da=ca.attachments.length,ea=ca.message.length;this.setState({isSavedRepliesButtonVisible:ea<1&&da<1,isStickerButtonVisible:ea<1&&da<1});};ba.prototype.$PagesManagerMessagingComposerView2=function(){return (this.props.canAttachFiles&&this.state.isAttachmentsButtonVisible);};ba.prototype.$PagesManagerMessagingComposerView3=function(){return (this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible);};ba.prototype.$PagesManagerMessagingComposerView4=function(){return (this.props.canUseStickers&&this.state.isStickerButtonVisible);};ba.prototype.$PagesManagerMessagingComposerView5=function(ca){this.props.onEmoticonSelected(ca,this.refs.textInput.getTextFieldDOM());};ba.prototype.$PagesManagerMessagingComposerView6=function(ca){ca.preventDefault();this.props.onSend();};ba.prototype.$PagesManagerMessagingComposerView7=function(){if(this.$PagesManagerMessagingComposerView2()){if(this.props.canUseOmnipicker)return (r.createElement('div',{className:"_4dvy"},r.createElement(o,{onPhotosSelected:this.props.onOmnipickerPhotosSelected,uploadURI:this.props.uploaderActionURI,pageID:this.props.userID})));return (r.createElement('div',{className:"_4dvy"},r.createElement(n,{actionURI:this.props.uploaderActionURI,iconSize:'large',onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:'fileUploader'})));}};ba.prototype.$PagesManagerMessagingComposerView8=function(){if(this.props.canAttachFiles)return (r.createElement(h,{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:'attachmentList'}));};ba.prototype.$PagesManagerMessagingComposerView9=function(){if(this.props.canUseHotlike&&this.props.threadID)return (r.createElement('span',{className:"_1z9h"},r.createElement(k,{disabled:!this.props.threadID,sendSticker:this.props.onStickerSelected,threadID:this.props.threadID})));};ba.prototype.$PagesManagerMessagingComposerView10=function(){var ca=this.state.placeholder||v._("Write a reply...");return (r.createElement('div',{className:"_4dv-"},r.createElement(q,{className:"_1p7p _5id1 _4dv_",onNoShiftEnter:this.props.isQuickReplyMode?(function(da){return this.$PagesManagerMessagingComposerView6(da);}).bind(this):null,onFocus:this.props.onFocus,placeholder:ca,onChange:this.props.onInputChange,value:this.props.message,ref:'textInput'})));};ba.prototype.$PagesManagerMessagingComposerView11=function(){return (r.createElement('div',{className:"_6fk",ref:'linkPreview'}));};ba.prototype.$PagesManagerMessagingComposerView12=function(){return (r.createElement('div',{className:"_4dw0"},r.createElement(i,{className:"_1cjc",src:this.props.participant.image_src})));};ba.prototype.$PagesManagerMessagingComposerView13=function(){if(this.$PagesManagerMessagingComposerView3()&&this.props.recipientID)return (r.createElement('span',{className:"_4dw1"},r.createElement(l,{recipientID:this.props.recipientID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$PagesManagerMessagingComposerView14.bind(this),onReplyMouseLeave:this.$PagesManagerMessagingComposerView15.bind(this),onReplySelected:this.$PagesManagerMessagingComposerView16.bind(this),pageID:this.props.userID,replies:this.props.savedReplies.replies,showTooltip:true,tokens:this.props.savedReplies.tokens})));};ba.prototype.$PagesManagerMessagingComposerView17=function(){var ca=v._("Send");return (r.createElement('div',{className:"_4dw3"},r.createElement(t,{disabled:this.props.isSendBlocked,label:ca,onClick:(function(da){return this.$PagesManagerMessagingComposerView6(da);}).bind(this),use:'confirm'})));};ba.prototype.$PagesManagerMessagingComposerView18=function(){var ca=v._("Post a sticker");if(this.$PagesManagerMessagingComposerView4())return (r.createElement('span',{className:"_4dw4"},r.createElement(s,{onStickerSelected:this.props.onStickerSelected,onEmoticonSelected:(function(da){return this.$PagesManagerMessagingComposerView5(da);}).bind(this)},r.createElement(i,{alt:ca,className:"_3fhi",src:w('/images/pages/pages_manager/messages/composer-stickers.png')}))));};ba.prototype.$PagesManagerMessagingComposerView19=function(){return (r.createElement(p,{suggestedResponseHandler:this.props.suggestedResponseHandler,onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline}));};ba.prototype.render=function(){if(!this.props.participant)return r.createElement('div',{className:"_26ue"});return (r.createElement('div',{className:"__1d"},r.createElement(j,null),r.createElement('div',{className:"_4dw9"},this.$PagesManagerMessagingComposerView12(),this.$PagesManagerMessagingComposerView10(),r.createElement('div',{className:"_3-8o _4dwa"},this.$PagesManagerMessagingComposerView7(),this.$PagesManagerMessagingComposerView18(),this.$PagesManagerMessagingComposerView13(),this.$PagesManagerMessagingComposerView9(),this.$PagesManagerMessagingComposerView17())),r.createElement('div',{className:"_6fl"},this.$PagesManagerMessagingComposerView19(),this.$PagesManagerMessagingComposerView11()),this.$PagesManagerMessagingComposerView8()));};ba.prototype.$PagesManagerMessagingComposerView14=function(ca){this.setState({placeholder:ca});};ba.prototype.$PagesManagerMessagingComposerView15=function(){this.setState({placeholder:''});};ba.prototype.$PagesManagerMessagingComposerView16=function(ca,da){this.setState({placeholder:''});this.props.onReplySelected(ca,da);};ba.propTypes={attachments:z.array,canAttachFiles:z.bool,canUseSavedReplies:z.bool,canUseStickers:z.bool,isQuickReplyMode:z.bool,isSavedRepliesLoading:z.bool,isSendBlocked:z.bool,message:z.string.isRequired,onAttachmentDetach:z.func,onEmoticonSelected:z.func,onFetchReplies:z.func.isRequired,onFileUploaderSubmit:z.func,onFileUploaderMounted:z.func,onFileUploadFinished:z.func,onFocus:z.func,onInitialRender:z.func,onInputChange:z.func,onSend:z.func,onStickerSelected:z.func,onSuggestedResponseAccept:z.func,onSuggestedResponseDecline:z.func,participant:z.object,recipientID:z.string,savedReplies:z.object,suggestedResponseHandler:z.instanceOf(m),uploaderActionURI:z.string,userID:z.string};ba.defaultProps={attachments:[],canAttachFiles:true,canUseOmnipicker:false,canUseSavedReplies:true,canUseStickers:true,isSendBlocked:false,onAttachmentDetach:aa,onEmoticonSelected:aa,onFileUploaderMounted:aa,onFileUploaderSubmit:aa,onFileUploadFinished:aa,onInputChange:aa,onSend:aa,onStickerSelected:aa,onSuggestedResponseAccept:aa};f.exports=ba;},null);
__d('PagesManagerMessagingMessagelistDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesManagerMessagingComposerContainer.react',['DragDropTarget','EmoticonsList','EmoticonUtils','FluxContainer','MercuryIDs','MercuryMessageActions','MercuryMessageObject','MercuryParticipants','MercurySourceType','PagesEventObserver','PagesEventType','PagesManagerMessagingComposerActions','PagesManagerMessagingComposerStore','PagesManagerMessagingComposerView.react','PagesManagerMessagingNUXActions','PagesMessagingConfig','PagesMessengerShareLinkUploader','React','ReactDOM','SavedResponsesUtils','SelectionPosition','SubscriptionsHandler','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();var ea,fa;'use strict';var ga=y.PropTypes;ea=babelHelpers.inherits(ha,y.Component);fa=ea&&ea.prototype;ha.getStores=function(){return [t];};ha.calculateState=function(ia,ja){var ka=ia?ia.isShareLinkUploading:false;return {attachments:t.getAllAttachmentsMeta(),isAttachmentUploading:t.getIsAttachmentUploading(),isSavedRepliesLoading:t.getIsSavedRepliesLoading(),isQuickReplyMode:t.getQuickReplyMode(),isShareLinkUploading:ka,message:t.getMessage(),participant:t.getParticipant(),savedReplies:t.getSavedReplies(),uploaderActionURI:t.getUploadActionFromUserID(ja.userID)};};ha.prototype.$PagesManagerMessagingComposerContainer1=function(ia){this.$PagesManagerMessagingComposerContainer2.addSubscriptions(ia.subscribe('one-upload-completed',this.$PagesManagerMessagingComposerContainer3.bind(this)));};ha.prototype.componentDidUpdate=function(ia){if(this.props.recipientID&&this.props.threadID&&(!ia.recipientID||!ia.threadID)){v.setComposerReady();if(this.props.onInitialRender)this.props.onInitialRender();}};ha.prototype.componentWillMount=function(){this.$PagesManagerMessagingComposerContainer4(this.props);this.$PagesManagerMessagingComposerContainer5(this.props.userID);this.$PagesManagerMessagingComposerContainer2=new ca();};ha.prototype.componentWillReceiveProps=function(ia){this.$PagesManagerMessagingComposerContainer4(ia);if(ia.threadID!==this.props.threadID){s.clearMessage();s.detachAllAttachments();}if(ia.userID!==this.props.userID)this.$PagesManagerMessagingComposerContainer5(ia.userID);};ha.prototype.componentWillUpdate=function(ia,ja){if(this.props.onMessageOrAttachmentUpdate&&(ja.attachments.length!==this.state.attachments.length||ja.message!==this.state.message))this.props.onMessageOrAttachmentUpdate();};ha.prototype.componentWillUnmount=function(){this.$PagesManagerMessagingComposerContainer2&&this.$PagesManagerMessagingComposerContainer2.release();};ha.prototype.$PagesManagerMessagingComposerContainer6=function(){var ia=new x(z.findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.getTextFieldDOM(),da,da);this.$PagesManagerMessagingComposerContainer2.addSubscriptions(ia.subscribe('link-detected',(function(){this.setState({isShareLinkUploading:true});this.props.onMessageOrAttachmentUpdate();}).bind(this)),ia.subscribe('share-loaded',(function(){this.setState({isShareLinkUploading:false});}).bind(this)),ia.subscribe('closed',(function(){this.props.onMessageOrAttachmentUpdate();}).bind(this)));if(w.dragdropEnabled){this.$PagesManagerMessagingComposerContainer7=this.$PagesManagerMessagingComposerContainer7||new h(z.findDOMNode(this)).enable();this.$PagesManagerMessagingComposerContainer7.setOnURLDropCallback(function(ja){return (ia.loadShare(ja));});}s.setShareLinkUploader(ia);};ha.prototype.$PagesManagerMessagingComposerContainer8=function(){if(this.state.isSavedRepliesLoading||!this.props.userID||!this.props.recipientID)return;s.setIsSavedRepliesLoading(true);aa.fetchSavedResponses(this.props.userID,this.props.recipientID,function(ia,ja){s.setIsSavedRepliesLoading(false);s.setSavedReplies(ia,ja);});};ha.prototype.$PagesManagerMessagingComposerContainer4=function(ia){this.$PagesManagerMessagingComposerContainer9=n.getForFBID(ia.userID);this.$PagesManagerMessagingComposerContainer10=m.getForFBID(ia.userID);};ha.prototype.$PagesManagerMessagingComposerContainer5=function(ia){var ja=l.getParticipantIDFromUserID(ia);o.get(ja,function(ka){s.setParticipant(ka);});};ha.prototype.isSendBlocked=function(){if(this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===''&&this.state.attachments.length<1)return true;return false;};ha.prototype.$PagesManagerMessagingComposerContainer11=function(ia){s.detachAttachment(ia);};ha.prototype.$PagesManagerMessagingComposerContainer12=function(ia,ja){var ka=i.symbols[ia];if(!ka)return;this.$PagesManagerMessagingComposerContainer13=this.$PagesManagerMessagingComposerContainer13||new ba(ja);var la=j.insertEmoticon(ka,this.state.message,this.$PagesManagerMessagingComposerContainer13.getPos());this.$PagesManagerMessagingComposerContainer13.setPos(la.start,la.end);s.setMessage(la.result);};ha.prototype.$PagesManagerMessagingComposerContainer14=function(ia){this.$PagesManagerMessagingComposerContainer1(ia);if(w.dragdropEnabled){this.$PagesManagerMessagingComposerContainer7=this.$PagesManagerMessagingComposerContainer7||new h(z.findDOMNode(this)).enable();this.$PagesManagerMessagingComposerContainer7.setOnFilesDropCallback(this.$PagesManagerMessagingComposerContainer15.bind(this));}s.fileUploaderReady(ia);};ha.prototype.$PagesManagerMessagingComposerContainer3=function(ia,ja){s.completeAttachment(ja);};ha.prototype.$PagesManagerMessagingComposerContainer16=function(ia,ja){s.startAttachment(ja.files);};ha.prototype.$PagesManagerMessagingComposerContainer17=function(ia){if(ia==='all-uploads-completed'){s.completeAllAttachments();}else ia==='upload-canceled';};ha.prototype.$PagesManagerMessagingComposerContainer18=function(ia){s.setMessage(ia.target.value);};ha.prototype.$PagesManagerMessagingComposerContainer19=function(ia,ja){var ka=t.getFileUploader();s.detachAllAttachments();s.setMessage(ia);if(ja&&ka)ka.addCachedAttachments([ja]);if(this.refs.composer&&this.refs.composer.refs.textInput)this.refs.composer.refs.textInput.getTextFieldDOM().focus();};ha.prototype.$PagesManagerMessagingComposerContainer20=function(ia){var ja=t.getFileUploader();if(ja)ja.addCachedAttachments(ia.map(function(ka){return {filename:'Photo.jpg',image_id:ka.fbid,filetype:'image/jpeg'};}));};ha.prototype.$PagesManagerMessagingComposerContainer21=function(){var ia=this.state.message,ja=t.getAttachedAttachmentIds(),ka=t.getAttachedImageIds(),la=t.getAttachedAnimatedImageIds(),ma=t.getAttachedVideoIds(),na=t.getAttachedAudioFilesIds(),oa=t.getAttachedFilesIds(),pa=t.getShareLink(),qa=this.$PagesManagerMessagingComposerContainer9.constructUserGeneratedMessageObject(ia,p.TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!ia&&!ja.length&&!na.length&&!ka.length&&!oa.length&&!la.length&&!ma.length&&!pa)return;if(pa){qa.has_attachment=true;qa.content_attachment=pa;}if(ja.length>0){qa.has_attachment=true;qa.raw_attachments=ja;}if(ka.length>0){qa.image_ids=ka;qa.has_attachment=true;}if(la.length>0){qa.gif_ids=la;qa.has_attachment=true;}if(ma.length>0){qa.video_ids=ma;qa.has_attachment=true;}if(na.length>0){qa.audio_ids=na;qa.has_attachment=true;}if(oa.length>0){qa.file_ids=oa;qa.has_attachment;}q.logData_DEPRECATED({page_id:this.props.user,event_name:r.MESSAGES_DIALOG_SEND,thread_id:this.props.threadElementID},null);this.$PagesManagerMessagingComposerContainer10.send(qa);s.detachAllAttachments();s.clearMessage();s.clearShareLinkUploader();};ha.prototype.$PagesManagerMessagingComposerContainer22=function(ia){var ja=this.$PagesManagerMessagingComposerContainer9.constructUserGeneratedMessageObject('',p.TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);ja.has_attachment=true;ja.sticker_id=ia;this.$PagesManagerMessagingComposerContainer10.send(ja);s.clearMessage();};ha.prototype.$PagesManagerMessagingComposerContainer15=function(ia){if(this.refs.composer&&this.refs.composer.refs.fileUploader)this.refs.composer.refs.fileUploader.addFiles(ia);};ha.prototype.render=function(){if(!this.props.recipientID||!this.props.threadID)return y.createElement('div',null);return (y.createElement(u,babelHelpers._extends({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.$PagesManagerMessagingComposerContainer11.bind(this),onEmoticonSelected:this.$PagesManagerMessagingComposerContainer12.bind(this),onFetchReplies:this.$PagesManagerMessagingComposerContainer8.bind(this),onFileUploaderMounted:this.$PagesManagerMessagingComposerContainer14.bind(this),onFileUploaderSubmit:this.$PagesManagerMessagingComposerContainer16.bind(this),onFileUploadFinished:this.$PagesManagerMessagingComposerContainer17.bind(this),onInitialRender:(function(){return this.$PagesManagerMessagingComposerContainer6();}).bind(this),onInputChange:(function(ia){return this.$PagesManagerMessagingComposerContainer18(ia);}).bind(this),onOmnipickerPhotosSelected:this.$PagesManagerMessagingComposerContainer20.bind(this),onReplySelected:this.$PagesManagerMessagingComposerContainer19.bind(this),onSend:(function(){return this.$PagesManagerMessagingComposerContainer21();}).bind(this),onStickerSelected:this.$PagesManagerMessagingComposerContainer22.bind(this),ref:'composer'})));};function ha(){ea.apply(this,arguments);}ha.propTypes={canUseHotlike:ga.bool,creatorInfo:ga.object,onInitialRender:ga.func,onMessageOrAttachmentUpdate:ga.func,threadElementID:ga.string,threadID:ga.string,userID:ga.string};f.exports=k.create(ha,{withProps:true});},null);
__d('PagesManagerMessagingThreadlistDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(){j.constructor.call(this);this.dispatch=this.dispatch.bind(this);}f.exports=new k();},null);
__d('PagesManagerMessagingThreadlistAction',['PagesManagerMessagingActionType','PagesManagerMessagingThreadlistDispatcher','MercuryThreadlistConstants','PageCustomTagSearchableEntry'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={initThreadlist:function(m){this.fetchThreadlist(m,0,j.WEBMESSENGER_THREAD_COUNT);},fetchThreadlist:function(m,n,o){i.dispatch({offset:n,limit:o,pageID:m,type:h.LIST.FETCH});},updateThreadlist:function(m){i.dispatch({pageID:m,type:h.LIST.UPDATED});},changeSearchTerm:function(m,n,o){i.dispatch({type:h.SEARCH.CHANGE_SEARCH_TERM,searchTerm:n,pageID:m,activeFolder:o});},changeIsSearchingNameStatus:function(m){i.dispatch({type:h.MESSAGE_SEARCH.NAME_SEARCH_CHANGE,isSearching:m});},changeIsSearchingSnippetStatus:function(m){i.dispatch({type:h.MESSAGE_SEARCH.SNIPPET_SEARCH_CHANGE,isSearching:m});},loadMoreNameResult:function(m,n,o){i.dispatch({type:h.MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT,searchTerm:n,pageID:m,activeFolder:o});},loadMoreSnippetResult:function(m,n,o){i.dispatch({type:h.MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT,searchTerm:n,pageID:m,activeFolder:o});},resetSearch:function(m){l.changeSearchTerm(m,'','');},fetchCustomTags:function(m){i.dispatch({pageID:m,type:h.CUSTOM_TAGS.FETCH});},addSearchCustomTag:function(m,n){i.dispatch({type:h.SEARCH.ADD_SEARCH_CUSTOM_TAG,pageID:m,customTagEntry:n});},removeSearchCustomTag:function(m,n){i.dispatch({type:h.SEARCH.REMOVE_SEARCH_CUSTOM_TAG,pageID:m,customTagEntry:n});}};f.exports=l;},null);
__d('PagesManagerMessagingFilterStore',['FluxStore','immutable','Map','MessageThreadViewSource','PagesManagerActionType','PagesManagerMessagingAllNavigationUnit','PagesManagerMessagingArchiveNavigationUnit','PagesManagerMessagingFlaggedNavigationUnit','PagesManagerMessagingInboxNavigationUnit','PagesManagerMessagingLogger','PagesManagerMessagingSpamNavigationUnit','PagesManagerMessagingSearchStore','PagesManagerMessagingThreadlistDispatcher','PagesManagerMessagingUnreadNavigationUnit','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x;'use strict';w=babelHelpers.inherits(y,h);x=w&&w.prototype;function y(){x.constructor.call(this,t);this.$PagesManagerMessagingFilterStore1=i.List([new p(),new n(),new r()]);this.$PagesManagerMessagingFilterStore2=new m();this.$PagesManagerMessagingFilterStore3=i.List([this.$PagesManagerMessagingFilterStore2,new u(),new o()]);this.$PagesManagerMessagingFilterStore4=this.$PagesManagerMessagingFilterStore1.first();this.$PagesManagerMessagingFilterStore5=this.$PagesManagerMessagingFilterStore6(this.$PagesManagerMessagingFilterStore4.getSupportedFilterKeys().first());this.$PagesManagerMessagingFilterStore7=false;}y.prototype.$PagesManagerMessagingFilterStore8=function(z,aa){var ba=z.filter(function(ca){return ca.getKey()===aa;});!(ba.size>0)?v(0):undefined;return ba.first();};y.prototype.$PagesManagerMessagingFilterStore6=function(z){return this.$PagesManagerMessagingFilterStore8(this.$PagesManagerMessagingFilterStore3,z);};y.prototype.$PagesManagerMessagingFilterStore9=function(z){return this.$PagesManagerMessagingFilterStore8(this.$PagesManagerMessagingFilterStore1,z);};y.prototype.$PagesManagerMessagingFilterStore10=function(z,aa){q.logMessagesSectionViewEvent(z,aa.getKey());q.logPageViewFolderEvent(z,aa,k.NEW_MESSAGETAB);this.$PagesManagerMessagingFilterStore4=aa;this.$PagesManagerMessagingFilterStore5=this.$PagesManagerMessagingFilterStore6(aa.getSupportedFilterKeys().first());this.__emitChange();};y.prototype.$PagesManagerMessagingFilterStore11=function(z,aa){this.$PagesManagerMessagingFilterStore4.assertSupportsFilter(aa);this.$PagesManagerMessagingFilterStore5=aa;this.__emitChange();};y.prototype.getAvailableFolders=function(){return this.$PagesManagerMessagingFilterStore1;};y.prototype.getAvailableFilters=function(){return i.List(this.$PagesManagerMessagingFilterStore3.filter((function(z){return this.getActiveFolder().getSupportedFilterKeys().indexOf(z.getKey())>=0;}).bind(this)));};y.prototype.getActiveFolder=function(){return this.$PagesManagerMessagingFilterStore4;};y.prototype.getActiveFilter=function(){return this.$PagesManagerMessagingFilterStore7?this.$PagesManagerMessagingFilterStore2:this.$PagesManagerMessagingFilterStore5;};y.prototype.getActiveFolderName=function(){return this.getActiveFolder().getKey();};y.prototype.getActiveFilterName=function(){return this.getActiveFilter().getKey();};y.prototype.getUnitNotificationCountMap=function(z){var aa=new j(),ba=(function(ca){return aa.set(ca,ca.getNotificationCount(z,{activeFolder:this.getActiveFolder(),activeFilter:this.getActiveFilter()}));}).bind(this);this.getAvailableFolders().map(ba);this.getAvailableFilters().map(ba);return aa;};y.prototype.getNavigationKey=function(){return this.getActiveFolderName()+'|'+this.getActiveFilterName();};y.prototype.__onDispatch=function(z){switch(z.type){case l.NAVIGATION_UNIT.CHANGE:if(this.getAvailableFolders().indexOf(z.unit)>=0){this.$PagesManagerMessagingFilterStore10(z.pageID,z.unit);}else this.$PagesManagerMessagingFilterStore11(z.pageID,z.unit);break;case l.NAVIGATION_UNIT.NOTIFICATION_COUNT_CHANGE:this.__emitChange();break;case l.SEARCH.CHANGE_SEARCH_TERM:t.waitFor([s.getDispatchToken()]);var aa=z.searchTerm!=='';if(this.$PagesManagerMessagingFilterStore7!==aa){this.$PagesManagerMessagingFilterStore7=aa;this.__emitChange();}break;}};f.exports=new y();},null);
__d('PagesManagerMessagingMessageList.react',['ChatTypingIndicators.react','immutable','MessengerTypingIndicator.react','MessageList.react','MessengerLogMessage.react','MessengerMessageGroup.react','MessengerSpinner.react','PagesEventObserver','PagesEventType','PagesManagerMessagingMessageDateBreak.react','React','MercuryShareAttachmentRenderLocations','ScrollableArea.react','cloneWithProps','cx','debounce'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x,y,z='message_tab';x=babelHelpers.inherits(aa,r.Component);y=x&&x.prototype;function aa(ba,ca){'use strict';y.constructor.call(this,ba,ca);this.$PagesManagerMessagingMessageList1=true;this.prevScrollTop=0;this.prevScrollHeight=0;}aa.prototype.componentDidUpdate=function(ba){'use strict';var ca=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,da=ba.messagelist.last()&&ba.messagelist.last().thread_fbid;if(ba.messagelist.size===0&&this.props.messagelist.size!==0||ca!=da){this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom();}else if(this.props.messagelist.size!==ba.messagelist.size)this.$PagesManagerMessagingMessageList2(this.prevScrollHeight,this.prevScrollTop);};aa.prototype.$PagesManagerMessagingMessageList2=function(ba,ca){'use strict';if(!this.refs.scrollableArea)return;var da=this.refs.scrollableArea.getArea(),ea=da.getScrollHeight()-ba+ca;da.setScrollTop(ea,false);};aa.prototype.$PagesManagerMessagingMessageList3=function(){'use strict';if(!this.refs.scrollableArea)return;var ba=this.refs.scrollableArea.getArea(),ca=this.prevScrollTop,da=this.prevScrollHeight;this.$PagesManagerMessagingMessageList4();if(ba.isScrolledToTop()){this.props.fetchEarlierMessages();}else if(ba.isScrolledToBottom()){this.$PagesManagerMessagingMessageList5();}else{if(ba.getScrollTop()===ca&&ba.getScrollHeight()!==da)this.$PagesManagerMessagingMessageList2(da,ca);this.$PagesManagerMessagingMessageList6();}};aa.prototype.$PagesManagerMessagingMessageList5=function(){'use strict';if(!this.$PagesManagerMessagingMessageList1)this.$PagesManagerMessagingMessageList1=true;};aa.prototype.$PagesManagerMessagingMessageList6=function(){'use strict';if(this.$PagesManagerMessagingMessageList1)this.$PagesManagerMessagingMessageList1=false;};aa.prototype.$PagesManagerMessagingMessageList4=function(){'use strict';var ba=this.refs.scrollableArea;this.prevScrollHeight=ba?ba.getArea().getScrollHeight():0;this.prevScrollTop=ba?ba.getArea().getScrollTop():0;};aa.prototype.$PagesManagerMessagingMessageList7=function(){'use strict';var ba=Math.floor(this.props.scrollHeight/130);return (r.createElement('div',{className:"_31m6",style:{height:this.props.scrollHeight}},r.createElement('div',{className:"_31m7",style:{height:130*ba}},this.$PagesManagerMessagingMessageList8(ba))));};aa.prototype.$PagesManagerMessagingMessageList8=function(ba){'use strict';var ca=r.createElement('div',null,r.createElement('div',{className:"_31m8"}),r.createElement('div',{className:"_31ma"}),r.createElement('div',{className:"_31mb"}),r.createElement('div',{className:"_31mc"}),r.createElement('div',{className:"_31me"}),r.createElement('div',{className:"_31mf"}),r.createElement('div',{className:"_31mg"}),r.createElement('div',{className:"_31mh"}),r.createElement('div',{className:"_31mi"}),r.createElement('div',{className:"_31mj"}),r.createElement('div',{className:"_31mk"}),r.createElement('div',{className:"_31ml"}),r.createElement('div',{className:"_31mm"}),r.createElement('div',{className:"_31mn"}),r.createElement('div',{className:"_31mo"}),r.createElement('div',{className:"_31mp"}),r.createElement('div',{className:"_31mq"})),da=[];for(var ea=0;ea<ba;ea++)da.push(u(ca,{key:'loading'+ea}));return da;};aa.prototype.$PagesManagerMessagingMessageList9=function(){'use strict';if(!this.props.isLoadingMore)return null;return (r.createElement('div',{className:"_2k8v"},r.createElement(n,null)));};aa.prototype.$PagesManagerMessagingMessageList10=function(){'use strict';o.notify(p.MESSAGES_VIEW_THREAD,this.props.pageID,{source:z,thread_id:this.props.threadID});return (r.createElement('div',{className:"clearfix _1ej0 _2mpc"},r.createElement(k,{DateBreak:q,deliveryTimestamp:0,isCanonical:true,isPageMessage:true,location:s.MESSENGER,LogMessage:l,MessageGroup:m,messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),r.createElement(h,{indicatorClass:j,indicatorsWillShow:function(){},indicatorsDidShow:(function(){this.$PagesManagerMessagingMessageList1&&this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom();}).bind(this),rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID})));};aa.prototype.render=function(){'use strict';if(this.props.initLoading)return this.$PagesManagerMessagingMessageList7();return (r.createElement(t,{className:"_11y7",fade:false,height:this.props.scrollHeight,onScroll:w((function(){return this.$PagesManagerMessagingMessageList3();}).bind(this),500),ref:'scrollableArea',shadow:false},this.$PagesManagerMessagingMessageList9(),r.createElement('div',{className:"_14y3"},this.props.threadID?this.$PagesManagerMessagingMessageList10():r.createElement('div',null))));};f.exports=aa;},null);
__d('PagesManagerMessagingMessagelistAction',['PagesManagerMessagingActionType','PagesManagerMessagingMessagelistDispatcher'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.LIST,k={updateMessagelist:function(l,m,n){i.dispatch({type:j.LOADED,pageID:l,threadID:m,data:n});},setHotLikeEnd:function(){i.dispatch({type:h.HOT_LIKE.END});},setHotLikeStart:function(l){i.dispatch({type:h.HOT_LIKE.START,preview:l});},setIsLoading:function(l){i.dispatch({type:j.LOADING,isLoading:l});},setIsLoadingMore:function(l){i.dispatch({type:j.LOAD_MORE,isLoadingMore:l});},setScrollAreaHeight:function(l){i.dispatch({type:h.SET_SCROLL_HEIGHT,height:l});},updateReadReceipts:function(l,m,n){i.dispatch({type:h.MESSAGE_LEVEL.READ_RECEIPTS,pageID:l,threadID:m,readReceipts:n});},updateThread:function(l,m){i.dispatch({type:h.THREAD_LEVEL.UPDATE_THREAD,pageID:l,threadID:m});},setIsContextCardHidden:function(l){i.dispatch({type:h.SET_IS_CONTEXT_CARD_HIDDEN,isHidden:l});}};f.exports=k;},null);
__d('PagesManagerMessagingMessagelistStore',['PagesManagerMessagingActionType','AsyncRequest','FluxStore','immutable','PagesManagerMessagingMessagelistDispatcher','MercuryMessages','PagesManagerMessagingMessagelistDispatcher','MercuryThreadlistConstants','XPagesContextCardSetIsHiddenController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r;q=babelHelpers.inherits(s,j);r=q&&q.prototype;function s(){'use strict';r.constructor.call(this,n);this.$PagesManagerMessagingMessagelistStore1='';this.$PagesManagerMessagingMessagelistStore2=false;this.$PagesManagerMessagingMessagelistStore3=false;this.$PagesManagerMessagingMessagelistStore4=false;this.$PagesManagerMessagingMessagelistStore5=[];this.$PagesManagerMessagingMessagelistStore6=k.OrderedMap();this.$PagesManagerMessagingMessagelistStore7=0;}s.prototype.__onDispatch=function(t){'use strict';switch(t.type){case h.LIST.LOADED:this.$PagesManagerMessagingMessagelistStore8(t);this.__emitChange();break;case h.LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=t.isLoading;this.__emitChange();break;case h.LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=t.isLoadingMore;this.__emitChange();break;case h.MESSAGE_LEVEL.READ_RECEIPTS:this.$PagesManagerMessagingMessagelistStore9(t);this.__emitChange();break;case h.SET_SCROLL_HEIGHT:var u=t.height;if(u!==this.$PagesManagerMessagingMessagelistStore7){this.$PagesManagerMessagingMessagelistStore7=u;this.__emitChange();}break;case h.THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case h.SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore10(t.isHidden);this.__emitChange();break;case h.HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=false;this.$PagesManagerMessagingMessagelistStore11=null;break;case h.HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=true;this.$PagesManagerMessagingMessagelistStore11=t.preview;this.__emitChange();break;default:return;}};s.prototype.$PagesManagerMessagingMessagelistStore8=function(t){'use strict';this.$PagesManagerMessagingMessagelistStore2=false;this.$PagesManagerMessagingMessagelistStore1=t.threadID;this.$PagesManagerMessagingMessagelistStore5=t.data.messages;};s.prototype.$PagesManagerMessagingMessagelistStore9=function(t){'use strict';if(this.$PagesManagerMessagingMessagelistStore1!==t.threadID)this.$PagesManagerMessagingMessagelistStore5=[];this.$PagesManagerMessagingMessagelistStore1=t.threadID;this.$PagesManagerMessagingMessagelistStore6=t.readReceipts;};s.prototype.isLoading=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore2;};s.prototype.isLoadingMore=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore3;};s.prototype.getMessagelist=function(t,u){'use strict';var v;if(u!=this.$PagesManagerMessagingMessagelistStore1)return m.getForFBID(t).getThreadMessagesRangeNow(u,0,o.RECENT_MESSAGES_LIMIT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore11){v=this.$PagesManagerMessagingMessagelistStore5.slice();if(this.$PagesManagerMessagingMessagelistStore11)v.push(this.$PagesManagerMessagingMessagelistStore11);return v;}return this.$PagesManagerMessagingMessagelistStore5;};s.prototype.getScrollHeight=function(){'use strict';return this.$PagesManagerMessagingMessagelistStore7;};s.prototype.getReadReceipts=function(t){'use strict';if(t!=this.$PagesManagerMessagingMessagelistStore1)return k.OrderedMap();return this.$PagesManagerMessagingMessagelistStore6;};s.prototype.isCardHidden=function(){'use strict';if(this.$PagesManagerMessagingMessagelistStore12===undefined||this.$PagesManagerMessagingMessagelistStore12===null)return null;return this.$PagesManagerMessagingMessagelistStore12;};s.prototype.$PagesManagerMessagingMessagelistStore10=function(t){'use strict';this.$PagesManagerMessagingMessagelistStore12=t;var u=p.getURIBuilder().getURI();new i().setURI(u).setData({is_hidden:t}).send();};f.exports=new s(l);},null);
__d('PagesManagerMessagingThreadTitle.react',['ContextualDialogArrow','ContextualLayerAutoFlip','Image.react','LeftRight.react','MercuryThreadTitle.react','PagesManagerMessagingBatchActionMenu.react','PagesMessengerThreadUtils','PagesMessagingActionPlacement','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;s=babelHelpers.inherits(u,p.Component);t=s&&s.prototype;u.prototype.render=function(){'use strict';if(this.props.thread===null||this.props.thread===undefined)return p.createElement('div',{className:"_174o"});var v=n.getBatchActionMenuParam(this.props.thread);v.showMarkRead=false;v.showMarkUnread=false;v.showHideContextCard=this.props.isContextCardEnabled&&!this.props.isContextCardHidden;v.showShowContextCard=this.props.isContextCardEnabled&&this.props.isContextCardHidden;return (p.createElement(k,{className:"_174o"},p.createElement(l,{className:"_174p",thread:this.props.thread,viewer:this.props.pageID,showUnreadCount:false}),p.createElement(m,{alignh:'right',layerBehaviors:[h,i],onHide:(function(){this.setState({menuShown:false});}).bind(this),onShow:(function(){this.setState({menuShown:true});}).bind(this),pageID:this.props.pageID,inlineActionParam:v,placement:o.THREAD_TITLE_BAR,selectedRows:[this.props.thread&&this.props.thread.thread_id],showBatchAction:true},p.createElement(j,{className:"_3lq_",onClick:function(event){return event.stopPropagation();},src:r('/images/mobile/chrome/ui/divebar/settings_gear.png')}))));};function u(){'use strict';s.apply(this,arguments);}f.exports=u;},null);
__d('PagesManagerMessagingDetailContainer.react',['BootloadedComponent.react','FBID','FluxContainer','Grid.react','immutable','JSResource','MercuryMessageStore','MercuryRoger','MercuryThreadInformer','MercuryThreads','MessagingTag','MessengerConfig','MessengerHotLikePreviewEvents','PagesEventObserver','PagesEventType','PagesManagerMessagingComposerContainer.react','PagesManagerMessagingFilterStore','PagesManagerMessagingMessageList.react','PagesManagerMessagingMessagelistAction','PagesManagerMessagingMessagelistStore','PagesManagerMessagingNoteComposerContainer.react','PagesManagerMessagingTabPerfEvents','PagesManagerMessagingThreadInteractionHelper','PagesManagerMessagingThreadTitle.react','PagesManagerPerfLogger','React','ReactDOM','Set','SubscriptionsHandler','Vector','XUIButton.react','cx','debounce','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){if(c.__markCompiled)c.__markCompiled();var pa,qa,ra=k.GridItem;pa=babelHelpers.inherits(sa,ga.Component);qa=pa&&pa.prototype;function sa(ta,ua){'use strict';qa.constructor.call(this,ta,ua);this.$PagesManagerMessagingDetailContainer1=o.getForFBID(ta.pageID);this.$PagesManagerMessagingDetailContainer2=p.getForFBID(ta.pageID);this.$PagesManagerMessagingDetailContainer3=null;this.$PagesManagerMessagingDetailContainer4=false;this.state={isContextCardEnabled:false,isLoading:false,isLoadingMore:false,isPageAdminNoteMode:false,messaginglist:[],preventScroll:false,hideContextCard:ta.config.hideContextCard,threadID:'',thread:{}};this.$PagesManagerMessagingDetailContainer5=na((function(){if(this.props.height)this.$PagesManagerMessagingDetailContainer6(this.props.height);}).bind(this),50);}sa.getStores=function(){'use strict';return [aa];};sa.calculateState=function(ta,ua){'use strict';var va=[],wa={},xa=null;if(ua.listItemKey){va=aa.getMessagelist(ua.pageID,ua.listItemKey);wa=aa.getReadReceipts(ua.listItemKey);xa=q.getForFBID(ua.pageID).getThreadMetaNow(ua.listItemKey);}var ya=aa.isCardHidden();if(ya===null)ya=ua.config.hideContextCard;var za=ua.config.enableContextCard&&xa&&xa.other_user_fbid&&i.isUser(xa.other_user_fbid);return {isContextCardEnabled:za,hideContextCard:ya,isLoading:aa.isLoading(),isLoadingMore:aa.isLoadingMore(),isPageAdminNoteMode:ta?ta.isPageAdminNoteMode:false,scrollHeight:aa.getScrollHeight(),messagelist:va,readReceipts:wa,threadID:ua.listItemKey,thread:xa};};sa.prototype.$PagesManagerMessagingDetailContainer6=function(ta){'use strict';var ua=ka.getElementDimensions(ha.findDOMNode(this.refs.threadTitle)).y,va=ka.getElementDimensions(this.state.isPageAdminNoteMode?ha.findDOMNode(this.refs.noteComposer):ha.findDOMNode(this.refs.composer)).y,wa=ta-ua-va;if(wa<0)wa=0;z.setScrollAreaHeight(wa);};sa.prototype.$PagesManagerMessagingDetailContainer7=function(ta,ua){'use strict';var va=this.$PagesManagerMessagingDetailContainer1.getSeenTimestamps(ta),wa=new ia(va.keys());return va.withMutations(function(xa){l.Seq(ua).reverse().forEach(function(ya){if(wa.size===0)return false;if(!wa.has(ya.author))return true;xa.update(ya.author,function(za){return Math.max(za,ya.timestamp);});wa['delete'](ya.author);});});};sa.prototype.componentDidMount=function(){'use strict';fa.log(ca.MESSAGE_TAB_DETAIL_VIEW_DID_RENDER,this.props.perfParams);if(this.props.listItemKey)this.$PagesManagerMessagingDetailContainer8(this.props.listItemKey);};sa.prototype.componentWillReceiveProps=function(ta){'use strict';if(this.props.listItemKey!==ta.listItemKey)this.$PagesManagerMessagingDetailContainer8(ta.listItemKey);};sa.prototype.componentWillUpdate=function(ta){'use strict';if(ta.height!==this.props.height)this.$PagesManagerMessagingDetailContainer6(ta.height);};sa.prototype.getMessageStore=function(){'use strict';return this.$PagesManagerMessagingDetailContainer9;};sa.prototype.logMessageLoadingStart=function(){'use strict';var ta=Date.now();this.$PagesManagerMessagingDetailContainer10=this.props.pageID+String(Math.random()).slice(2)+'/'+ta;this.$PagesManagerMessagingDetailContainer11=true;u.notify(v.MESSAGES_MESSAGELIST_LOAD_START,this.props.pageID,{flowID:this.$PagesManagerMessagingDetailContainer10,page_id:this.props.pageID,loading_event_time:Date.now()});};sa.prototype.logMessageLoadingEnd=function(){'use strict';if(this.$PagesManagerMessagingDetailContainer11){this.$PagesManagerMessagingDetailContainer11=false;u.notify(v.MESSAGES_MESSAGELIST_LOAD_END,this.props.pageID,{flowID:this.$PagesManagerMessagingDetailContainer10,page_id:this.props.pageID,loading_event_time:Date.now()});}};sa.prototype.$PagesManagerMessagingDetailContainer8=function(ta){'use strict';this.$PagesManagerMessagingDetailContainer12&&this.$PagesManagerMessagingDetailContainer12.destroy();this.$PagesManagerMessagingDetailContainer13&&this.$PagesManagerMessagingDetailContainer13.release();this.$PagesManagerMessagingDetailContainer9=new n(ta,s.MessageLoadCount,this.props.pageID);var ua=aa.getMessagelist(this.props.pageID,ta);if(ua.length===0){z.setIsLoadingMore(false);z.setIsLoading(true);this.logMessageLoadingStart();}var va=this.$PagesManagerMessagingDetailContainer7(ta,ua);z.updateReadReceipts(this.props.pageID,ta,va);this.$PagesManagerMessagingDetailContainer13=new ja();this.$PagesManagerMessagingDetailContainer13.addSubscriptions(this.$PagesManagerMessagingDetailContainer9.subscribe((function(wa){this.logMessageLoadingEnd();z.setIsLoading(false);z.setIsLoadingMore(false);z.updateMessagelist(this.props.pageID,ta,wa);}).bind(this)),this.$PagesManagerMessagingDetailContainer2.subscribe('threads-updated',(function(wa,xa){if(xa[this.props.listItemKey])z.updateThread(this.props.pageID,this.props.listItemKey);}).bind(this)),this.$PagesManagerMessagingDetailContainer1.subscribe('change',(function(wa,xa){if(xa[this.props.listItemKey]){var ya=aa.getMessagelist(this.props.pageID,this.props.listItemKey),za=this.$PagesManagerMessagingDetailContainer7(this.props.listItemKey,ya);z.updateReadReceipts(this.props.pageID,this.props.listItemKey,za);}}).bind(this)),t.addListener(t.START,function(wa){z.setHotLikeStart(wa);}),t.addListener(t.STOP,function(){z.setHotLikeEnd();}));};sa.prototype.$PagesManagerMessagingDetailContainer14=function(){'use strict';var ta=x.getActiveFilterName();if(!this.props.listItemKey||ta===r.UNREAD)return;da.handleUnreadStateUpdate(this.props.listItemKey,this.props.pageID,ta);da.handlePermalinkUpdate(this.props.listItemKey,this.props.pageID);};sa.prototype.$PagesManagerMessagingDetailContainer15=function(){'use strict';if(!this.state.isLoadingMore)if(this.getMessageStore().fetchMoreMessages()){z.setIsLoading(false);z.setIsLoadingMore(true);}};sa.prototype.$PagesManagerMessagingDetailContainer16=function(){'use strict';return (ga.createElement(y,babelHelpers._extends({},this.props,{initLoading:this.state.isLoading,isLoadingMore:this.state.isLoadingMore,messagelist:l.List(this.state.messagelist),fetchEarlierMessages:(function(){return this.$PagesManagerMessagingDetailContainer15();}).bind(this),readReceipts:this.state.readReceipts,scrollHeight:this.state.scrollHeight,threadID:this.state.threadID,thread:this.state.thread})));};sa.prototype.$PagesManagerMessagingDetailContainer17=function(){'use strict';if(!this.state.isContextCardEnabled)return null;return (ga.createElement(ra,{alignv:'middle',className:"_2utd"+(this.state.hideContextCard?' '+"hidden_elem":'')},ga.createElement(h,{bootloadPlaceholder:ga.createElement('div',{className:"hidden_elem"}),bootloadLoader:m('PagesMessengerContextCardContainer.react'),pageID:this.props.pageID,userID:this.state.thread&&this.state.thread.other_user_fbid,scrollHeight:this.state.scrollHeight})));};sa.prototype.$PagesManagerMessagingDetailContainer18=function(){'use strict';if(!this.props.config.enableNotes)return null;var ta=oa._("Add Note");return (ga.createElement('div',{className:"_iif"},ga.createElement(la,{label:ta,onClick:(function(ua){return this.setState({isPageAdminNoteMode:true});}).bind(this)})));};sa.prototype.$PagesManagerMessagingDetailContainer19=function(){'use strict';this.setState({isPageAdminNoteMode:false});};sa.prototype.$PagesManagerMessagingDetailContainer20=function(){'use strict';return (this.props.config.enableComposer&&!this.state.isPageAdminNoteMode);};sa.prototype.$PagesManagerMessagingDetailContainer21=function(){'use strict';return (this.props.config.enableComposer&&this.state.isPageAdminNoteMode);};sa.prototype.render=function(){'use strict';return (ga.createElement('div',null,ga.createElement(ea,{pageID:this.props.pageID,isContextCardEnabled:this.state.isContextCardEnabled,isContextCardHidden:this.state.hideContextCard,onIconClick:(function(){return this.$PagesManagerMessagingDetailContainer22();}).bind(this),ref:'threadTitle',thread:this.state.thread}),ga.createElement(k,{alignv:'top',className:"_2utb",cols:this.state.isContextCardEnabled?2:1},ga.createElement(ra,{className:"_2utc"},this.$PagesManagerMessagingDetailContainer16(),this.$PagesManagerMessagingDetailContainer18()),this.$PagesManagerMessagingDetailContainer17()),ga.createElement('div',{className:!this.$PagesManagerMessagingDetailContainer20()?"hidden_elem":''},ga.createElement(w,{canUseHotlike:this.props.config.enableHotLike,canUseOmnipicker:this.props.config.enableOmnipicker,creatorInfo:this.props.config.creatorInfo,onInitialRender:(function(){return this.$PagesManagerMessagingDetailContainer5();}).bind(this),onMessageOrAttachmentUpdate:(function(){return this.$PagesManagerMessagingDetailContainer5();}).bind(this),onFocus:(function(){return this.$PagesManagerMessagingDetailContainer14();}).bind(this),recipientID:this.state.thread?this.state.thread.other_user_fbid.toString():null,ref:'composer',threadElementID:this.state.threadID,threadID:this.state.threadID,userID:this.props.pageID})),ga.createElement('div',{className:!this.$PagesManagerMessagingDetailContainer21()?"hidden_elem":''},ga.createElement(ba,{creatorInfo:this.props.config.creatorInfo,key:'notecomposer',onDisablePageAdminNoteMode:(function(){return (this.$PagesManagerMessagingDetailContainer19());}).bind(this),onMessageOrAttachmentUpdate:(function(){return this.$PagesManagerMessagingDetailContainer5();}).bind(this),ref:'noteComposer',threadID:this.state.threadID,userID:this.props.pageID}))));};f.exports=j.create(sa,{withProps:true});},null);
__d('PagesManagerMessagingFilterActions',['PagesManagerActionType','PagesManagerMessagingThreadlistDispatcher','PagesManagerMessagingThreadlistAction','PagesManagerNavigationUnit'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={changeFilter:function(m,n){i.dispatch({unit:n,pageID:m,type:h.NAVIGATION_UNIT.CHANGE});j.resetSearch(m);},notifyNotificationCountChanged:function(m){i.dispatch({pageID:m,type:h.NAVIGATION_UNIT.NOTIFICATION_COUNT_CHANGE});}};f.exports=l;},null);
__d('PagesManagerMessagingFilterContainer.react',['PagesManagerMessagingFilterStore','FluxContainer','Map','PagesManagerMessagingFilterActions','PagesManagerMessagingNotificationCountSubscriber','PagesManagerNavigationUnit','PagesManagerNavigationView.react','React','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';var r=c('immutable').List;p=babelHelpers.inherits(s,o.Component);q=p&&p.prototype;function s(t){q.constructor.call(this,t);this.$PagesManagerMessagingFilterContainer1=(function(u){k.changeFilter(this.props.pageID,u);}).bind(this);}s.getStores=function(){return [h];};s.calculateState=function(t,u){return {activeFolder:h.getActiveFolder(),activeFilter:h.getActiveFilter(),folders:h.getAvailableFolders(),filters:h.getAvailableFilters(),unitNotificationCountMap:h.getUnitNotificationCountMap(u.pageID)};};s.prototype.componentWillMount=function(){l.enableRealtimeNotificationCountUpdates(this.props.pageID);};s.prototype.componentWillUnmount=function(){l.disableRealtimeNotificationCountUpdates(this.props.pageID);};s.prototype.render=function(){return (o.createElement(n,{activeDropdownUnit:this.state.activeFolder,activeTabbarUnit:this.state.activeFilter,tabbarUnits:this.state.filters,dropdownUnits:this.state.folders,unitNotificationCountMap:this.state.unitNotificationCountMap,onUnitSelected:this.$PagesManagerMessagingFilterContainer1}));};f.exports=i.create(s,{withProps:true});},null);
__d('PagesManagerMessagingBatchActionHeader.react',['PagesManagerMessagingBatchActionMenu.react','PagesMessagingActionPlacement','React','XUIPopoverButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';n=babelHelpers.inherits(p,j.Component);o=n&&n.prototype;p.prototype.render=function(){return (j.createElement(h,babelHelpers._extends({layerBehaviors:[],placement:i.THREAD_LIST_BATCH_ACTION},this.props),j.createElement(k,{className:"_3640",label:m._("Actions")})));};function p(){n.apply(this,arguments);}f.exports=p;},null);
__d('PagesManagerMessagingBatchActionHeaderContainer.react',['FluxContainer','MercuryPageThreadActions','MercuryThreads','PagesManagerMessagingNavigationUnitKey','PagesManagerMessagingBatchActionHeader.react','PagesManagerMessagingFilterStore','PagesMessengerThreadUtils','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q;'use strict';p=babelHelpers.inherits(r,o.Component);q=p&&p.prototype;function r(s,t){q.constructor.call(this,s,t);this.$PagesManagerMessagingBatchActionHeaderContainer1=i.getForFBID(s.pageID);}r.getStores=function(){return [m];};r.calculateState=function(s,t){var u=m.getActiveFolderName(),v=m.getActiveFilterName(),w=j.getForFBID(t.pageID),x=false,y=false,z=false,aa=false,ba=false,ca=false,da=false,ea=false,fa=false,ga=0,ha=0;t.selectedRows.forEach(function(ja){var ka=w.getThreadMetaNow(ja);if(n.isFlagThread(ka))ga++;if(ka&&ka.unread_count===0)ha++;});var ia=t.selectedRows.length;if(u===k.FOLDERS.INBOX&&v===k.FILTERS.ALL){x=true;aa=true;ca=ia-ga>0;da=ga>0;ea=ha<ia;fa=ha>0;}else if(u===k.FOLDERS.ARCHIVED&&v===k.FILTERS.ALL){y=true;z=true;}else if(u===k.FOLDERS.SPAM&&v===k.FILTERS.ALL){ba=true;}else if(v===k.FILTERS.FLAGGED&&u===k.FOLDERS.INBOX){da=true;}else if(v===k.FILTERS.UNREAD&&u===k.FOLDERS.INBOX)ea=true;return {inlineActionParam:{showArchive:x,showDelete:y,showUnarchive:z,showSpam:aa,showUnspam:ba,showFlag:ca,showUnflag:da,showMarkRead:ea,showMarkUnread:fa}};};r.prototype.$PagesManagerMessagingBatchActionHeaderContainer2=function(){this.props.onSelectionClear();};r.prototype.render=function(){return (o.createElement(l,babelHelpers._extends({onSelectionClear:(function(){return this.$PagesManagerMessagingBatchActionHeaderContainer2();}).bind(this),pageID:this.props.pageID,showBatchAction:this.props.showBatchAction,selectedRows:this.props.selectedRows},this.state)));};f.exports=h.create(r,{withProps:true});},null);
__d('PagesManagerMessagingListRow.react',['ContextualDialogArrow','ContextualLayerAutoFlip','Image.react','Layout.react','MercurySeenIndicator.react','MercuryThreadSnippet.react','MercuryThreadTimestamp.react','MercuryPageThreadTitle.react','PagesMessagingActionPlacement','PagesSelectableListRow.react','PagesManagerMessagingBatchActionMenu.react','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w,x=k.Column,y=k.FillColumn;v=babelHelpers.inherits(z,s.Component);w=v&&v.prototype;function z(aa){'use strict';w.constructor.call(this,aa);this.state={menuShown:false};}z.prototype.render=function(){'use strict';return (s.createElement(q,{onSelected:this.props.onSelected,selected:this.props.selected,className:"_1a_0"+(this.props.isUnread?' '+"_1a_1":'')+(this.props.isViewing?' '+"_3wxb":'')+(this.state.menuShown?' '+"_1hgw":'')},s.createElement('div',{className:"_5x5y"+(!this.props.isFlagged?' '+"hidden_elem":'')}),s.createElement('div',{className:"_o3f",onClick:(function(){return this.props.onViewingListItem(this.props.listItem);}).bind(this)},s.createElement(k,null,s.createElement(x,null,s.createElement(o,{className:"_1a_3",highlightText:this.props.highlightText,showUnreadCount:false,thread:this.props.thread,useShortName:false,useHighlightTitle:this.props.useHighlightTitle,viewer:this.props.pageID})),s.createElement(y,null),s.createElement(x,{className:"_55hu"+(this.props.isFlagged?' '+"_1hog":'')},s.createElement(n,{time:this.props.thread.timestamp,title:this.props.thread.timestamp_absolute,text:this.props.thread.timestamp_relative})))),s.createElement(k,{className:"_1a_6 _o3f",onClick:(function(event){return this.props.onViewingListItem(this.props.listItem);}).bind(this)},s.createElement(x,{className:"_1hgx"},s.createElement(l,{thread:this.props.thread,viewer:this.props.pageID})),s.createElement(y,{className:"_1a_7"},s.createElement(m,{participants:this.props.participants,shouldRenderYou:false,thread:this.props.thread,viewer:this.props.pageID})),s.createElement(x,null,s.createElement(r,{alignh:'right',layerBehaviors:[h,i],onHide:(function(){this.setState({menuShown:false});}).bind(this),onShow:(function(){this.setState({menuShown:true});}).bind(this),pageID:this.props.pageID,inlineActionParam:this.props.inlineActionParam,placement:p.THREAD_ROW_ACTION_ICON,selectedRows:[this.props.thread.thread_id],showBatchAction:true},s.createElement('span',{className:"_4hq1",onClick:function(event){return event.stopPropagation();}}))))));};z.defaultProps={useHighlightTitle:false};f.exports=z;},null);
__d('PagesManagerMessagingListRowContainer.react',['immutable','PagesManagerMessagingListRow.react','MercuryParticipants','MercuryThreads','PagesManagerMessagingFilterStore','PagesManagerMessagingThreadInteractionHelper','PagesMessengerThreadUtils','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q,r=h.Map;p=babelHelpers.inherits(s,o.Component);q=p&&p.prototype;function s(t){'use strict';q.constructor.call(this,t);this.$PagesManagerMessagingListRowContainer1=this.$PagesManagerMessagingListRowContainer1.bind(this);}s.prototype.componentWillMount=function(){'use strict';var t=k.getForFBID(this.props.pageID).getThreadMetaNow(this.props.listItem);this.setState({inlineActionParam:n.getBatchActionMenuParam(t),thread:t,participants:r(h.Seq(t.participants).map(function(u){return [u,j.getOrFetch(u)];}))});};s.prototype.render=function(){'use strict';var t=this.state.thread.unread_count&&this.state.thread.unread_count>0,u=this.state.thread.page_thread_info&&this.state.thread.page_thread_info.flagged,v=this.props,w=v.onViewingListItem,x=babelHelpers.objectWithoutProperties(v,['onViewingListItem']);return (o.createElement(i,babelHelpers._extends({isFlagged:u,isUnread:t,onViewingListItem:this.$PagesManagerMessagingListRowContainer1,thread:this.state.thread},x,this.state)));};s.prototype.updateThread=function(){'use strict';var t=k.getForFBID(this.props.pageID).getThreadMetaNow(this.props.listItem);this.setState({thread:t,inlineActionParam:n.getBatchActionMenuParam(t)});};s.prototype.$PagesManagerMessagingListRowContainer1=function(t){'use strict';m.handleUnreadStateUpdate(t,this.props.pageID,l.getActiveFilterName());m.handlePermalinkUpdate(t,this.props.pageID);this.props.onViewingListItem(t);};s.defaultProps={useHighlightTitle:false};f.exports=s;},null);
__d('PagesManagerMessagingThreadlistStore',['AbstractPagesManagerListStore','PagesManagerActionType','MercuryOrderedThreadlist','MercuryThreadlistConstants','PagesManagerDispatcher','PagesManagerMessagingFilterStore','PagesManagerMessagingThreadlistDispatcher'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;o=babelHelpers.inherits(q,h);p=o&&o.prototype;function q(){'use strict';p.constructor.call(this,n);}q.prototype.$PagesManagerMessagingThreadlistStore1=function(r,s){'use strict';var t=j.getForFBID(r);return t.hasLoadedThreadlist(m.getActiveFolderName(),m.getActiveFilterName())||t.getThreadCount(m.getActiveFolderName(),m.getActiveFilterName())>=s;};q.prototype.$PagesManagerMessagingThreadlistStore2=function(r,s,t){'use strict';var u=j.getForFBID(r);u.getFilteredThreadlist(s,t+1,m.getActiveFolderName(),m.getActiveFilterName(),(function(v){var w=v.length>t;this.$PagesManagerMessagingThreadlistStore3(w);}).bind(this));};q.prototype.$PagesManagerMessagingThreadlistStore4=function(r){'use strict';var s=j.getForFBID(r);return s.getAvailableThreadlistNow(m.getActiveFolderName(),m.getActiveFilterName());};q.prototype.__handleListFetch=function(r){'use strict';var s=r.pageID,t=r.offset,u=r.limit;this.__isLoading=true;var v=this.$PagesManagerMessagingThreadlistStore1(s,t+u);if(v){this.$PagesManagerMessagingThreadlistStore3(this.__hasMoreItem.get(m.getNavigationKey()));}else this.$PagesManagerMessagingThreadlistStore2(s,t,u);this.__emitChange();};q.prototype.__handleNavigationUnitChange=function(r){'use strict';n.waitFor([m.getDispatchToken()]);this.__handleListFetch({pageID:r.pageID,offset:0,limit:k.WEBMESSENGER_THREAD_COUNT});};q.prototype.$PagesManagerMessagingThreadlistStore3=function(r){'use strict';this.__isLoading=false;this.__hasMoreItem.set(m.getNavigationKey(),r);if(!this.__dispatcher.isDispatching())this.__dispatcher.dispatch({type:i.LIST.FETCHED});};q.prototype.getItemList=function(r){'use strict';var s=this.$PagesManagerMessagingThreadlistStore4(r),t=m.getNavigationKey();return this.hasMoreItem(t)&&s.length>0?s.slice(0,s.length-1):s;};f.exports=new q(l);},null);
__d('PagesManagerMessagingListContainer.react',['PagesManagerMessagingBatchActionHeaderContainer.react','FluxContainer','PagesManagerListBatchActionContainer.react','MercuryThreadlistConstants','MessageThreadViewSource','PagesEventObserver','PagesEventType','PagesManagerAction','PagesManagerAwayContainer.react','PagesManagerAwayToggle.react','PagesManagerListView.react','PagesManagerMessagingFilterStore','PagesManagerMessagingListRowContainer.react','PagesManagerMessagingLogger','PagesManagerMessagingNUXActions','PagesManagerMessagingSearchListResult.react','PagesManagerMessagingSearchStore','PagesManagerMessagingTabPerfEvents','PagesManagerMessagingThreadInteractionHelper','PagesManagerMessagingThreadlistAction','PagesManagerMessagingThreadlistStore','PagesManagerPerfLogger','PagesManagerStore','React','SubscriptionsHandler','MercuryThreadInformer'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){if(c.__markCompiled)c.__markCompiled();var ha,ia;ha=babelHelpers.inherits(ja,ea.Component);ia=ha&&ha.prototype;function ja(ka){'use strict';ia.constructor.call(this,ka);this.$PagesManagerMessagingListContainer1=false;this.$PagesManagerMessagingListContainer2=(function(){this.refs.listView.clearSelection();}).bind(this);this.$PagesManagerMessagingListContainer3=this.$PagesManagerMessagingListContainer3.bind(this);this.$PagesManagerMessagingListContainer4=this.$PagesManagerMessagingListContainer4.bind(this);}ja.getStores=function(){'use strict';return [ba,s,x];};ja.calculateSearchState=function(ka,la){'use strict';var ma=x.getThreadNameSearchResults(),na=x.getIsSearchingName(),oa=x.hasMoreNameSearchResult(),pa=x.hasMoreSnippetSearchResult(),qa=x.getThreadSnippetSearchResults(),ra=x.getIsSearchingSnippet();if(la.config.enableFullSearch){return {hasMoreNameSearchResult:oa,hasMoreSnippetSearchResult:pa,isInSearchMode:true,isSearchingName:na,isSearchingSnippet:ra,nameSearchResult:ma,threadSnippetResult:qa,searchTerm:x.getCurrentSearchTerm()};}else return {hasMoreItem:false,initLoading:false,isInSearchMode:true,threadIDList:ma,emptyView:ea.createElement('div',{key:'emptyView'})};};ja.calsulateListState=function(ka,la){'use strict';var ma=ba.getItemList(la.pageID),na=ba.hasMoreItem(s.getNavigationKey()),oa=ma.findIndex(function(xa){return (xa===da.getViewingListItem());})>=0,pa=da.getInitialViewingItem(),qa=da.getViewingListItem(),ra=ma.length>0,sa=pa&&pa===qa,ta=!sa&&(!qa&&ra||qa&&ra&&!oa);if(ta){var ua=ma[0];o.viewListItem(ua);z.handlePermalinkUpdate(ua,la.pageID);}var va=ba.isLoading(),wa=false;if(ma.length===0)wa=va;return {hasMoreItem:na,initLoading:wa,isInSearchMode:false,threadIDList:ma,emptyView:ea.createElement('div',{key:'emptyView'})};};ja.calculateState=function(ka,la){'use strict';var ma=null;if(x.getIsInSearchMode()&&x.getCurrentSearchTerm().length>0){ma=ja.calculateSearchState(ka,la);}else ma=ja.calsulateListState(ka,la);if(ka&&ka.initLoading&&!ma.initLoading)v.setThreadlistReady();return ma;};ja.prototype.componentDidUpdate=function(){'use strict';if(this.$PagesManagerMessagingListContainer1&&!this.state.initLoading){this.$PagesManagerMessagingListContainer1=false;m.notify(n.MESSAGES_INBOX_LOAD_END,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});}};ja.prototype.componentDidMount=function(){'use strict';ca.log(y.MESSAGE_TAB_THREAD_LIST_DID_RENDER,this.props.perfParams);aa.initThreadlist(this.props.pageID);m.notify(n.MESSAGES_THREADLIST_LOAD_START,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});u.logPageViewFolderEvent(this.props.pageID,s.getActiveFolder(),l.NEW_MESSAGETAB);this.$PagesManagerMessagingListContainer1=true;this.$PagesManagerMessagingListContainer5=ga.getForFBID(this.props.pageID);this.$PagesManagerMessagingListContainer6=new fa();this.$PagesManagerMessagingListContainer6.addSubscriptions(this.$PagesManagerMessagingListContainer5.subscribe('threadlist-updated',(function(ka,la){return this.$PagesManagerMessagingListContainer7();}).bind(this)),this.$PagesManagerMessagingListContainer5.subscribe('threads-updated',(function(ka,la){return this.$PagesManagerMessagingListContainer8(Object.keys(la));}).bind(this)));};ja.prototype.componentWillUnmount=function(){'use strict';this.$PagesManagerMessagingListContainer6&&this.$PagesManagerMessagingListContainer6.release();};ja.prototype.$PagesManagerMessagingListContainer9=function(ka){'use strict';return ka;};ja.prototype.$PagesManagerMessagingListContainer3=function(){'use strict';aa.loadMoreNameResult(this.props.pageID,this.state.searchTerm,s.getActiveFolderName());};ja.prototype.$PagesManagerMessagingListContainer4=function(){'use strict';aa.loadMoreSnippetResult(this.props.pageID,this.state.searchTerm,s.getActiveFolderName());};ja.prototype.$PagesManagerMessagingListContainer10=function(){'use strict';var ka=s.getNavigationKey();if(ba.hasMoreItem(ka)&&!ba.isLoading()&&!this.state.isInSearchMode)aa.fetchThreadlist(this.props.pageID,this.state.threadIDList.length,k.WEBMESSENGER_MORE_COUNT);};ja.prototype.$PagesManagerMessagingListContainer7=function(){'use strict';aa.updateThreadlist(this.props.pageID);};ja.prototype.$PagesManagerMessagingListContainer8=function(ka){'use strict';ka.forEach((function(la){if(this.refs.searchResult){var ma=this.refs.searchResult.refs[this.refs.searchResult.getNameResultKey(la)];if(ma)ma.refs.childClass.updateThread();return;}else if(this.refs.listView){var na=this.refs.listView.refs[la];if(na)na.refs.childClass.updateThread();}}).bind(this));};ja.prototype.$PagesManagerMessagingListContainer11=function(){'use strict';var ka=null;if(this.props.config.enableAwayToggle)ka=ea.createElement(p,{pageID:this.props.pageID,RenderClass:q});return (ea.createElement('div',null,ea.createElement(j,{ChildClass:h,pageID:this.props.pageID,onSelectionClear:this.$PagesManagerMessagingListContainer2}),ka));};ja.prototype.render=function(){'use strict';if(this.state.isInSearchMode&&this.props.config.enableFullSearch)return (ea.createElement(w,babelHelpers._extends({},this.props,{actionBarRightContainer:this.$PagesManagerMessagingListContainer11(),getKey:this.$PagesManagerMessagingListContainer9,hasMoreNameSearchResult:this.state.hasMoreNameSearchResult,hasMoreSnippetSearchResult:this.state.hasMoreSnippetSearchResult,isSearchingName:this.state.isSearchingName,isSearchingSnippet:this.state.isSearchingSnippet,listRowContainer:t,loadMoreNameResult:this.$PagesManagerMessagingListContainer3,loadMoreSnippetResult:this.$PagesManagerMessagingListContainer4,nameSearchResult:this.state.nameSearchResult,onSelectionChange:this.props.onSelectionChange,ref:'searchResult',searchTerm:this.state.searchTerm,snippetSearchResult:this.state.threadSnippetResult})));return (ea.createElement(r,babelHelpers._extends({},this.props,{actionBarRightContainer:this.$PagesManagerMessagingListContainer11(),emptyView:this.state.emptyView,getKey:this.$PagesManagerMessagingListContainer9,hasMoreItem:this.state.hasMoreItem,initLoading:this.state.initLoading,isInSearchMode:this.state.isInSearchMode,list:this.state.threadIDList,listRowContainer:t,navigationKey:s.getNavigationKey(),onScroll:this.$PagesManagerMessagingListContainer10.bind(this),onSelectionChange:this.props.onSelectionChange,ref:'listView'})));};f.exports=i.create(ja,{withProps:true});},null);
__d('PagesManagerMessagingApp.react',['PagesManagerAction','LeftRight.react','MercuryPagesChannelHandler','MercuryServerPayloadPreprocessor','PagesEventObserver','PagesEventType','PagesManagerAwayBanner.react','PagesManagerAwayContainer.react','PagesManagerDetailContainer.react','PagesManagerListContainer.react','PagesManagerListDetailLayout.react','PagesManagerMessagingDetailContainer.react','PagesManagerMessagingFilterContainer.react','PagesManagerMessagingListContainer.react','PagesManagerMessagingLogger','PagesManagerMessagingNUXActions','PagesManagerMessagingNUXInboxTourContainer.react','PagesManagerMessagingSearchContainer.react','PagesManagerMessagingTabPerfEvents','PagesManagerPerfLogger','PagesManagerStaticStore','PagesMessengerMessagePageButton.react','React','ReactDOM','ResponsiveBlock.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){if(c.__markCompiled)c.__markCompiled();var ha,ia;ha=babelHelpers.inherits(ja,da.Component);ia=ha&&ha.prototype;function ja(ka,la){'use strict';ia.constructor.call(this,ka,la);ba.setPageID(this.props.pageID);this.state={rootElement:null};this.$PagesManagerMessagingApp1=(function(){this.refs.body&&this.refs.body.recalculateHeight();}).bind(this);}ja.prototype.componentWillMount=function(){'use strict';j.getForFBID(this.props.pageID).turnOn();v.logMessagesSectionViewEvent(this.props.pageID);l.notify(m.MESSAGES_THREADLIST_LAYOUT_LOAD_START,this.props.pageID,{flowID:this.props.flowID,page_id:this.props.pageID,loading_event_time:Date.now()});if(this.props.initialThreadID)h.setInitialViewItem(this.props.initialThreadID);};ja.prototype.componentDidMount=function(){'use strict';aa.log(z.MESSAGE_TAB_APP_DID_RENDER,this.props.perfParams);var ka=k.getForFBID(this.props.pageID);ka.handleUpdate(this.props.config.jewelInitData);w.setShouldShowBanner(this.props.config.enableTutorialBanner);this.setState({rootElement:ea.findDOMNode(this)});};ja.prototype.componentWillUnmount=function(){'use strict';j.getForFBID(this.props.pageID).turnOff();};ja.prototype.$PagesManagerMessagingApp2=function(ka){'use strict';if(ka)return ka;return null;};ja.prototype.$PagesManagerMessagingApp3=function(){'use strict';if(this.props.config.enabledPageToPageMessaging)return (da.createElement(ca,{flowID:this.props.flowID,pageID:this.props.pageID,pagesCommNewMessagesTab:true,size:'large'}));return null;};ja.prototype.$PagesManagerMessagingApp4=function(){'use strict';return (da.createElement('div',{className:"_n4_"},da.createElement(i,{className:"_n50"},da.createElement(t,{config:this.props.config,pageID:this.props.pageID}),da.createElement(i,null,this.$PagesManagerMessagingApp3(),da.createElement(y,{pageID:this.props.pageID,enableTagSearch:this.props.config.enableTagSearch}))),this.$PagesManagerMessagingApp5()));};ja.prototype.$PagesManagerMessagingApp6=function(){'use strict';return (da.createElement('div',{className:"_14vf"},da.createElement(q,{config:this.props.config,ChildContainerClass:u,flowID:this.props.flowID,pageID:this.props.pageID,perfParams:this.props.perfParams})));};ja.prototype.$PagesManagerMessagingApp7=function(){'use strict';return (da.createElement('div',null,da.createElement(p,{config:this.props.config,pageID:this.props.pageID,ChildContainerClass:s,getListItemKey:this.$PagesManagerMessagingApp2,perfParams:this.props.perfParams})));};ja.prototype.$PagesManagerMessagingApp5=function(){'use strict';if(!this.props.config.enableAwayToggle)return null;return (da.createElement('div',null,da.createElement(o,{pageID:this.props.pageID,RenderClass:n})));};ja.prototype.$PagesManagerMessagingApp8=function(){'use strict';return (da.createElement(fa,{onResize:this.$PagesManagerMessagingApp1},da.createElement(x,{rootElement:this.state.rootElement,shouldShowContextCardStep:this.props.config.enableContextCard})));};ja.prototype.render=function(){'use strict';return (da.createElement('div',null,this.$PagesManagerMessagingApp8(),da.createElement('div',{className:"_15i2"},da.createElement(r,{ref:'body',detailSection:this.$PagesManagerMessagingApp7(),listClassName:"_1-9p",listSection:this.$PagesManagerMessagingApp6(),navigationSection:this.$PagesManagerMessagingApp4()}))));};f.exports=ja;},null);