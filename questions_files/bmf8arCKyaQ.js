/*!CK:11280929!*//*1448853445,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["EybIv"]); }

__d("CurrencyUsage",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RENDER:1,PAYMENT_TYPE_CREDIT_CARD:2,PAYMENT_TYPE_PAYPAL:4,PAYMENT_TYPE_MOBILE:8,PAYMENT_TYPE_DIRECT_DEBIT:16,ANY:31,ALL:72057594037927940,ADS:22,ALL_BUT_DD:72057594037927920};},null);
__d("FlowActionConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHANGE_SUBSCRIPTION:"changesubscription",CREATE_SUBSCRIPTION:"createsubscription",MODIFY_SUBSCRIPTION:"modifysubscription",CANCEL_SUBSCRIPTION:"cancelsubscription",REACTIVATE_SUBSCRIPTION:"reactivatesubscription",SETTLE_SUBSCRIPTION:"settlesubscription",PURCHASE_ITEM:"purchaseitem",BUY_CREDITS:"buycredits",EARN_CURRENCY:"earncurrency",EARN_CREDITS:"earncredits",ADS_BILLING:"ads",WATCH_VIDEO:"watchvideo",REDEEM_GIFTCARD:"redeemgiftcard",BOOSTS:"boosts",REDEEM:"redeem",PAYWITHFACEBOOK_PERMISSION:"pwfpermission",FORM_FILL_AD:"formfillad",BRAZIL_TAX_ID:"braziltaxid",DONATION_PAYMENTS:"donation",GIFT_PAYMENTS:"giftpayments",NEKO_PAYMENTS:"nekopayments",AIR_MAIL:"airmail",COMMERCE_PAYMENTS:"commercepayments",PAYER_PROMOTION:"payerpromotion"};},null);
__d("MessengerPaymentProductType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={P2P:"p2p",MESSENGER_COMMERCE:"messenger_commerce"};},null);
__d("P2PChannelType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD_CHANGED:"P2P\/CreditCardChanged",CREDIT_CARD_DELETED:"P2P\/CreditCardDeleted",TRANSFER_STATUS_CHANGED:"P2P\/TransferStatusChanged",PLATFORM_CONTEXT_NEW:"P2P\/PlatformContextNew",PLATFORM_CONTEXT_DISMISSED:"P2P\/PlatformContextDismissed",PLATFORM_CONTEXT_ELIGIBLE_ITEM_UPDATED:"P2P\/PlatformContextEligibleItemUpdated",PAYMENT_REQUEST_STATUS_CHANGED:"P2P\/PaymentRequestStateChanged"};},null);
__d("P2PPasswordProtectionParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={STATUS:"status"};},null);
__d("P2PPasswordProtectionStatusTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NOT_SET:0,DISABLED:1,ENABLED:2};},null);
__d("P2PPaymentCampaignNames",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ZANGOOSE:"zangoose",SEVIPER:"seviper",PICHU:"pichu"};},null);
__d("P2PPaymentLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTN_ADD_CREDIT_CARD:"Actn_AddCreditCard",ACTN_UPDATE_CREDIT_CARD:"Actn_UpdateCreditCard",ACTN_REMOVE_CREDIT_CARD:"Actn_RemoveCreditCard",ACTN_UNLOCK_CREDIT_CARD:"Actn_UnlockCreditCard",ACTN_VALIDATE_CARD:"Actn_ValidateCard",ACTN_TRANSFER_MONEY:"Actn_TransferMoney",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN:"Actn_TransferMoneyWithCampaign",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_PARENT_CALL:"Actn_TransferMoneyWithCampaignParentCall",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_POST_SUCCESS:"Actn_TransferMoneyWithCampaignPostSuccess",ACTN_TRANSFER_MONEY_CHECK_NEEDS_REVERT:"Actn_TransferMoneyCheckNeedsRevert",ACTN_TRANSFER_MONEY_REVERT:"Actn_TransferMoneyRevert",ACTN_TRANSFER_MONEY_CREATE_CONTEXT:"Actn_TransferMoneyCreateContext",ACTN_TRANSFER_MONEY_CREATE_PLATFORM_ITEM:"Actn_TransferMoneyCreatePlatformItem",ACTN_ACCEPT_MONEY:"Actn_AcceptMoney",ACTN_DECLINE_MONEY:"Actn_DeclineMoney",ACTN_SET_PRIMARY:"Actn_SetPrimary",ACTN_WITHDRAW_MONEY:"Actn_WithdrawMoney",ACTN_CREATE_MSGR_COMMERCE_CART:"Actn_CreateMsgrCommerceCart",ACTN_PLACE_MSGR_COMMERCE_ORDER:"Actn_PlaceMsgrCommerceOrder",ACTN_GRAPH_API_GENERIC_WRITE:"Actn_GraphApiGenericWrite",ACTN_SEND_TRANSFER_MESSAGE:"Actn_SendTransferMessage",ACTN_SEND_TRANSFER_EMAIL:"Actn_SendTransferEmail",ACTN_SEND_EXPIRE_NOTIFICATIONS:"Actn_SendExpireNotifications",ACTN_SEND_TRANSFER_MESSAGE_QUEUED:"Actn_SendTransferMessageQueued",ACTN_UNCATEGORIZED_EXCEPTION:"Actn_Uncategorized_Exception",ACTN_INCREASE_CAMPAIGN_COUNTER:"Actn_Increase_Campaign_Counter",ACTN_CREATE_PAYMENT_REQUEST:"Actn_CreatePaymentRequest",ACTN_PAY_PAYMENT_REQUEST:"Actn_PayPaymentRequest",ACTN_DECLINE_PAYMENT_REQUEST:"Actn_DeclinePaymentRequest",ACTN_CANCEL_PAYMENT_REQUEST:"Actn_CancelPaymentRequest",ACTN_SEND_PAYMENT_REQUEST_MESSAGE:"Actn_SendPaymentRequestMessage",ACTN_AUTH_FOR_SENDER_REVIEW:"Actn_AuthForSenderReview",ACTN_COMPLETE_SENDER_REVIEW:"Actn_CompleteSenderReview",ACTN_COMPLETE_RECEIVER_REVIEW:"Actn_CompleteReceiverReview",ACTN_SUBMIT_VERIFICATION_STEP:"Actn_SubmitVerificationStep",ACTN_COMPLETE_SENDER_VERIFICATION:"Actn_CompleteSenderVerification",ACTN_COMPLETE_RECEIVER_VERIFICATION:"Actn_CancelReceiverVerification",ACTN_CANCEL_SENDER_VERIFICATION:"Actn_CancelSenderVerification",ACTN_CANCEL_RECEIVER_VERIFICATION:"Actn_CancelReceiverVerification",ACTN_CANCEL_SENDER_RISK:"Actn_CancelSenderRisk",ACTN_CANCEL_EXPIRE:"Actn_CancelExpire",ACTN_CANCEL_FOR_SAME_CARD:"Actn_CancelForSameCard",ACTN_CANCEL_BY_CUSTOMER_SERVICE:"Actn_CancelByCustomerService",ACTN_CANCEL_RECEIVER_REVIEW:"Actn_CancelReceiverReview",ACTN_CANCEL_SENDER_REVIEW:"Actn_CancelSenderReview",ACTN_CANCEL_ALL_PENDING_TRANSFERS:"Actn_CancelAllPendingTransfers",ACTN_ADD_PIN:"Actn_AddPIN",ACTN_UPDATE_PIN:"Actn_UpdatePIN",ACTN_REMOVE_PIN:"Actn_RemovePIN",ACTN_RESET_PIN:"Actn_ResetPIN",ACTN_ENABLE_TOUCH_ID:"Actn_EnableTouchID",ACTN_VERIFY_TOUCH_ID:"Actn_VerifyTouchID",ACTN_DISABLE_TOUCH_ID:"Actn_DisableTouchID",ACTN_CHANNEL_NOTIF_CARD_EVENT:"Actn_ChannelNotifCardEvent",ACTN_CHANNEL_NOTIF_TRANSFER_STATUS_EVENT:"Actn_ChannelNotifTransferStatusEvent",ACTN_CHANNEL_NOTIF_PLATFORM_EVENT:"Actn_ChannelNotifPlatformEvent",ACTN_CHANNEL_NOTIF_PAYMENT_REQUEST_STATUS_EVENT:"Actn_ChannelNotifPaymentRequestStatusEvent",ACTN_PLATFORM_BANNER_DISMISSED:"Actn_PlatformBannerDismissed",ACTN_PLATFORM_BANNER_MARK_AS_SOLD:"Actn_PlatformBannerMarkAsSold",ACTN_ADD_ADDRESS:"Actn_AddAddress",ACTN_GET_ADDRESSES:"Actn_GetAddresses",ACTN_GET_CURRENT_USER_PROFILE_DATA:"Actn_GetCurrentUserProfileData",ACTN_CAMPAIGN_CHECK_USER_HAS_NEW_ACTIVITY:"Actn_CampaignCheckUserHasNewActivity",ACTN_CAMPAIGN_SAVE_PROMO_NOTIFICATION_TIME:"Actn_CampaignSavePromoNotificationTime",UI_ACTN_INITIATE_SEND:"UI_Actn_Initiate_Send",UI_ACTN_CANCEL_SEND:"UI_Actn_Send_Money_Cancelled",UI_ACTN_INITIATE_ADD_CARD:"UI_Actn_Initiate_Add_Card",UI_ACTN_INITIATE_CHOOSE_CARD:"UI_Actn_Initiate_Choose_Card",UI_ACTN_CANCEL_ADD_CARD:"UI_Actn_Cancel_Add_Card",UI_ACTN_CONFIRM_CARD_DETAILS:"UI_Actn_Confirm_Card_Details",UI_ACTN_ACCEPT_MONEY_CANCEL:"UI_Actn_Accept_Money_Cancel",UI_ACTN_ACCEPT_WITH_CARD:"UI_Actn_Accept_With_Card",UI_ACTN_ADD_CARD_SUCCESS:"UI_Actn_Add_Card_Success",UI_ACTN_ADD_CARD_FAIL:"UI_Actn_Add_Card_Fail",UI_ACTN_CONFIRM_SEND:"UI_Actn_Confirm_Send",UI_ACTN_SEND_SUCCESS:"UI_Actn_Send_Success",UI_ACTN_SEND_MONEY_CANCELLED:"UI_Actn_Send_Money_Cancelled",UI_ACTN_SEND_FAIL:"UI_Actn_Send_Fail",UI_ACTN_INITIATE_EDIT_CARD:"UI_Actn_Initiate_Edit_Card",UI_ACTN_CANCEL_EDIT_CARD:"UI_Actn_Cancel_Edit_Card",UI_ACTN_CONFIRM_EDIT_CARD_DETAILS:"UI_Actn_Confirm_Edit_Card_Details",UI_ACTN_EDIT_CARD_SUCCESS:"UI_Actn_Edit_Card_Success",UI_ACTN_EDIT_CARD_FAIL:"UI_Actn_Edit_Card_Fail",UI_ACTN_INITIATE_REMOVE_CARD:"UI_Actn_Initiate_Remove_Card",UI_ACTN_CONFIRM_REMOVE_CARD:"UI_Actn_Confirm_Remove_Card",UI_ACTN_REMOVE_CARD_SUCCESS:"UI_Actn_Remove_Card_Success",UI_ACTN_REMOVE_CARD_FAIL:"UI_Actn_Remove_Card_Fail",UI_ACTN_INITIATE_PASSWORD_PROTECTION_NUX:"UI_Actn_Initiate_Password_Protection_NUX",UI_ACTN_OPT_IN_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_In_Password_Protection_NUX",UI_ACTN_OPT_OUT_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_Out_Password_Protection_NUX",UI_ACTN_ENABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Enabled_Password_Protection_Setting",UI_ACTN_DISABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Disabled_Password_Protection_Setting",UI_ACTN_SEND_CLICKED:"UI_Actn_Send_Clicked",UI_ACTN_VERIFY_CSC:"UI_Actn_Verify_CSC",UI_ACTN_CONFIRM_AMOUNT:"UI_Actn_Confirm_Amount",UI_ACTN_EDIT_CARD:"UI_Actn_Edit_Card",UI_ACTN_CHANGE_CARD:"UI_Actn_Change_Card",UI_ACTN_INITIATE_SEND_TRIGGER:"UI_Actn_Initiate_Send_Trigger",UI_ACTN_INITIATE_GROUP_SEND:"UI_Actn_Initiate_Group_Send",UI_ACTN_GROUP_SEND_CANCELLED:"UI_Actn_Group_Send_Cancelled",UI_ACTN_INITIATE_GROUP_SEND_TRIGGER:"UI_Actn_Initiate_Group_Send_Trigger",UI_ACTN_GROUP_SEND_RECIPIENT_PICKED:"UI_Actn_Group_Send_Recipient_Picked",UI_ACTN_3RD_PARTY_RECEIPT_SHOWN:"UI_Actn_3rd_Party_Receipt_Shown",UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED:"UI_Actn_3rd_Party_Receipt_Dismissed",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CLICKED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Clicked",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CANCELLED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Cancelled",UI_ACTN_CHAT_THREAD_BANNER_CLICKED:"UI_Actn_Chat_Thread_Banner_Clicked",UI_ACTN_CHAT_THREAD_BANNER_VIEWED:"UI_Actn_Chat_Thread_Banner_Viewed",UI_ACTN_CHAT_THREAD_BANNER_DISMISSED:"UI_Actn_Chat_Thread_Banner_Dismissed",UI_ACTN_INITIATE_MONEYPENNY_ORDER:"UI_Actn_Initiate_Moneypenny_Order",UI_ACTN_CONFIRM_MONEYPENNY_ORDER:"UI_Actn_Confirm_Moneypenny_Order",UI_ACTN_MONEYPENNY_ORDER_FAIL:"UI_Actn_Moneypenny_Order_Fail",UI_ACTN_MONEYPENNY_ORDER_SUCCESS:"UI_Actn_Moneypenny_Order_Success",UI_ACTN_MONEYPENNY_ORDER_CANCEL:"UI_Actn_Moneypenny_Order_Cancel",UI_ACTN_FRIEND_PICKER_SEARCH:"UI_Actn_Friend_Picker_Search",UI_ACTN_FRIEND_PICKER_SELECT:"UI_Actn_Friend_Picker_Select",UI_ACTN_FI_CANCEL:"UI_Actn_FI_Cancel",UI_ACTN_FI_SUCCESS_DIALOG_NEXT:"UI_Action_Success_Dialog_Next",UI_ACTN_FI_BANNER_DISMISSED:"UI_Actn_FI_Banner_Dismissed",UI_ACTN_FI_BANNER_IMPRESSION:"UI_Actn_FI_Banner_Impression",UI_ACTN_INCENTIVE_TRANSFER_SUCCESS:"UI_Actn_Incentive_Transfer_Success",UI_ACTN_INCENTIVE_TRANSFER_FAILURE:"UI_Actn_Incentive_Transfer_Failure",UI_ACTN_PLATFORM_BANNER_SELLER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Seller_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_BUYER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Buyer_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_SOLD_CLICKED:"UI_Actn_Platform_Banner_Sold_Clicked",UI_ACTN_PLATFORM_BANNER_IMAGE_CLICKED:"UI_Actn_Platform_Banner_Image_Clicked",UI_ACTN_PLATFORM_BANNER_TITLE_CLICKED:"UI_Actn_Platform_Banner_Title_Clicked",UI_ACTN_PLATFORM_BANNER_PAY_CLICKED:"UI_Actn_Platform_Banner_Pay_Clicked",UI_ACTN_PLATFORM_BANNER_SELLER_VIEWED:"UI_Actn_Platform_Banner_Seller_Viewed",UI_ACTN_PLATFORM_BANNER_BUYER_VIEWED:"UI_Actn_Platform_Banner_Buyer_Viewed",UI_ACTN_PLATFORM_BANNER_PAY_NUX_SHOWN:"UI_Actn_Platform_Banner_Pay_Nux_Shown",UI_ACTN_INITIATE_REQUEST:"UI_Actn_Initiate_Request",UI_ACTN_REQUEST_CLICKED:"UI_Actn_Request_Clicked",UI_ACTN_CONFIRM_REQUEST:"UI_Actn_Confirm_Request",UI_ACTN_REQUEST_SUCCESS:"UI_Actn_Request_Success",UI_ACTN_REQUEST_FAIL:"UI_Actn_Request_Fail",UI_ACTN_INITIATE_DECLINE_REQUEST:"UI_Actn_Initiate_Decline_Request",UI_ACTN_CONFIRM_DECLINE_REQUEST:"UI_Actn_Confirm_Decline_Request",UI_ACTN_DECLINE_REQUEST_FAIL:"UI_Actn_Decline_Request_Fail",UI_ACTN_DECLINE_REQUEST_SUCCESS:"UI_Actn_Decline_Request_Success",UI_ACTN_INITIATE_CANCEL_REQUEST:"UI_Actn_Initiate_Cancel_Request",UI_ACTN_CONFIRM_CANCEL_REQUEST:"UI_Actn_Confirm_Cancel_Request",UI_ACTN_CANCEL_REQUEST_FAIL:"UI_Actn_Cancel_Request_Fail",UI_ACTN_CANCEL_REQUEST_SUCCESS:"UI_Actn_Cancel_Request_Success",UI_ACTN_INITIATE_CHECKOUT:"UI_Actn_Initiate_Checkout",UI_ACTN_CHECKOUT_CONFIRM:"UI_Actn_Checkout_Confirm",UI_ACTN_INITIATE_ADD_ADDRESS:"UI_Actn_Initiate_Add_Address",UI_ACTN_CANCEL_ADD_ADDRESS:"UI_Actn_Cancel_Add_Address",UI_ACTN_INITIATE_CHOOSE_ADDRESS:"UI_Actn_Initiate_Choose_Address",UI_ACTN_CONFIRM_ADDRESS_DETAILS:"UI_Actn_Confirm_Address_Details",UI_ACTN_ADD_ADDRESS_SUCCESS:"UI_Actn_Add_Address_Success",UI_ACTN_ADD_ADDRESS_FAIL:"UI_Actn_Add_Address_Fail",UI_ACTN_CHECKOUT_FAIL:"UI_Actn_Checkout_Fail",UI_ACTN_CHECKOUT_CART_CREATION_FAIL:"UI_Actn_Checkout_Cart_Creation_Fail",UI_ACTN_CHECKOUT_CANCEL:"UI_Actn_Checkout_Cancel",UI_ACTN_CHECKOUT_SUCCESS:"UI_Actn_Checkout_Success",UI_ACTN_CHECKOUT_CART_CREATION_SUCCESS:"UI_Actn_Checkout_Cart_Creation_Success",UI_ACTN_SEND_MONEY_PAGE_VIEWED:"UI_Actn_Send_Money_Page_Viewed"};},null);
__d("P2PPaymentLoggerEventFlow",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UI_FLOW_P2P_SEND:"UI_Flow_P2P_Send",UI_FLOW_P2P_REQUEST:"UI_Flow_P2P_Request",UI_FLOW_P2P_RECEIVE:"UI_Flow_P2P_Receive",UI_FLOW_P2P_SETTINGS:"UI_Flow_P2P_Settings",UI_FLOW_P2P_GROUP_SEND:"UI_Flow_P2P_Group_Send",UI_FLOW_P2P_GROUP_REQUEST:"UI_Flow_P2P_Group_Request",UI_FLOW_RECEIVER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Receiver_NUX_Chat_Thread_Banner",UI_FLOW_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Sender_NUX_Chat_Thread_Banner",UI_FLOW_MONEYPENNY_CHECKOUT:"UI_Flow_Moneypenny_Checkout",UI_FLOW_FINANCIAL_INCENTIVES:"UI_Flow_Financial_Incentives",UI_FLOW_FINANCIAL_INCENTIVES_ZERO_INDEX_JEWEL:"UI_Flow_Financial_Incentives_Zero_Index_Jewel",UI_FLOW_PLATFORM_BANNER:"UI_Flow_Platform_Banner",UI_FLOW_CHECKOUT:"UI_Flow_Checkout",UI_FLOW_SEND_MONEY_PAGE:"UI_Flow_Send_Money_Page"};},null);
__d("P2PPaymentMethodCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD:"credit_card",DEBIT_CARD:"debit_card",PREPAID_CARD:"prepaid_card"};},null);
__d("P2PPaymentRequestStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INITED:1,DECLINED:2,TRANSFER_INITED:3,TRANSFER_COMPLETED:4,TRANSFER_FAILED:5,CANCELED:6};},null);
__d("P2PTransferParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TRANSFER_ID:"transfer_id",STATUS:"status",SENDER_STATUS:"sender_status",RECEIVER_STATUS:"receiver_status",RISK_RESULT:"risk_result"};},null);
__d("P2PTransferStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18};},null);
__d('FBPaymentsErrorNotice.react',['React','XUINotice.react','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'FBPaymentsErrorNotice',propTypes:{error:k.object},getDefaultProps:function(){return {error:null};},renderErrorContent:function(){var m=this.props.error;if(m.message.__html){return h.createElement('span',{dangerouslySetInnerHTML:m.message});}else return h.createElement('span',null,m.message);},render:function(){return (h.createElement(i,{className:"_3-8n",use:'warn'},this.renderErrorContent()));}});f.exports=l;},null);
__d('FBPaymentsFormField.react',['React','ReactDOM','ReactInputSelection','XUITextInput.react','cloneWithProps','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=h.PropTypes,p=49,q=h.createClass({displayName:'FBPaymentsFormField',propTypes:{autoCompleteName:o.string,cursorPositionUpdater:o.func,disabled:o.bool,errorMessage:o.string,formatValue:o.func,icon:o.shape({normal:o.object,focused:o.object}),initiallyFocused:o.bool,getSecondaryIcon:o.func,hideSecondaryIconOnBlur:o.bool,label:o.string,name:o.string.isRequired,placeholder:o.string,onChange:o.func.isRequired,required:o.bool,saveError:o.string,showFocusOutline:o.bool,showPlaceholderOnFocus:o.bool,useGutter:o.bool,validate:o.func,value:o.string,width:o.number},getDefaultProps:function(){return {hideSecondaryIconOnBlur:false,required:false,saveError:'',showFocusOutline:true,showPlaceholderOnFocus:false,useGutter:false,width:100};},getInitialState:function(){return {cursorPosition:0,isValid:false,focused:false,value:this.props.value||''};},_isModified:false,_lastKeyCode:p,componentDidUpdate:function(r,s){if(s.cursorPosition!==this.state.cursorPosition)j.setSelection(this.getInputElement(),{start:this.state.cursorPosition});if(this.props.saveError!==r.saveError)this.triggerChange(this.state.value);},componentDidMount:function(){var r=this.state.value;if(r)this.triggerChange(r);if(this.props.initiallyFocused)setTimeout((function(){if(this.isMounted())this.focusInput();}).bind(this),100);},getInputElement:function(){return this.refs.input.refs.textInput.getTextFieldDOM();},getCursorPosition:function(){return (j.getSelection(this.getInputElement()).start);},handleBlur:function(r){var s=this.getInputElement().value;if(s&&s!==this.state.value)this.triggerChange(s);this.setState({focused:false});},handlePaste:function(r){this._lastKeyCode=p;},handleChange:function(r){this.triggerChange(r.target.value);},handleOnKeyDown:function(r){var s=r.keyCode;if(s>=96&&s<=105)s-=48;this._lastKeyCode=s;},handleFocus:function(r){this.setState({focused:true});},focusInput:function(){i.findDOMNode(this.refs.input).focus();},renderIcon:function(){var r,s=this.props.icon;if(!s)return null;r=this.state.focused?s.focused:s.normal;return (h.createElement('div',{className:"_2_97"},r));},renderSecondaryIcon:function(){var r;if(!this.state.focused&&(this.props.hideSecondaryIconOnBlur||!this._isModified))return null;if(this.props.getSecondaryIcon)r=this.props.getSecondaryIcon(this.state.value);if(!r)return null;return l(r,{className:n(r,"_2_98")});},shouldShowIsValidError:function(){if(!this.state.isValid&&this._isModified)return !this.state.focused||!!this.state.isValAtLimit;return false;},triggerChange:function(r){this._isModified=true;var s=this.props.cursorPositionUpdater,t=this.state.cursorPosition,u=r,v=true,w=false,x=this.props.limit;if(this.props.formatValue&&!this.props.disabled)u=this.props.formatValue(r,this.state.value,this._lastKeyCode);if(x){if(typeof x==='function')x=x(u);u=u.slice(0,x);w=x===u.length;}if(!this.props.disabled)if(this.props.validate){v=this.props.validate(u);}else if(x){v=w;}else if(this.props.required)v=!!u;if(s&&r!==u)t=s(u,r,this.getCursorPosition(),' ');this.setState({cursorPosition:t,isValAtLimit:w,isValid:v,value:u});this.props.onChange(this.props.name,u,v,w);},renderLabel:function(){if(!this.props.label)return null;return (h.createElement('label',{className:"_2_99"},this.props.label));},render:function(){var r=this.shouldShowIsValidError()||this.props.saveError||this.props.errorMessage,s,t=this.props.placeholder,u=this.renderSecondaryIcon();if(this.props.width)s={width:this.props.width+'%'};if(this.props.showPlaceholderOnFocus&&!this.state.focused)t=null;return (h.createElement('div',{style:s,className:"_2_9a"+(r?' '+"_2_9b":'')+(this.props.showFocusOutline&&!r&&this.state.focused?' '+"_2_9c":'')+(!!u?' '+"_2_9d":'')},h.createElement('div',{className:this.props.useGutter?"_2_9e":''},this.renderLabel(),h.createElement('div',{className:"_2_9f"},this.renderIcon(),h.createElement(k,{autoComplete:this.props.autoCompleteName,ref:'input',value:this.state.value,onChange:this.handleChange,onPaste:this.handlePaste,onKeyDown:this.handleOnKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:t,disabled:this.props.disabled,className:"_2_9g"+(!this.props.icon?' '+"_2_9h":''),xuiError:this.props.errorMessage}),u,h.createElement('div',{className:"_2_9i"})))));}});f.exports=q;},null);
__d('FBPaymentsFormFieldUtils',['Keys'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={stripNonDigits:function(j){return j.replace(/\D/g,'');},stripNonAlpha:function(j){return j.replace(/[^a-zA-Z]/g,'');},formatCardNumber:function(j,k,l,m,n){if(l===h.BACKSPACE||l===h.DELETE){var o=k.split(n).length-1,p=j.split(n).length-1;if(p!==o)return j;}j=this.stripNonDigits(j);j=j.substr(0,m[m.length-1]);var q='';for(var r=1;r<m.length;r++){if(m[r]>j.length||r===m.length-1){q+=j.slice(m[r-1]);break;}q+=j.slice(m[r-1],m[r])+n;}return q;},getUpdatedCursorPosition:function(j,k,l,m){var n=0,o=0;while(n<l&&n<k.length&&o<j.length)if(k[n]===j[o]){n++;o++;}else if(!/^\d+$/.test(k[n])){n++;}else o++;if(j.substr(o,1)===m)o++;return o;}};f.exports=i;},null);
__d('FBPaymentsCreditCardCVCFormField.react',['Image.react','FBPaymentsFormField.react','FBPaymentsFormFieldUtils','PaymentMethodUtils','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'FBPaymentsCreditCardCVCFormField',propTypes:{creditCardNumber:o.string,cscMaxLength:o.number,initiallyFocused:o.bool,name:o.string.isRequired,onChange:o.func.isRequired,showFocusOutline:o.bool,showIcon:o.bool,showPlaceholder:o.bool},getDefaultProps:function(){return {showFocusOutline:true,showIcon:true,showPlaceholder:true};},isAmex:function(){var q;if(this.props.creditCardNumber)q=k.getCardType(this.props.creditCardNumber);return q?q.name==='amex':false;},getLimit:function(){var q=this.props.cscMaxLength;if(!q)q=this.isAmex()?4:3;return q;},getSecondaryIcon:function(q){var r;if(!this.props.showSecondaryIcon)return null;if(this.isAmex()){r=n('/images/payments/icons/modularization/Amex-cvv.png');}else r=n('/images/payments/icons/modularization/CC-CVV.png');return (l.createElement(h,{height:20,src:r,width:30}));},render:function(){var q,r,s,t=this.getLimit();if(this.props.showLabel){s=m._("Security Code");r='0'.repeat(t);}else if(this.props.showPlaceholder)r=m._("CVV");if(this.props.showIcon)q={normal:l.createElement(h,{height:12,src:n('/images/p2p/lock-grey_s.png'),width:12}),focused:l.createElement(h,{height:12,src:n('/images/p2p/lock-blue_s.png'),width:12})};return (l.createElement(i,babelHelpers._extends({autoCompleteName:'cc-csc',formatValue:j.stripNonDigits,getSecondaryIcon:this.getSecondaryIcon,icon:q,label:s,limit:t,placeholder:r,hideSecondaryIconOnBlur:true,ref:'input'},this.props)));}});f.exports=p;},null);
__d('FBPaymentsCreditCardZipCodeFormField.react',['Image.react','FBPaymentsFormField.react','FBPaymentsFormFieldUtils','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'FBPaymentsCreditCardZipCodeFormField',propTypes:{onChange:n.func.isRequired,name:n.string.isRequired,showIcon:n.bool,showPlaceholder:n.bool},getDefaultProps:function(){return {showIcon:true,showPlaceholder:true};},getLimit:function(){return 5;},render:function(){var p=l._("Billing ZIP Code"),q,r,s;if(this.props.showLabel){s=p;q='00000';}else if(this.props.showPlaceholder)q=p;if(this.props.showIcon)r={normal:k.createElement(h,{height:12,src:m('/images/p2p/place-grey_s.png'),width:12}),focused:k.createElement(h,{height:12,src:m('/images/p2p/place-blue_s.png'),width:12})};return (k.createElement(i,babelHelpers._extends({autoCompleteName:'postal-code',formatValue:j.stripNonDigits,icon:r,label:s,limit:this.getLimit(),placeholder:q,ref:'input'},this.props)));}});f.exports=o;},null);
__d('MNCommerceAgenItemSuggestionReactShape',['React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.PropTypes,j=i.shape({desc:i.string,display_total_cost:i.string,id:i.string.isRequired,merchant_name:i.string.isRequired,name:i.string.isRequired,payment_id:i.string,raw_amount:i.string,target_url:i.string,thumb_url:i.string,total_cost:i.shape({amount:i.number,currency:i.string})});f.exports=j;},null);
__d('P2PAPIUtils',['CreditCardFormParam','fbt','guid'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getRandomDigits:function(l){return Math.random().toString().slice(2,2+l);},genRequestID:function(){return 'id:'+j()+':'+Date.now();},genOfflineThreadingID:function(){return Date.now()+''+k.getRandomDigits(6);},getUncaughtErrorMessage:function(){return i._("Sorry, something went wrong. Please try again later.");},prepareCardMutationData:function(l){var m={},n=l[h.CARD_NUMBER].replace(/ /g,'');m[h.CARD_NUMBER]=n;if(typeof l[h.CARD_EXPIRATION]==='string'){var o=l[h.CARD_EXPIRATION].split('/');m[h.MONTH]=o[0];m[h.YEAR]=o[1];m[h.CARD_EXPIRATION]={};m[h.CARD_EXPIRATION][h.MONTH]=m[h.MONTH];m[h.CARD_EXPIRATION][h.YEAR]=m[h.YEAR];}else{m[h.MONTH]=l[h.CARD_EXPIRATION][h.MONTH];m[h.YEAR]=l[h.CARD_EXPIRATION][h.YEAR];}return babelHelpers._extends({},l,m);}};f.exports=k;},null);
__d("XMoneypennyPaymentsCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/moneypenny\/payments\/_create\/",{});},null);
__d("XP2PAddressesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/addresses\/",{});},null);
__d("XP2PAddressCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/address\/_create\/",{});},null);
__d("XP2PBannerDismissalsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_dismissals\/_update\/",{banner_type:{type:"String",required:true}});},null);
__d("XP2PBannerStatesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_states\/",{});},null);
__d("XP2PBannerViewsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_views\/_update\/",{banner_type:{type:"String",required:true}});},null);
__d("XP2PCardBINValidateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/card_bin\/validate\/",{bin_number:{type:"String",required:true}});},null);
__d("XP2PCreditCardDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_delete\/",{});},null);
__d("XP2PCreditCardUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_update\/",{});},null);
__d("XP2PCreditCardCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_create\/",{});},null);
__d("XP2PCreditCardVerifyController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_verify\/",{});},null);
__d("XP2PCreditCardsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/",{});},null);
__d("XP2PCurrentUserProfileDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/current_user_profile_data\/",{});},null);
__d("XP2PExtensiveTransferDetailsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transaction\/details\/",{id:{type:"String",required:true}});},null);
__d("XP2PFriendPickerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/friend_picker\/",{limit:{type:"Int",defaultValue:100},query:{type:"String"}});},null);
__d("XP2PPasswordProtectionStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/password_protection_status\/",{});},null);
__d("XP2PPasswordProtectionStatusUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/password_protection_status\/_update\/",{});},null);
__d("XP2PPaymentRequestCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requets\/_cancel\/",{});},null);
__d("XP2PPaymentRequestCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requests\/_create\/",{});},null);
__d("XP2PPaymentRequestDeclineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requets\/_decline\/",{});},null);
__d("XP2PPendingPaymentRequestsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/pending_payment_requests\/",{});},null);
__d("XP2PPlatformMsgrCommerceCartCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform\/msgr_commerce\/create\/",{});},null);
__d("XP2PPlatformSetShippingAddressController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform\/set_shipping_address\/",{});},null);
__d("XP2PPresetCreditCardSetController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/preset_credit_card\/_set\/",{});},null);
__d("XP2PProductItemBannerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/",{other_user_id:{type:"String",required:true}});},null);
__d("XP2PProductItemBannerDismissalController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/_dismiss\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PProductItemBannerMarkSoldController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/_mark_sold\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PTransactionsCampaignCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/campaign\/_create\/",{});},null);
__d("XP2PTransactionsCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_cancel\/",{});},null);
__d("XP2PTransactionsCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_create\/",{});},null);
__d("XP2PTransactionsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/",{since:{type:"Int"}});},null);
__d("XP2PTransactionsDeclineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_decline\/",{});},null);
__d("XP2PUserEligibilityController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/user_eligibility\/",{user_ids:{type:"StringVector",required:true}});},null);
__d('P2PAPI',['AsyncRequest','CreditCardFormParam','P2PActions','P2PAPIUtils','P2PPasswordProtectionParam','P2PPaymentCampaignNames','P2PPaymentRequestStatus','P2PTransferParam','PaymentTokenProxyUtils','ImmutableObject','XMoneypennyPaymentsCreateController','XP2PAddressesController','XP2PAddressCreateController','XP2PBannerDismissalsUpdateController','XP2PBannerStatesController','XP2PBannerViewsUpdateController','XP2PCardBINValidateController','XP2PCreditCardDeleteController','XP2PCreditCardUpdateController','XP2PCreditCardCreateController','XP2PCreditCardVerifyController','XP2PCreditCardsController','XP2PCurrentUserProfileDataController','XP2PExtensiveTransferDetailsController','XP2PFriendPickerController','XP2PPasswordProtectionStatusController','XP2PPasswordProtectionStatusUpdateController','XP2PPaymentRequestCancelController','XP2PPaymentRequestCreateController','XP2PPaymentRequestDeclineController','XP2PPendingPaymentRequestsController','XP2PPlatformMsgrCommerceCartCreateController','XP2PPlatformSetShippingAddressController','XP2PPresetCreditCardSetController','XP2PProductItemBannerController','XP2PProductItemBannerDismissalController','XP2PProductItemBannerMarkSoldController','XP2PTransactionsCampaignCreateController','XP2PTransactionsCancelController','XP2PTransactionsCreateController','XP2PTransactionsController','XP2PTransactionsDeclineController','XP2PUserEligibilityController','emptyFunction','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za){'use strict';if(c.__markCompiled)c.__markCompiled();var ab={getAllCreditCards:function(){var bb=ca.getURIBuilder().getURI();new h().setURI(bb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler((function(cb){var db=cb.getPayload(),eb=!db.error?db:[];j.updateCreditCards(eb);}).bind(this)).send();},createTransaction:function(bb){var cb=ua.getURIBuilder().getURI(),db={},eb=bb.formData,fb=bb.success||ya,gb=bb.error||ya;db[i.CREDENTIAL_ID]=eb[i.CREDENTIAL_ID];db.amount=eb.amount;db.receiver_id=eb.receiverId;db.offline_threading_id=k.genOfflineThreadingID();db.group_thread_fbid=eb.group_thread_fbid;db.platform_context_id=eb.platform_context_id;db.shipping_address_id=eb.shippingAddressID;db.shipping_option_id=eb.shippingOptionID;db.memo_text=eb.memoText;db.payment_request_id=eb.paymentRequestID;new h().setData(db).setMethod('POST').setURI(cb).setAllowCrossPageTransition(true).setHandler((function(hb){var ib=hb?hb.getPayload():{};if(ib.error){gb(ib.error);}else{fb(ib);this.getAllCreditCards();if(db.payment_request_id)j.paymentRequestUpdated({id:db.payment_request_id,currentStatus:n.TRANSFER_COMPLETED});}}).bind(this)).setErrorHandler((function(){gb({message:k.getUncaughtErrorMessage()});}).bind(this)).send();},addCreditCard:function(bb){j.ignoreCreditCardChannelEvents();var cb=aa.getURIBuilder().getURI().getPath(),db=bb.onSuccess||ya,eb=bb.onError||ya,fb=p.getURI({tpe:cb});bb=k.prepareCardMutationData(bb);var gb=new q(bb),hb=bb.platformContext;j.creditCardSaving();new h().setAllowCrossOrigin(true).setURI(fb).setData(bb).setMethod('POST').setHandler((function(ib){var jb=ib.getPayload();if(!jb.errors){gb=q.set(gb,jb);j.addCreditCard(gb);if(jb.isPreset)j.transferAccepted();if(hb)j.checkoutCreditCardSelected(jb[i.CREDENTIAL_ID]);db();}else{j.addCreditCardError(babelHelpers._extends({requestID:gb.requestID},jb));eb(jb);}j.allowCreditCardChannelEvents();}).bind(this)).setErrorHandler((function(){j.addCreditCardError({requestID:gb.requestID,errors:{general:{message:k.getUncaughtErrorMessage()}}});j.allowCreditCardChannelEvents();}).bind(this)).send();},getTransactions:function(bb){bb=bb||{};var cb={},db=bb,eb=va.getURIBuilder().getURI(),fb=new q(db);if(db.since)cb.since=db.since;return new h().setData(cb).setURI(eb).setMethod('GET').setReadOnly(true).setHandler((function(gb){var hb=gb.getPayload();if(!hb.error){j.updateTransfers(hb);}else j.updateTransfersError(babelHelpers._extends({requestID:fb.requestID},hb));}).bind(this)).setErrorHandler((function(){j.updateTransfersError({error:{message:k.getUncaughtErrorMessage()},requestID:fb.requestID});}).bind(this)).send();},getExtensiveTransferDetailsByID:function(bb){var cb=ea.getURIBuilder().setString('id',bb).getURI();new h().setURI(cb).setMethod('GET').setReadOnly(true).setHandler((function(db){var eb=db.getPayload();if(!eb.error)j.extensiveTransferDetailsLoaded(eb);}).bind(this)).send();},getNUXTransactions:function(){var bb=new Date(),cb=Math.round(bb.setDate(bb.getDate()-15)/1000),db=va.getURIBuilder().getURI();return new h().setData({since:cb}).setURI(db).setMethod('GET').setReadOnly(true).setHandler((function(eb){var fb=eb.getPayload();if(!fb.error)j.updateNUXTransfers(fb);}).bind(this)).send();},updatePresetCreditCard:function(bb){var cb=oa.getURIBuilder().getURI();new h().setData(bb).setURI(cb).setMethod('POST').setHandler((function(db){var eb=db.getPayload();if(!eb.error){j.updatePresetCreditCard(babelHelpers._extends({},eb,{requestID:bb.requestID}));j.transferAccepted();}else j.updatePresetCreditCardError(babelHelpers._extends({},eb,{requestID:bb.requestID}));}).bind(this)).setErrorHandler((function(){j.updatePresetCreditCardError({error:{message:k.getUncaughtErrorMessage()},requestID:bb.requestID});}).bind(this)).send();},updateCreditCard:function(bb){j.ignoreCreditCardChannelEvents();var cb=z.getURIBuilder().getURI().getPath(),db=p.getURI({tpe:cb});bb=k.prepareCardMutationData(bb);var eb=new q(bb);new h().setAllowCrossOrigin(true).setURI(db).setData(bb).setMethod('POST').setHandler((function(fb){var gb=fb.getPayload();if(!gb.errors){j.updateCreditCard(eb);}else j.updateCreditCardError(babelHelpers._extends({},gb,{requestID:eb.requestID}));j.allowCreditCardChannelEvents();}).bind(this)).setErrorHandler((function(){j.updateCreditCardError({errors:{general:{message:k.getUncaughtErrorMessage()}},requestID:eb.requestID});j.allowCreditCardChannelEvents();}).bind(this)).send();},deleteCreditCard:function(bb){var cb=y.getURIBuilder().getURI();new h().setData(bb).setMethod('POST').setURI(cb).setHandler((function(db){var eb=db.getPayload();if(!eb.error){j.deleteCreditCard(babelHelpers._extends({},eb,{requestID:bb.requestID}));}else j.deleteCreditCardError(babelHelpers._extends({},eb,{requestID:bb.requestID}));}).bind(this)).setErrorHandler((function(){j.deleteCreditCardError({error:{message:k.getUncaughtErrorMessage()},requestID:bb.requestID});}).bind(this)).send();},getPasswordProtectionSetting:function(bb){var cb=ga.getURIBuilder().getURI(),db=bb.success||ya,eb=bb.error||ya;new h().setURI(cb).setMethod('GET').setReadOnly(true).setHandler((function(fb){var gb=fb?fb.getPayload():[];if(gb.error){eb();}else db(gb);}).bind(this)).setErrorHandler((function(){eb();}).bind(this)).send();},setPasswordProtectionSetting:function(bb){var cb=ha.getURIBuilder().getURI(),db=bb.formData,eb=bb.success||ya,fb=bb.error||ya,gb={};gb[l.STATUS]=db[l.STATUS];new h().setData(gb).setURI(cb).setMethod('POST').setHandler((function(hb){var ib=hb?hb.getPayload():{};if(ib.error){fb(ib.error);}else eb();}).bind(this)).setErrorHandler((function(){fb();}).bind(this)).send();},declineTransaction:function(bb){var cb=wa.getURIBuilder().getURI(),db=bb.formData,eb=bb.success||ya,fb=bb.error||ya,gb={};gb[o.TRANSFER_ID]=db[o.TRANSFER_ID];new h().setData(gb).setURI(cb).setMethod('POST').setHandler((function(hb){var ib=hb?hb.getPayload():{},jb={};if(ib.error){fb(ib.error);}else{eb();jb[o.TRANSFER_ID]=gb[o.TRANSFER_ID];j.transferDeclined(jb);}}).bind(this)).setErrorHandler((function(){fb();}).bind(this)).send();},cancelTransaction:function(bb){var cb=ta.getURIBuilder().getURI(),db=bb.formData,eb=bb.success||ya,fb=bb.error||ya,gb={};gb[o.TRANSFER_ID]=db[o.TRANSFER_ID];new h().setData(gb).setURI(cb).setMethod('POST').setHandler((function(hb){var ib=hb?hb.getPayload():{};if(ib.error){fb(ib.error);}else eb();}).bind(this)).setErrorHandler((function(){fb();}).bind(this)).send();},verifyCreditCard:function(bb){var cb=ba.getURIBuilder().getURI().getPath(),db=p.getURI({tpe:cb});new h().setAllowCrossOrigin(true).setURI(db).setData(bb).setMethod('POST').setHandler((function(eb){var fb=eb.getPayload();if(!fb.error){j.verifyCreditCard(babelHelpers._extends({},fb,{requestID:bb.requestID}));}else j.verifyCreditCardError(babelHelpers._extends({},fb,{requestID:bb.requestID}));}).bind(this)).setErrorHandler((function(){j.verifyCreditCardError({error:{message:k.getUncaughtErrorMessage()},requestID:bb.requestID});}).bind(this)).send();},validateBINNumber:function(bb){bb=bb||{};var cb=new q(bb),db=x.getURIBuilder().setString('bin_number',bb.binNumber).getURI();return new h().setURI(db).setMethod('GET').setReadOnly(true).setHandler((function(eb){var fb=eb.getPayload();if(!fb.error){j.binNumberValidated(babelHelpers._extends({},fb,{requestID:bb.requestID}));}else j.binNumberValidatedError(babelHelpers._extends({},fb,{requestID:cb.requestID}));}).bind(this)).send();},getUserEligibility:function(bb){bb=bb||{};var cb=xa.getURIBuilder().setStringVector('user_ids',bb.userIDs).getURI();return new h().setURI(cb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler((function(db){var eb=db.getPayload();if(!eb.error)j.userEligibilityUpdated(eb);}).bind(this)).send();},getFriendsList:function(bb,cb){var db=fa.getURIBuilder().setInt('limit',bb).setString('query',cb).getURI();return new h().setURI(db).setMethod('GET').setReadOnly(true).setHandler((function(eb){var fb=eb.getPayload();if(!fb.error)j.friendsListUpdated({friends:fb,query:cb});}).bind(this)).send();},getBannerStates:function(){var bb=v.getURIBuilder().getURI();new h().setURI(bb).setMethod('GET').setReadOnly(true).setHandler((function(cb){var db=cb.getPayload();if(!db.error)j.bannerStatesUpdated(db);}).bind(this)).send();},incrementBannerViews:function(bb){var cb=w.getURIBuilder().setString('banner_type',bb).getURI();new h().setMethod('POST').setURI(cb).send();},incrementBannerDismissals:function(bb){var cb;j.bannerDismissed(bb);cb=u.getURIBuilder().setString('banner_type',bb).getURI();new h().setMethod('POST').setURI(cb).send();},createMoneypennyTransfer:function(bb){var cb=r.getURIBuilder().getURI();new h().setMethod('POST').setURI(cb).setData({item_id:bb.item_id,credential_id:bb.credential_id,amount:bb.amount,external_request_id:bb.external_request_id}).setHandler((function(db){var eb=db.getPayload();if(!eb.error){j.moneypennyTransferCreated(babelHelpers._extends({},eb,{requestID:bb.requestID}));this.getAllCreditCards();}else j.moneypennyTransferCreatedError(babelHelpers._extends({},eb,{requestID:bb.requestID}));}).bind(this)).setErrorHandler(function(){j.moneypennyTransferCreatedError({error:{message:k.getUncaughtErrorMessage()},requestID:bb.requestID});}).send();},createFinancialIncentivesTransfer:function(bb){var cb=sa.getURIBuilder().getURI(),db=bb.success||ya,eb=bb.error||ya,fb={};fb[i.CREDENTIAL_ID]=bb.credential_id;fb.external_request_id=k.genOfflineThreadingID();fb.campaign_name=m.SEVIPER;new h().setData(fb).setURI(cb).setMethod('POST').setHandler(function(gb){var hb=gb.getPayload();if(hb.error){eb(hb.error);}else db();}).send();},getPlatformContextByOtherUserID:function(bb){bb=bb||{};var cb=pa.getURIBuilder().setString('other_user_id',bb.otherUserID).getURI();return new h().setURI(cb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler((function(db){var eb=db.getPayload();if(!eb.error&&!za(eb))j.addPlatformContext(eb);}).bind(this)).send();},dismissPlatformContextBanner:function(bb){var cb;j.platformContextBannerDismissed(bb);cb=qa.getURIBuilder().setString('platform_context_id',bb).getURI();new h().setMethod('POST').setURI(cb).send();},markSoldPlatformContextProductItem:function(bb){var cb;j.platformContextProductItemSold(bb);cb=ra.getURIBuilder().setString('platform_context_id',bb).getURI();new h().setMethod('POST').setURI(cb).send();},getAddresses:function(){var bb=s.getURIBuilder().getURI();return new h().setURI(bb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(cb){var db=cb.getPayload();if(!db.error)j.updateAddresses(db);}).send();},addAddress:function(){var bb=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],cb=t.getURIBuilder().getURI(),db,eb=bb.platformContext,fb=bb.onSuccess||ya,gb=bb.onError||ya;db={label:bb.label,care_of:bb.care_of,city:bb.city,street1:bb.street1,street2:bb.street2,state:bb.state,zip:bb.zip};j.addressSaving();return new h().setData(db).setURI(cb).setMethod('POST').setHandler((function(hb){var ib=hb.getPayload();if(!ib.errors){j.addAddress(babelHelpers._extends({},ib,db,{requestID:bb.requestID}));if(eb){j.checkoutAddressSelected(ib.id);this.setPlatformContextShippingAddress({platformContextID:eb.id,shippingAddressID:ib.id});}fb();}else{j.addAddressError(babelHelpers._extends({},ib,{requestID:bb.requestID}));gb(ib);}}).bind(this)).setErrorHandler(function(){j.addAddressError({errors:{general:{message:k.getUncaughtErrorMessage()}},requestID:bb.requestID});}).send();},createMCCart:function(bb){var cb=ma.getURIBuilder().getURI(),db,eb=bb.productItemID;bb=bb||{};db={item_id:eb};j.checkoutCartInitiated();return new h().setData(db).setURI(cb).setMethod('POST').setHandler(function(fb){var gb=fb.getPayload();if(!gb.error){j.addPlatformContext(babelHelpers._extends({},gb));j.checkoutCartCreated({sellerID:bb.sellerID,productItemID:eb});}else j.addPlatformContextError(babelHelpers._extends({itemID:eb},gb));}).setErrorHandler(function(){j.addPlatformContextError({itemID:eb,error:{message:k.getUncaughtErrorMessage()}});}).send();},setPlatformContextShippingAddress:function(bb){var cb=na.getURIBuilder().getURI(),db,eb=bb.platformContextID,fb=bb.shippingAddressID;bb=bb||{};db={platform_context_id:eb,shipping_address_id:fb};j.checkoutProcessing(true);return new h().setData(db).setURI(cb).setMethod('POST').setHandler(function(gb){j.checkoutProcessing(false);var hb=gb.getPayload();if(!hb.error)j.addPlatformContext(babelHelpers._extends({},hb));}).send();},getCurrentUserProfileData:function(){var bb=da.getURIBuilder().getURI();return new h().setURI(bb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(cb){var db=cb.getPayload();if(!db.error){j.checkoutBuyerProfileUpdated(db);}else j.checkoutBuyerProfileUpdated({});}).setErrorHandler(function(){j.checkoutBuyerProfileUpdated({});}).send();},createPaymentRequest:function(bb){var cb=ja.getURIBuilder().getURI(),db=bb.formData,eb=db.amount,fb=db.requesteeID,gb=db.memoText,hb=db.group_thread_fbid,ib={amount:eb,memo_text:gb,offline_threading_id:k.genOfflineThreadingID(),requestee_id:fb,group_thread_fbid:hb};j.paymentRequestInitiated();return new h().setData(ib).setURI(cb).setMethod('POST').setHandler(function(jb){var kb=jb.getPayload();if(!kb.error){j.paymentRequestCreated(babelHelpers._extends({},kb,{amount:eb,memoText:gb,requesteeID:fb}));bb.success(kb);}else{j.paymentRequestCreatedError(kb);bb.error(kb);}j.paymentRequestInitiatedComplete();}).setErrorHandler(function(){bb.error({error:{message:k.getUncaughtErrorMessage()}});j.paymentRequestInitiatedComplete();}).send();},declinePaymentRequest:function(bb){var cb=ka.getURIBuilder().getURI(),db=bb.paymentRequestID,eb=bb.success||ya,fb=bb.error||ya,gb={payment_request_id:db};j.paymentRequestDeclineInitiated();return new h().setData(gb).setURI(cb).setMethod('POST').setHandler(function(hb){var ib=hb.getPayload();if(!ib.error){j.paymentRequestDeclined(db);j.hideDialog();eb(ib);}else{j.paymentRequestDeclineError(ib);fb(ib);}}).setErrorHandler(function(){j.paymentRequestDeclineError({error:{message:k.getUncaughtErrorMessage()}});fb();}).send();},cancelPaymentRequest:function(bb){var cb=ia.getURIBuilder().getURI(),db=bb.paymentRequestID,eb=bb.success||ya,fb=bb.error||ya,gb={payment_request_id:db};j.paymentRequestCancelInitiated();return new h().setData(gb).setURI(cb).setMethod('POST').setHandler(function(hb){var ib=hb.getPayload();if(!ib.error){j.paymentRequestCanceled(db);j.hideDialog();eb(ib);}else{j.paymentRequestCancelError(ib);fb(ib);}}).setErrorHandler(function(){j.paymentRequestCancelError({error:{message:k.getUncaughtErrorMessage()}});fb();}).send();},getPendingPaymentRequests:function(){var bb=la.getURIBuilder().getURI();new h().setURI(bb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(cb){var db=cb.getPayload(),eb=!db.error?db:[];j.paymentRequestsFetched(eb);}).send();}};f.exports=ab;},null);
__d('P2PNUXRendererUtils',['CurrentUser','ImmutableObject','MercuryAttachmentType','P2PTransferParam','P2PTransferStatus','MercurySupportedShareType','StoryAttachmentStyle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={getTransferFromMessage:function(p){var q,r;if(!p||!p.attachments||!p.attachments.length)return;r=p.attachments[0];if(this.isShareAttachment(r)){q=r.share.target;}else if(r.share_data_type===m.FB_ORION)q=r.metadata;if(q)q=new i(q);return q;},isShareAttachment:function(p){return !!(typeof p!=='string'&&p.attach_type==j.SHARE&&p.share&&p.share.style_list&&p.share.style_list.indexOf(n.ORION)>=0);},doesNUXNeedCreditCards:function(p){var q=h.getID()===p.sender.id;return (!q&&p[k.STATUS]===l.PENDING_RECIPIENT_NUX);},isRecipientActionableStatus:function(p){var q=p[k.STATUS],r=h.getID()===p.sender.id;return (!r&&(q===l.PENDING_RECIPIENT_NUX||q===l.PENDING_RECIPIENT_VERIFICATION||q===l.PENDING_PUSH_FAIL));}};f.exports=o;},null);
__d('P2PUser',['immutable'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;'use strict';i=babelHelpers.inherits(k,h.Record({id:'',name:'',full_name:'',profile_uri:''}));j=i&&i.prototype;function k(){i.apply(this,arguments);}f.exports=k;},null);
__d('P2PPaymentRequest',['P2PPaymentRequestStatus','P2PUser','immutable'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';var m=Math.round(Date.now()/1000);k=babelHelpers.inherits(n,j.Record({amount:'',amountWithSymbol:'',creationTime:m,currency:'',currentStatus:h.INITED,groupThreadFBID:'',id:'',memoText:'',requestee:{},requester:{},transferID:'',updatedTime:m}));l=k&&k.prototype;function n(){k.apply(this,arguments);}f.exports=n;},null);
__d('P2PLogger',['BanzaiLogger'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='P2PPaymentLoggerConfig',j={log:function(k,l){l=babelHelpers._extends({event:k},l);h.log(i,l);}};f.exports=j;},null);
__d('P2PPaymentRequestsStore',['P2PActionConstants','Arbiter','ChannelConstants','CurrentUser','EventEmitter','ImmutableObject','P2PActions','P2PAPI','P2PChannelType','P2PDispatcher','P2PPaymentRequest','P2PPaymentRequestStatus','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v=c('immutable').List,w=null,x=false,y=null,z=false,aa=null,ba=new v(),ca=false,da=false;t=babelHelpers.inherits(ea,l);u=t&&t.prototype;function ea(){u.constructor.call(this);i.subscribe(j.getArbiterType(p.PAYMENT_REQUEST_STATUS_CHANGED),this.handleChannelPaymentRequestStatusChanged.bind(this));q.register(this.onEventDispatched.bind(this));}ea.prototype.onEventDispatched=function(fa){var ga=fa.data,ha=fa.type;switch(ha){case h.PAYMENT_REQUEST_INITIATED:ca=true;aa=null;this.emit('change');break;case h.PAYMENT_REQUEST_INITIATED_COMPLETE:ca=false;this.emit('change');break;case h.PAYMENT_REQUEST_CREATED:this.handlePaymentRequestCreated(ga);this.emit('change');break;case h.PAYMENT_REQUEST_CREATED_ERROR:aa=new m(ga.error);this.emit('change');break;case h.PAYMENT_REQUEST_UPDATED:this.handlePaymentRequestUpdated(ga);this.emit('change');break;case h.PAYMENT_REQUEST_DECLINE_INITIATED:z=true;y=null;this.emit('change');break;case h.PAYMENT_REQUEST_DECLINED:z=false;y=null;this.handlePaymentRequestDeclined(ga);this.emit('change');break;case h.PAYMENT_REQUEST_DECLINE_ERROR:z=false;y=new m(ga.error);this.emit('change');break;case h.PAYMENT_REQUEST_CANCEL_INITIATED:x=true;w=null;this.emit('change');break;case h.PAYMENT_REQUEST_CANCELED:x=false;w=null;this.handlePaymentRequestCanceled(ga);this.emit('change');break;case h.PAYMENT_REQUEST_CANCEL_ERROR:x=false;w=new m(ga.error);this.emit('change');break;case h.DIALOG_CLOSED:y=null;this.emit('change');break;case h.PAYMENT_REQUESTS_FETCHED:this.handlePaymentRequestsFetched(ga);this.emit('change');break;}};ea.prototype.handlePaymentRequestCreated=function(fa){var ga=ba.toArray();ga.push(new r(fa));ga.sort(function(ha,ia){return ha.creationTime-ia.creationTime;});ba=new v(ga);};ea.prototype.handlePaymentRequestUpdated=function(fa){this.updateRequest(fa.id,fa);};ea.prototype.handlePaymentRequestDeclined=function(fa){this.updateRequest(fa,{currentStatus:s.DECLINED});};ea.prototype.handlePaymentRequestCanceled=function(fa){this.updateRequest(fa,{currentStatus:s.CANCELED});};ea.prototype.handleChannelPaymentRequestStatusChanged=function(fa,ga){var ha=ga.obj;n.paymentRequestUpdated({id:ha.id,currentStatus:ha.current_status});};ea.prototype.handlePaymentRequestsFetched=function(fa){this.$P2PPaymentRequestsStore1(fa);};ea.prototype.$P2PPaymentRequestsStore1=function(fa){fa=fa.sort(function(ha,ia){return ha.creationTime-ia.creationTime;});fa.forEach((function(ha,ia){if(!this.getPaymentRequestByID(ha.id))ba=ba.push(new r(ha));}).bind(this));var ga=ba.toArray();ga.sort(function(ha,ia){return ha.creationTime-ia.creationTime;});ba=new v(ga);};ea.prototype.isPaymentRequestInitiated=function(){return ca;};ea.prototype.isPaymentRequestDeclining=function(){return z;};ea.prototype.isPaymentRequestCanceling=function(){return x;};ea.prototype.getPaymentRequestByID=function(fa){return ba.find(function(ga){return fa===ga.id;});};ea.prototype.getPaymentRequestError=function(){return aa;};ea.prototype.getPaymentRequestDeclineError=function(){return y;};ea.prototype.getPaymentRequestCancelError=function(){return w;};ea.prototype.getPendingPaymentRequest=function(){if(!da){da=true;o.getPendingPaymentRequests();}return ba.filter(function(fa){return (fa.requestee.id===k.getID()&&fa.currentStatus===s.INITED);}).last();};ea.prototype.updateRequest=function(fa,ga){ba.forEach(function(ha,ia){if(fa===ha.id)ba=ba.set(ia,ha.merge(ha,ga));});};ea.prototype.getPaymentRequests=function(){return ba;};f.exports=new ea();},null);
__d('P2PSimpleDialog.react',['FBPaymentsErrorNotice.react','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLoadingMask.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=o.PropTypes,r=o.createClass({displayName:'P2PSimpleDialog',propTypes:{bodyText:q.string.isRequired,cancelButtonText:q.string,confirmButtonText:q.string,error:q.object,loading:q.bool,onCancel:q.func.isRequired,onConfirm:q.func.isRequired,title:q.string.isRequired,width:q.number},getDefaultProps:function(){return {cancelButtonText:p._("Cancel"),confirmButtonText:p._("Confirm"),width:300};},handleToggle:function(s){if(!s)this.props.onCancel();},render:function(){var s;if(this.props.error)s=o.createElement(h,{error:this.props.error});return (o.createElement(j,{layerHideOnBlur:false,onToggle:this.handleToggle,repositionOnUpdate:true,shown:true,width:this.props.width},o.createElement(m,null,this.props.title),o.createElement(k,null,s,this.props.bodyText,o.createElement(n,{visible:this.props.loading})),o.createElement(l,null,o.createElement(i,{disabled:this.props.loading,label:this.props.cancelButtonText,onClick:this.props.onCancel,size:'medium'}),o.createElement(i,{disabled:this.props.loading,label:this.props.confirmButtonText,onClick:this.props.onConfirm,size:'medium',use:'confirm'}))));}});f.exports=r;},null);
__d('P2PPaymentRequestCancelDialogContainer.react',['P2PActions','P2PAPI','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPaymentRequest','P2PPaymentRequestsStore','P2PSimpleDialog.react','React','StoreAndPropBasedStateMixin','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'P2PPaymentRequestCancelDialogContainer',mixins:[q(n)],propTypes:{paymentRequest:s.instanceOf(m).isRequired},statics:{calculateState:function(u){return {error:n.getPaymentRequestCancelError(),loading:n.isPaymentRequestCanceling()};}},log:function(u,v){j.log(u,{www_event_flow:l.UI_FLOW_P2P_REQUEST,request_id:this.props.paymentRequest.id});},componentDidMount:function(){this.log(k.UI_ACTN_INITIATE_CANCEL_REQUEST);},handleCancel:function(){h.hideDialog();},handleConfirm:function(){i.cancelPaymentRequest({error:(function(){this.log(k.UI_ACTN_CANCEL_REQUEST_FAIL);}).bind(this),paymentRequestID:this.props.paymentRequest.id,success:(function(){this.log(k.UI_ACTN_CANCEL_REQUEST_SUCCESS);}).bind(this)});this.log(k.UI_ACTN_CONFIRM_CANCEL_REQUEST);},renderBodyText:function(){var u=this.props.paymentRequest.requestee.name;return r._("{Name of requestee} will be notified that the request was canceled.",[r.param('Name of requestee',u)]);},render:function(){return (p.createElement(o,{bodyText:this.renderBodyText(),error:this.state.error,loading:this.state.loading,cancelButtonText:r._("Back"),confirmButtonText:r._("Cancel"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,title:r._("Cancel Request?")}));}});f.exports=t;},null);
__d('P2PPaymentRequestDeclineDialogContainer.react',['P2PActions','P2PAPI','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPaymentRequest','P2PPaymentRequestsStore','P2PSimpleDialog.react','React','StoreAndPropBasedStateMixin','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'P2PPaymentRequestDeclineDialogContainer',mixins:[q(n)],propTypes:{paymentRequest:s.instanceOf(m).isRequired},statics:{calculateState:function(u){return {error:n.getPaymentRequestDeclineError(),loading:n.isPaymentRequestDeclining()};}},log:function(u,v){j.log(u,{www_event_flow:l.UI_FLOW_P2P_REQUEST,request_id:this.props.paymentRequest.id});},componentDidMount:function(){this.log(k.UI_ACTN_INITIATE_DECLINE_REQUEST);},handleCancel:function(){h.hideDialog();},handleConfirm:function(){i.declinePaymentRequest({error:(function(){this.log(k.UI_ACTN_DECLINE_REQUEST_FAIL);}).bind(this),paymentRequestID:this.props.paymentRequest.id,success:(function(){this.log(k.UI_ACTN_DECLINE_REQUEST_SUCCESS);}).bind(this)});this.log(k.UI_ACTN_CONFIRM_DECLINE_REQUEST);},renderBodyText:function(){var u=this.props.paymentRequest.requester.name;return r._("{Name of requester} will be notified that the request was declined.",[r.param('Name of requester',u)]);},render:function(){return (p.createElement(o,{bodyText:this.renderBodyText(),error:this.state.error,loading:this.state.loading,cancelButtonText:r._("Back"),confirmButtonText:r._("Decline"),onCancel:this.handleCancel,onConfirm:this.handleConfirm,title:r._("Decline Request?")}));}});f.exports=t;},null);
__d('P2PPaymentRequestActionHelper',['MercuryIDs','P2PActions','P2PPaymentRequest','P2PPaymentRequestCancelDialogContainer.react','P2PPaymentRequestStatus','P2PPaymentRequestDeclineDialogContainer.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={initDeclinePaymentRequestFlow:function(p){i.showDialog(m,{paymentRequest:p});},initPayForPaymentRequestFlow:function(p,q){i.chatSendViewOpened({amount:p.amount,memoText:p.memoText,paymentRequestID:p.id,threadID:h.getThreadIDFromUserID(p.requester.id),useModal:true,referrer:q});},initCancelPaymentRequestFlow:function(p){i.showDialog(k,{paymentRequest:p});},getStatusText:function(p){var q=p.currentStatus,r=n._("Canceled"),s=n._("Paid"),t=n._("Declined"),u=n._("Unpaid"),v;switch(q){case l.DECLINED:v=t;break;case l.CANCELED:case l.TRANSFER_FAILED:v=r;break;case l.TRANSFER_COMPLETED:v=s;break;default:v=u;break;}return v;}};f.exports=o;},null);
__d('P2PProductItemDetails.react',['BackgroundImage.react','Image.react','LineClamp.react','Link.react','P2PText.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'P2PProductItemDetails',propTypes:{description:o.string,merchantLogo:o.string,metadata:o.string,name:o.string,image:o.string,refURL:o.string,size:o.oneOf(['small','medium'])},getDefaultProps:function(){return {size:'medium'};},render:function(){var q=this.props,r,s,t=q.metadata,u=q.size,v;if(q.image)r=m.createElement('div',{className:"_4rys"},m.createElement(k,{href:q.refURL,target:'_blank'},m.createElement(h,{backgroundSize:'cover',height:72,src:q.image,width:72})));if(q.merchantLogo)v=m.createElement('div',{className:"_3-94"},m.createElement(i,{height:25,src:q.merchantLogo}));if(q.description)s=m.createElement(l,{className:"_4ryt",shade:'light',size:'small',type:'secondary'},m.createElement(j,{lines:2},q.description));if(q.metadata)t=m.createElement(l,{className:"_291r",shade:'light',size:'small',type:'secondary'},q.metadata);return (m.createElement('div',{className:"_1pn3"},v,m.createElement('div',{className:"_4ryu"},r,m.createElement('div',{className:"_4ryv"},m.createElement(l,{shade:'dark',size:u,type:'primary',weight:'bold'},m.createElement('span',{className:"_4ryw"},q.name)),s,t))));}});f.exports=p;},null);
__d('P2PCreditCard',['CreditCardFormParam','CreditCardTypeEnum','PaymentMethodUtils','P2PPaymentMethodCategory','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={visa:{image:m('/images/payments/icons/visa.png'),imageLarge:m('/images/payments/icons/visa-lg.png'),name:'Visa'},mc:{image:m('/images/payments/icons/mc.png'),imageLarge:m('/images/payments/icons/mc-lg.png'),name:'MasterCard'},disc:{image:m('/images/payments/icons/disc.png'),imageLarge:m('/images/payments/icons/disc-lg.png'),name:'Discover'},jcb:{image:m('/images/payments/icons/jcb.png'),imageLarge:m('/images/payments/icons/jcb-lg.png'),name:'JCB'},amex:{image:m('/images/payments/icons/amex.png'),imageLarge:m('/images/payments/icons/amex-lg.png'),name:'American Express'},unknown:{image:m('/images/brands/credit_card/credit_32.png'),imageLarge:m('/images/brands/credit_card/credit_32.png'),name:l._("Unknown Card Type")}};function o(p){this.setCredentialId(p[h.CREDENTIAL_ID]);this.setCardType(p[h.CARD_TYPE]);this.setCreditCardNumber(p[h.CARD_NUMBER]);this.setSelected(p.selected);this.setZipCode(p[h.ZIP]);this.setCSC(p[h.CSC]);this.setExp(p[h.CARD_EXPIRATION]);this.setIsPreset(p.isPreset);this.setIsVerified(p.isVerified);this.setIsMobileVerified(p.isMobileVerified);this.setIsPersonalTransferEligible(p.isPersonalTransferEligible);this.setCategory(p.category);}o.prototype.getCreditCardNumber=function(){return this[h.CARD_NUMBER];};o.prototype.setCreditCardNumber=function(p){p=p.replace(/ /g,'');this.setCardProviderProps(this[h.CARD_TYPE],p);p=p.substr(p.length-4);this[h.CARD_NUMBER]=p;};o.prototype.setCardProviderProps=function(p,q){var r=this.$P2PCreditCard1(p,q);if(n[r]){this.setImage(n[r].image);this.setImageLarge(n[r].imageLarge);this.setName(n[r].name);}};o.prototype.getExp=function(){return this[h.CARD_EXPIRATION];};o.prototype.getExpFormatted=function(){var p=this[h.CARD_EXPIRATION];return p?p[h.MONTH]+'/'+p[h.YEAR]:'';};o.prototype.getExpFormattedShort=function(){var p=this[h.CARD_EXPIRATION],q='';if(p&&p[h.MONTH]&&p[h.YEAR]){q=p[h.MONTH]+'/';if(p[h.YEAR].length===4){q+=p[h.YEAR].substr(2);}else q+=p[h.YEAR];}return q;};o.prototype.setExp=function(p){if(!p)return;var q,r,s={};s[h.MONTH]=p[h.MONTH];s[h.YEAR]=p[h.YEAR];if(s[h.MONTH]&&s[h.MONTH].length===1)s[h.MONTH]='0'+s[h.MONTH];if(s[h.YEAR]&&s[h.YEAR].length===2){q=new Date().getFullYear()+'';r=q.substr(0,2);s[h.YEAR]=r+s[h.YEAR];}this[h.CARD_EXPIRATION]=s;};o.prototype.getCSC=function(){return this[h.CSC];};o.prototype.setCSC=function(p){this[h.CSC]=p;};o.prototype.getZipCode=function(){return this[h.ZIP];};o.prototype.setZipCode=function(p){this[h.ZIP]=p;};o.prototype.getSelected=function(){return this.$P2PCreditCard2;};o.prototype.setSelected=function(p){this.$P2PCreditCard2=p;};o.prototype.getCardType=function(){return this[h.CARD_TYPE];};o.prototype.setCardType=function(p){this[h.CARD_TYPE]=p;this.setCardProviderProps(p,this[h.CARD_NUMBER]);};o.prototype.getCredentialId=function(){return this[h.CREDENTIAL_ID];};o.prototype.setCredentialId=function(p){this[h.CREDENTIAL_ID]=p;};o.prototype.$P2PCreditCard1=function(p,q){var r='default',s,t;if(p){s=Object.keys(i).filter(function(u){return i[u]===p;})[0];r=this.$P2PCreditCard3(s);}else if(q){t=j.getCardType(q);if(t)r=t.name;}return r;};o.prototype.getImage=function(){return this.$P2PCreditCard4||n.unknown.image;};o.prototype.setImage=function(p){this.$P2PCreditCard4=p;};o.prototype.getImageLarge=function(){return this.$P2PCreditCard5||n.unknown.imageLarge;};o.prototype.setImageLarge=function(p){this.$P2PCreditCard5=p;};o.prototype.getName=function(){return this.$P2PCreditCard6||n.unknown.name;};o.prototype.setName=function(p){this.$P2PCreditCard6=p;};o.prototype.getIsPreset=function(){return this.$P2PCreditCard7;};o.prototype.setIsPreset=function(p){this.$P2PCreditCard7=p||false;};o.prototype.$P2PCreditCard3=function(p){switch(p){case 'VISA':p='visa';break;case 'AMERICANEXPRESS':p='amex';break;case 'MASTERCARD':p='mc';break;case 'DISCOVER':p='disc';break;case 'JCB':p='jcb';break;default:p='unknown';break;}return p;};o.prototype.getCreditCardNumberFormatted=function(){return '*'+this[h.CARD_NUMBER];};o.prototype.getDetailsFormatted=function(){return (this.getName()+' '+this.getCreditCardNumberFormatted());};o.prototype.getCreditCardNumberMask=function(){return '**** **** **** '+this[h.CARD_NUMBER];};o.prototype.getMaxCSCLength=function(){var p=this.$P2PCreditCard1(this[h.CARD_TYPE],this[h.CARD_NUMBER]);return p==='amex'?4:3;};o.prototype.getIsVerified=function(){return this.$P2PCreditCard8||false;};o.prototype.setIsVerified=function(p){this.$P2PCreditCard8=p;};o.prototype.getIsMobileVerified=function(){return this.$P2PCreditCard9||false;};o.prototype.setIsMobileVerified=function(p){this.$P2PCreditCard9=p;};o.prototype.getIsPersonalTransferEligible=function(){return !!this.$P2PCreditCard10;};o.prototype.setIsPersonalTransferEligible=function(p){this.$P2PCreditCard10=p;};o.prototype.getCategory=function(){return this.$P2PCreditCard11;};o.prototype.setCategory=function(p){this.$P2PCreditCard11=p;};o.prototype.getCategoryName=function(){switch(this.$P2PCreditCard11){case k.DEBIT_CARD:return l._("Debit");case k.CREDIT_CARD:return l._("Credit");case k.PREPAID_CARD:return l._("Prepaid");default:return null;}};o.prototype.isExpired=function(){var p=this.getExp();if(!p)return false;var q=p.month,r=p.year,s=new Date(),t=s.getFullYear()+'',u=s.getMonth()+1+'';u=u.length===1?'0'+u:u;return r<t||t===r&&q<u;};f.exports=o;},null);
__d('P2PCreditCardDetails.react',['Image.react','P2PCreditCard','P2PText.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'P2PCreditCardDetails',propTypes:{creditCard:m.instanceOf(i).isRequired},render:function(){var o=this.props.creditCard;return (k.createElement('div',{className:"_1v3z"},k.createElement(h,{className:"_1v41",height:24,src:o.getImage(),width:36}),k.createElement('div',{className:"_1v42"},k.createElement(j,{className:"_1v43",display:'inline',type:'primary'},o.getName()+' '+o.getCategoryName()),k.createElement(j,{display:'inline',type:'primary'},o.getCreditCardNumberFormatted()))));}});f.exports=n;},null);
__d('P2PChooseCreditCardForm.react',['CurrentEnvironment','P2PCreditCard','P2PCreditCardDetails.react','P2PText.react','React','XUIRadioList.react','cx','emptyFunction','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=m.Item,s=l.PropTypes,t='add_debit_card',u=h.messengerdotcom,v=l.createClass({displayName:'P2PChooseCreditCardForm',propTypes:{addCardOptionText:s.string,creditCards:s.arrayOf(s.instanceOf(i)),selectedCard:s.instanceOf(i).isRequired},getDefaultProps:function(){return {addCardOptionText:p._("New Debit Card"),creditCards:[],selectedCard:null,onChange:o,onAddDebitCardOptionSelected:o,showAddDebitCardOption:false};},getInitialState:function(){return {selectedValue:this.props.selectedCard.getCredentialId()};},getSelectedCard:function(){return this.props.creditCards.filter((function(w){return w.getCredentialId()===this.state.selectedValue;}).bind(this))[0];},onChange:function(w){var x;if(w===t){this.props.onAddDebitCardOptionSelected();this.setState({selectedValue:w});}else{x=this.props.creditCards.filter(function(y){return y.getCredentialId()===w;})[0];this.setState({selectedValue:x.getCredentialId()});this.props.onChange(x);}},renderCardItem:function(w,x){return (l.createElement(r,{className:"_2x6n",key:'item-'+x,value:w.getCredentialId()},l.createElement(j,{creditCard:w})));},renderAddDebitCardRadioItem:function(){return (l.createElement(r,{className:"_2x6n _1gri",key:'item-'+this.props.creditCards.length,value:t},l.createElement(k,{className:"_2jpa",type:'primary'},this.props.addCardOptionText)));},getRadioListItems:function(){var w=this.props.creditCards,x=w.map(this.renderCardItem);if(this.props.showAddDebitCardOption)x.push(this.renderAddDebitCardRadioItem());return x;},render:function(){return (l.createElement(m,{selectedValue:this.state.selectedValue,className:q(this.props.className,"_2x6r"+(u?' '+"_2jpb":'')),onValueChange:this.onChange},this.getRadioListItems()));}});f.exports=v;},null);
__d('P2PMoneypennyProductItemDetails.react',['MNCommerceAgenItemSuggestionReactShape','P2PProductItemDetails.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j.PropTypes,l=j.createClass({displayName:'P2PMoneypennyProductItemDetails',propTypes:{item:h.isRequired,size:k.oneOf(['small','medium'])},getDefaultProps:function(){return {size:'small'};},render:function(){var m=this.props.item;return (j.createElement(i,{description:m.desc,metadata:m.merchant_name,name:m.name,image:m.thumb_url,refURL:m.target_url,size:this.props.size}));}});f.exports=l;},null);
__d('P2PAcceptMoneyDialog.react',['BootloadedComponent.react','Bootloader','CurrentEnvironment','P2PDialog.react','P2PLoadingMask.react','JSResource','React','Run','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=j.messengerdotcom,s=n.createClass({displayName:'P2PAcceptMoneyDialog',propTypes:{creditCards:q.array.isRequired,useRedesignForm:q.bool,onClose:q.func,transfer:q.object},statics:{preload:function(){o.onAfterLoad(function(){i.loadModules(["P2PAcceptMoneyDialogImpl.react"],function(){});});}},render:function(){return (n.createElement(h,babelHelpers._extends({bootloadLoader:m('P2PAcceptMoneyDialogImpl.react'),bootloadPlaceholder:this._renderPlaceholder()},this.props)));},_renderPlaceholder:function(){return (n.createElement(k,{className:"_309"+(r?' '+"_5ktw":''),layerHideOnBlur:false,repositionOnUpdate:true,shown:true,width:r?350:300},n.createElement('div',{className:"_3w2b"},n.createElement(l,{visible:true}))));}});f.exports=s;},null);
__d('P2PVerifyCreditCardDialog.react',['CreditCardFormParam','CurrentEnvironment','P2PAPI','P2PAPIUtils','P2PCreditCard','FBPaymentsErrorNotice.react','P2PLoadingMask.react','React','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','FBPaymentsCreditCardCVCFormField.react','FBPaymentsCreditCardZipCodeFormField.react','P2PDialogTitle.react','P2PText.react','cx','emptyFunction','fbt','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba=o.PropTypes,ca=o.createClass({displayName:'P2PVerifyCreditCardDialog',propTypes:{asyncRequestState:ba.object,creditCard:ba.instanceOf(l),onCancel:ba.func,onConfirm:ba.func,isPurchasing:ba.bool,isSending:ba.bool,purchaseName:ba.string,saveButtonText:ba.string,showCancelButton:ba.bool},getDefaultProps:function(){return {asyncRequestState:{},creditCard:null,isPurchasing:false,isSending:true,onCancel:y,onError:y,onSuccess:y,purchaseName:'',saveButtonText:z._("Confirm"),showCancelButton:true,width:i.messengerdotcom?320:300};},getInitialState:function(){var da={};da[h.CSC]={};da[h.CSC].valid=false;if(this.shouldShowZIPInput()){da[h.ZIP]={};da[h.ZIP].valid=false;}return {isValid:false,loading:false,requestID:'',saveError:null,fields:da};},componentWillReceiveProps:function(da){var ea=da.asyncRequestState?da.asyncRequestState[this.state.requestID]:null;if(ea){this.setState({requestID:''});if(ea.error){this.handleOnSaveError(ea.error);}else this.handleOnSaveSuccess(ea);}},handleOnSaveSuccess:function(da){this.props.onSuccess(da);},handleOnSaveError:function(da){this.setState({loading:false,saveError:da});},clearSaveError:function(){this.setState({saveError:null});},handleCancelClick:function(){this.props.onCancel();},handleConfirmClick:function(){var da={},ea=k.genRequestID();da[h.CREDENTIAL_ID]=this.props.creditCard.getCredentialId();da[h.CSC]=this.state.fields[h.CSC].value;if(this.state.fields[h.ZIP])da[h.ZIP]=this.state.fields[h.ZIP].value;this.clearSaveError();this.setState({loading:true,requestID:ea});j.verifyCreditCard(babelHelpers._extends({requestID:ea},da));},handleFormValueChange:function(da,ea,fa){var ga=this.state.fields;ga[da].value=ea;ga[da].valid=fa;this.setState({fields:ga});this.validateForm();},validateForm:function(){var da=true,ea=this.state.fields;da=!aa(ea).some(function(fa){return !fa.valid;});this.setState({isValid:da});},handleToggle:function(da){if(!da)this.props.onCancel();},shouldShowZIPInput:function(){var da=!!this.props.creditCard.getZipCode();return !da;},renderError:function(){var da;if(this.state.saveError)da=o.createElement(m,{error:this.state.saveError});return da;},renderCVCFormField:function(){return (o.createElement(t,{cscMaxLength:this.props.creditCard.getMaxCSCLength(),initiallyFocused:true,onChange:this.handleFormValueChange,name:'csc',showIcon:false,showPlaceholder:false,showFocusOutline:false}));},renderZIPFormField:function(){return (o.createElement(u,{onChange:this.handleFormValueChange,name:'zip',showIcon:false,showPlaceholder:false,showFocusOutline:false}));},getMessage:function(){var da=this.props.creditCard.getName(),ea=this.props.creditCard.getCreditCardNumber();if(this.props.isPurchasing){if(this.shouldShowZIPInput()){return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} and Billing ZIP Code to get {Purchase item}.",[z.param('credit card issuer',da),z.param('credit card number last 4 digits',ea),z.param('Purchase item',this.props.purchaseName)])));}else return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} to get {Purchase item}.",[z.param('credit card issuer',da),z.param('credit card number last 4 digits',ea),z.param('Purchase item',this.props.purchaseName)])));}else if(this.props.isSending){if(this.shouldShowZIPInput()){return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} and Billing ZIP Code to send this payment.",[z.param('credit card issuer',da),z.param('credit card number last 4 digits',ea)])));}else return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} to send this payment.",[z.param('credit card issuer',da),z.param('credit card number last 4 digits',ea)])));}else if(this.shouldShowZIPInput()){return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} and Billing ZIP Code to accept this payment.",[z.param('credit card issuer',da),z.param('credit card number last 4 digits',ea)])));}else return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} to accept this payment.",[z.param('credit card issuer',da),z.param('credit card number last 4 digits',ea)])));},getInputs:function(){var da,ea=o.createElement('div',{className:"_3yfa"},o.createElement(w,{className:"_197h",type:'primary'},z._("Security Code")),o.createElement('div',{className:"_197i"},this.renderCVCFormField()));if(this.shouldShowZIPInput())da=o.createElement('div',{className:"_3yfb"},o.createElement(w,{className:"_197h",type:'primary'},z._("Billing ZIP Code")),o.createElement('div',{className:"_197i"},this.renderZIPFormField()));return (o.createElement('div',null,ea,da));},render:function(){var da;if(this.props.showCancelButton)da=o.createElement(p,{use:'default',size:'medium',label:z._("Cancel"),disabled:this.state.loading,onClick:this.props.onCancel});return (o.createElement(q,{behaviors:this.props.behaviors,className:i.messengerdotcom?"_4ypw":'',layerHideOnBlur:false,onToggle:this.handleToggle,ref:'dialog',repositionOnUpdate:true,shown:true,width:this.props.width},o.createElement(v,null,z._("Enter Security Code")),o.createElement(r,null,o.createElement('div',{className:"_197f"},this.getMessage()),this.renderError(),o.createElement('div',{className:"_197g"},this.getInputs())),o.createElement(s,null,da,o.createElement(p,{label:this.props.saveButtonText,onClick:this.handleConfirmClick,disabled:!this.state.isValid||this.state.loading,use:'confirm'})),o.createElement(n,{visible:this.state.loading})));}});f.exports=ca;},null);
__d('P2PVerificationFlowHelper',['AsyncDialog','AsyncRequest','P2PAPI','P2PTransferParam','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=null,n=null,o=null,p={startVerificationFlow:function(q,r,s){m=q;n=r;o=s||l;h.send(new i('/p2p/verify/dialog/?id='+q));},setupFlowExitHandler:function(q,r,s,t){var u=function(x){o(x);m=null;n=null;o=null;q.destroy();r.destroy();};if(s){q.subscribe('hide',function(){u(t);});}else{var v=false,w=false;q.subscribe('confirm',function(){v=true;});q.subscribe('hide',function(){if(v){q.destroy();r.destroy();}else if(n){r.show();}else u(false);});r.subscribe('confirm',function(){w=true;var x={};x[k.TRANSFER_ID]=m;j.cancelTransaction({formData:x});u(false);});r.subscribe('hide',function(){if(!w)q.show();});}}};f.exports=p;},null);
__d('P2PCreditCardStore',['P2PActionConstants','Arbiter','CreditCardFormParam','ChannelConstants','EventEmitter','ImmutableObject','MessengerPaymentProductType','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v,w,x,y,z,aa,ba=null,ca=false;function da(ga,ha){if(ga)aa[ga]=new m(ha);}function ea(ga,ha){ba=ha;if(ga)aa[ga]={error:ha};}t=babelHelpers.inherits(fa,l);u=t&&t.prototype;function fa(){u.constructor.call(this);x=false;y=false;v=[];z=true;aa={};w=s.register(this.onEventDispatched.bind(this));i.subscribe(k.getArbiterType(q.CREDIT_CARD_CHANGED),this.handleChannelCreditCardChanged.bind(this));i.subscribe(k.getArbiterType(q.CREDIT_CARD_DELETED),this.handleChannelCreditCardDeleted.bind(this));}fa.prototype.onEventDispatched=function(ga){var ha=ga.data,ia=ga.type;switch(ia){case h.CREDIT_CARD_SAVING:this.handleCreditCardSaving();this.emit('change');break;case h.CREDIT_CARDS_UPDATED:this.handleCreditCardsUpdated(ha);this.emit('change');break;case h.CHANNEL_EVENTS_ALLOWED:this.handleChannelEventsAllowed();break;case h.CHANNEL_EVENTS_IGNORED:this.handleChannelEventsIgnored();break;case h.CREDIT_CARD_ADDED:this.handleCreditCardAdded(ha);this.emit('change');break;case h.CREDIT_CARD_ADDED_ERROR:this.handleCreditCardAddedError(ha);this.emit('change');break;case h.CREDIT_CARD_ADDED_ERROR_CLEARED:this.handleCreditCardAddedErrorCleared();this.emit('change');break;case h.CREDIT_CARD_DELETED:this.handleCreditCardDeleted(ha);this.emit('change');break;case h.CREDIT_CARD_DELETED_ERROR:this.handleCreditCardDeletedError(ha);this.emit('change');break;case h.CREDIT_CARD_UPDATED:this.handleCreditCardUpdated(ha);this.emit('change');break;case h.CREDIT_CARD_UPDATED_ERROR:this.handleCreditCardUpdatedError(ha);this.emit('change');break;case h.PRESET_CREDIT_CARD_UPDATED:this.handlePresetCreditCardUpdated(ha);this.emit('change');break;case h.PRESET_CREDIT_CARD_UPDATED_ERROR:this.handlePresetCreditCardUpdatedError(ha);this.emit('change');break;case h.CREDIT_CARD_VERIFIED:this.handleCreditCardVerified(ha);this.emit('change');break;case h.CREDIT_CARD_VERIFIED_ERROR:this.handleCreditCardVerifiedError(ha);this.emit('change');break;case h.BIN_NUMBER_VALIDATED:this.handleBINNumberValidated(ha);this.emit('change');break;case h.BIN_NUMBER_VALIDATED_ERROR:this.handleBINNumberValidatedError(ha);this.emit('change');break;}};fa.prototype.handleCreditCardSaving=function(){ca=true;ba=null;};fa.prototype.getAsyncRequestState=function(){return aa;};fa.prototype.isCreditCardsFetchComplete=function(){return x;};fa.prototype.handleCreditCardsUpdated=function(ga){x=true;v=ga.map(function(ha){return new r(ha);});};fa.prototype.handleCreditCardAdded=function(ga){ca=false;da(ga.requestID,ga);if(!this.getCreditCardByCredentialID(ga[j.CREDENTIAL_ID]))v.push(new r(ga));};fa.prototype.handleChannelEventsIgnored=function(){z=false;};fa.prototype.handleChannelEventsAllowed=function(){z=true;};fa.prototype.handleChannelCreditCardChanged=function(ga,ha){if(z&&!this.getCreditCardByCredentialID(ha[j.CREDENTIAL_ID]))p.getAllCreditCards();};fa.prototype.handleCreditCardAddedError=function(ga){ca=false;ea(ga.requestID,ga.errors);};fa.prototype.handleCreditCardAddedErrorCleared=function(){ba=null;};fa.prototype.handleCreditCardDeleted=function(ga){var ha=ga[j.CREDENTIAL_ID];da(ga.requestID,ga);v=v.filter(function(ia){return ia.getCredentialId()!==ha;});};fa.prototype.handleChannelCreditCardDeleted=function(ga,ha){ha=ha.obj;o.deleteCreditCard(ha);};fa.prototype.handleCreditCardDeletedError=function(ga){ea(ga.requestID,ga.error);};fa.prototype.handleCreditCardUpdated=function(ga){da(ga.requestID,ga);var ha=this.getCreditCardByCredentialID(ga[j.CREDENTIAL_ID]);if(ha){ha.setExp(ga[j.CARD_EXPIRATION]);ha.setZipCode(ga[j.ZIP]);}};fa.prototype.handleCreditCardUpdatedError=function(ga){ea(ga.requestID,ga.errors);};fa.prototype.handlePresetCreditCardUpdated=function(ga){var ha=ga[j.CREDENTIAL_ID];da(ga.requestID,ga);var ia=v.filter(function(ka){return ka.getIsPreset();})[0];if(ia)ia.setIsPreset(false);var ja=this.getCreditCardByCredentialID(ha);if(ja)ja.setIsPreset(true);};fa.prototype.handlePresetCreditCardUpdatedError=function(ga){ea(ga.requestID,ga.error);};fa.prototype.handleCreditCardVerified=function(ga){da(ga.requestID,ga);var ha=this.getCreditCardByCredentialID(ga[j.CREDENTIAL_ID]);if(ha)ha.setIsVerified(true);};fa.prototype.handleCreditCardVerifiedError=function(ga){ea(ga.requestID,ga.error);};fa.prototype.handleBINNumberValidated=function(ga){da(ga.requestID,ga);};fa.prototype.handleBINNumberValidatedError=function(ga){ea(ga.requestID,ga.error);};fa.prototype.getAll=function(ga){ga=ga===undefined?n.P2P:ga;if(!y){y=true;p.getAllCreditCards();}return v.filter(function(ha){if(ga===n.P2P)return ha.getIsPersonalTransferEligible();return ha;});};fa.prototype.getCreditCardByCredentialID=function(ga){return v.filter(function(ha){return ha.getCredentialId()===ga;})[0];};fa.prototype.getDispatchToken=function(){return w;};fa.prototype.getSaveErrors=function(){return ba;};fa.prototype.isSaving=function(){return ca;};f.exports=new fa();},null);
__d('P2PTransferStore',['Arbiter','P2PActionConstants','ChannelConstants','CurrentUser','CreditCardFormParam','EventEmitter','ImmutableObject','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher','P2PNUXRendererUtils','P2PTransferParam','P2PTransferStatus','Set','MercuryThreadInformer'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x,y;'use strict';var z=c('MercuryThreadInformer').get(),aa,ba,ca,da,ea,fa,ga,ha,ia=false,ja=false,ka=new w();function la(oa,pa){if(oa)ha[oa]=new n(pa);}function ma(oa,pa){if(oa)ha[oa]={error:pa};}x=babelHelpers.inherits(na,m);y=x&&x.prototype;function na(){y.constructor.call(this);aa=false;ca=[];ha={};ea=h.subscribe(j.getArbiterType(q.TRANSFER_STATUS_CHANGED),this.handleChannelTransferStatusChanged.bind(this));fa=z.subscribe('messages-received',this.handleMessageReceived.bind(this));da=s.register(this.onEventDispatched.bind(this));}na.prototype.onEventDispatched=function(oa){var pa=oa.data,qa=oa.type;switch(qa){case i.TRANSFERS_UPDATED:this.handleTransfersUpdated(pa);this.emit('change');break;case i.TRANSFERS_UPDATED_ERROR:this.handleTransfersUpdatedError(pa);this.emit('change');break;case i.NUX_TRANSFERS_UPDATED:this.handleNUXTransfersUpdated(pa);this.emit('change');break;case i.TRANSFER_ADDED:this.handleTransferAdded(pa);this.emit('change');break;case i.TRANSFER_UPDATED:this.handleTransferUpdated(pa);this.emit('change');break;case i.TRANSFER_ACCEPTED:this.handleTransferAccepted();this.emit('change');break;case i.TRANSFER_DECLINED:this.handleTransferDeclined(pa);this.emit('change');break;case i.EXTENSIVE_TRANSFER_DETAILS_UPDATED:this.handleTransferWithExtensiveDetails(pa);this.emit('change');break;}};na.prototype.getAsyncRequestState=function(){return ha;};na.prototype.handleTransfersUpdated=function(oa){ga=null;ia=true;var pa=[],qa=oa.map((function(sa){var ta={},ua=this.getTransferByID(sa[u.TRANSFER_ID]),va={};if(sa.creditCard){ta[l.CREDENTIAL_ID]=sa.creditCard[l.CREDENTIAL_ID];ta[l.CARD_NUMBER]=sa.creditCard[l.CARD_NUMBER];ta[l.CARD_TYPE]=sa.creditCard[l.CARD_TYPE];sa.creditCard=new r(ta);}if(ua)for(var wa in ua)va[wa]=sa[wa]!==null?sa[wa]:ua[wa];pa.push(sa[u.TRANSFER_ID]);return new n(sa,va);}).bind(this)),ra=ca.filter(function(sa){return pa.indexOf(sa[u.TRANSFER_ID])===-1;});ca=qa.concat(ra);ca=ca.sort(function(sa,ta){return ta.creationTime-sa.creationTime;});};na.prototype.handleTransfersUpdatedError=function(oa){ga=oa.error;ma(oa.requestID,oa.error);};na.prototype.handleNUXTransfersUpdated=function(oa){if(!ia)this.handleTransfersUpdated(oa);};na.prototype.handleTransferAdded=function(oa){var pa=null;la(oa.requestID,oa);pa=ca.filter(function(qa){return (qa[u.TRANSFER_ID]===oa[u.TRANSFER_ID]);})[0];if(pa)return;ca.push(new n(oa));ca=ca.sort(function(qa,ra){return ra.creationTime-qa.creationTime;});};na.prototype.handleTransferAddedError=function(oa){ma(oa.requestID,oa.errors);};na.prototype.handleChannelTransferStatusChanged=function(oa,pa){pa=pa.obj;o.transferUpdated(pa);};na.prototype.handleMessageReceived=function(oa,pa){for(var qa in pa)if(pa.hasOwnProperty(qa)){var ra=pa[qa];for(var sa=0;sa<ra.length;sa++)if(ra[sa].attachments&&ra[sa].attachments.length){var ta=t.getTransferFromMessage(ra[sa]);if(ta){if(!this.hasReceived()&&ta.receiver.id===k.getID())p.getBannerStates();o.transferAdded(ta);return;}}}};na.prototype.handleTransferUpdated=function(oa){for(var pa=0,qa=ca.length;pa<qa;pa++)if(ca[pa][u.TRANSFER_ID]===oa[u.TRANSFER_ID])ca[pa]=n.set(ca[pa],oa);};na.prototype.handleTransferAccepted=function(){var oa;for(var pa=0,qa=ca.length;pa<qa;pa++)if(ca[pa][u.STATUS]===v.PENDING_RECIPIENT_NUX){oa={};oa[u.STATUS]=v.COMPLETED;ca[pa]=n.set(ca[pa],oa);}ja=true;};na.prototype.handleTransferDeclined=function(oa){var pa;for(var qa=0,ra=ca.length;qa<ra;qa++)if(ca[qa][u.TRANSFER_ID]===oa[u.TRANSFER_ID]&&ca[qa][u.STATUS]===v.PENDING_RECIPIENT_NUX){pa={};pa[u.STATUS]=v.CANCELED_DECLINED;ca[qa]=n.set(ca[qa],pa);break;}};na.prototype.handleTransferUpdatedError=function(oa){ma(oa.requestID,oa.errors);};na.prototype.getTransferByID=function(oa){return ca.filter(function(pa){return oa===pa[u.TRANSFER_ID];})[0];};na.prototype.getAll=function(oa){if(!aa){aa=true;p.getTransactions(oa);}return ca;};na.prototype.getNUXTransfer=function(){var oa=ca.filter(function(pa){return t.isRecipientActionableStatus(pa);})[0];if(!oa&&!ba&&!aa){ba=true;p.getNUXTransactions();}return oa;};na.prototype.hasTransfers=function(){return ca.length>0;};na.prototype.hasAccepted=function(){return ja;};na.prototype.hasReceivedFromSender=function(oa){for(var pa=0,qa=ca.length;pa<qa;pa++)if(ca[pa].sender.id===oa)return true;return false;};na.prototype.hasReceived=function(){for(var oa=0,pa=ca.length;oa<pa;oa++)if(ca[oa].receiver.id===k.getID())return true;return false;};na.prototype.getTransferFetchError=function(){return ga;};na.prototype.getTransferWithExtensiveDetailsByID=function(oa){if(!ka.has(oa)){ka.add(oa);p.getExtensiveTransferDetailsByID(oa);}};na.prototype.handleTransferWithExtensiveDetails=function(oa){if(this.getTransferByID(oa.transfer_id)){this.handleTransferUpdated(oa);}else this.handleTransferAdded(oa);};na.prototype.getAllLocal=function(){return ca;};f.exports=new na();},null);