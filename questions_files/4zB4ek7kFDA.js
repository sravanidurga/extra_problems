/*!CK:2703076495!*//*1448853024,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["9JaLY"]); }

__d("XAdPreferencesCategoryInfoController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/category_info\/",{ad_id:{type:"Int"},entry_point:{type:"String"},category_fbid:{type:"Int",required:true}});},null);
__d('AdsPreferencesInterestListItem.react',['AdPreferencesDesktopStrings','AsyncRequest','Image.react','Layout.react','xuiglyph','React','ReactLayeredComponentMixin','XAdPreferencesCategoryInfoController','XUIContextualDialog.react','XUIContextualDialogTitle.react','XUIContextualDialogBody.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=k.Column,w=k.FillColumn,x=m.PropTypes,y=m.createClass({displayName:'AdsPreferencesInterestListItem',mixins:[n],propTypes:{adID:x.number,entrypoint:x.string,interest:x.object.isRequired,isListItem:x.bool.isRequired,onInterestClick:x.func.isRequired,removed:x.bool.isRequired,setDialog:x.func,setReportDialog:x.func},getInitialState:function(){return {xHover:false,iHover:false,interestHover:false,enterTimeout:-1,suggestions:{}};},_xHover:function(event){this.setState({xHover:!this.state.xHover});},_xOver:function(event){this.setState({xHover:true});},_iHover:function(event){this.setState({iHover:!this.state.iHover});},_interestHover:function(z){this.setState({interestHover:z});},_interestEnter:function(event,z,aa){if(aa){this._interestHover(true);}else{var ba=setTimeout(this._interestEnter.bind(this,true,true,true),250);this.setState({enterTimeout:ba});}},_interestLeave:function(event){this._interestHover(false);clearTimeout(this.state.enterTimeout);},_handleInterestClick:function(event){var z=this.refs['toggle_'+this.props.interest.id];this.props.onInterestClick(this.props.interest,this.props.removed,z);},_onInterestTextClick:function(event){if(this.state.suggestions>0&&this.props.setDialog){this.props.setDialog(this.props.interest,this.state.suggestions);}else{var z=o.getURIBuilder().setInt('ad_id',this.props.adID).setString('entry_point',this.props.entrypoint).setInt('category_fbid',this.props.interest.id).getURI();new i(z).setHandler((function(aa){var ba=aa.payload,ca=ba.suggestions,da=this.props.interest;if(!da.description)da.description=u._("This is a preference you added.");this.setState({suggestions:ca});if(this.props.setDialog)this.props.setDialog(da,ba.suggestions);}).bind(this)).send();}},_onReportPreferenceClick:function(event){if(this.props.setReportDialog)this.props.setReportDialog(this.props.interest);},render:function(){var z=this.state.iHover?"hidden_elem":'',aa=!this.state.iHover?"hidden_elem":'',ba=(this.state.interestHover&&this.props.isListItem?"_2imp":'')+(!this.state.interestHover&&this.props.isListItem?' '+"_2imq":'')+(this.props.removed?' '+"hidden_elem":''),ca=!this.props.isListItem?null:m.createElement('span',{className:ba,ref:this.props.interest.name,onMouseEnter:this._iHover,onMouseLeave:this._iHover},m.createElement(j,{className:z,src:l({name:'info-solid',shade:'light',size:'medium'})}),m.createElement(j,{className:aa,src:l({name:'info-solid',shade:'dark',size:'medium'})})),da=m.createElement('span',{className:ba,onMouseEnter:this._xHover,onMouseLeave:this._xHover,onMouseMove:this._xOver},m.createElement(j,{className:this.state.xHover?"hidden_elem":'',src:l({name:'cross',shade:'dark'})}),m.createElement(j,{className:!this.state.xHover?"hidden_elem":'',src:l({name:'cross',shade:'accent'})})),ea=m.createElement('div',{className:"_2imr"},m.createElement('a',{href:'#'},u._("Undo"))),fa=m.createElement(s,{className:this.props.removed?"_2ims":'','data-fbid':this.props.interest.id,size:'small',weight:'bold'},this.props.interest.name),ga=!this.props.isListItem||this.props.removed?fa:m.createElement('a',{onClick:this._onInterestTextClick},fa),ha="_2imt"+(!this.props.isListItem?' '+"_2imu":''),ia=m.createElement(w,null,m.createElement('a',{className:ba,onClick:this._onReportPreferenceClick},m.createElement(s,{size:'small',weight:'bold'},'[FB-Only] Report'))),ja=this.props.isListItem&&this.props.setReportDialog?ia:null,ka=null;if(this.props.interest.disambiguation_category)ka=m.createElement('span',{className:"_1env"},this.props.interest.disambiguation_category);return (m.createElement('li',{className:ha,onMouseEnter:this._interestEnter,onMouseLeave:this._interestLeave},m.createElement(k,null,m.createElement(w,null,ga,ka,m.createElement('span',{className:"_2imv"},ca)),ja,m.createElement(v,{className:'mlm'},m.createElement('div',{className:"_2imw",ref:'toggle_'+this.props.interest.id,onClick:this._handleInterestClick},!this.props.removed?da:ea)))));},renderLayers:function(){var z=this.props.interest.description?this.props.interest.description:u._("This is a preference you added.");return {contextualDialog:m.createElement(p,{contextRef:(function(){return this.refs[this.props.interest.name];}).bind(this),focusContextOnHide:false,position:'above',shown:this.state.iHover,width:p.WIDTH.NORMAL},m.createElement(q,null,h.about_this_ads_preference),m.createElement(r,null,z))};}});f.exports=y;},null);
__d("XAdPreferencesInterestsWriteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/edit_interests\/",{ad_id:{type:"Int"},entry_point:{type:"String"},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1},fbids:{type:"IntVector",required:true}});},null);
__d("XAdPreferencesNUXController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/nux\/",{type:{type:"String",required:true}});},null);
__d("XAdsPreferencesFeedbackController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/feeedback\/",{ad_id:{type:"Int"},favorite:{type:"Enum",required:true,enumType:1}});},null);
__d('AdsPrefs',['AdsPreferencesInterestListItem.react','AsyncRequest','BanzaiODS','CSS','DOM','Event','React','ReactDOM','XAdPreferencesInterestsWriteController','XAdPreferencesNUXController','XAdsPreferencesFeedbackController','csx','cx','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();function v(z,aa){k.toggleClass(z,"hidden_elem");var ba=k.hasClass(z,"hidden_elem")?'ad_useful':'ad_neutral',ca=r.getURIBuilder().setInt('ad_id',aa).setEnum('favorite',ba).getURI(),da=new i(ca);da.send();}function w(){var z=q.getURIBuilder().setString('type','interest_nux_ts').getURI();new i(z).send();}function x(z,aa,ba){var ca=aa?'add':'del',da=p.getURIBuilder().setInt('ad_id',z.adID).setEnum('action',ca).setEnum('type','interest').setIntVector('fbids',[z.id]).getURI();new i(da).send();o.render(n.createElement(h,{adID:z.adID,className:"_589n",interest:z,isListItem:false,removed:!aa,onInterestClick:x}),document.getElementById(z.rootID));if(z.dialog&&ba!=null){w();z.dialog.setContext(ba);z.dialog.show();}}var y={initRHCFeedback:function(z,aa,ba){u(m.listen(aa,'click',function(ca){v(ba,z);ca.kill();}));},createListElement:function(z,aa,ba,ca,da,ea){var fa={id:aa,name:ba,adID:z,rootID:ca,dialog:ea};o.render(n.createElement(h,{adID:z,className:"_589n",interest:fa,isListItem:false,removed:false,onInterestClick:x}),document.getElementById(ca));},initExpandable:function(z){u(m.listen(z,'click',function(aa){var ba=l.scry(z,"div._2fdq")[0],ca=l.scry(z,"._4r43")[0],da=l.scry(z,"._1uhj")[0];k.toggleClass(ca,'hidden_elem');k.toggleClass(da,'hidden_elem');k.toggleClass(ba,'hidden_elem');}));},toggleFavorite:function(z){var aa=l.find(z.getRoot(),'.img');v(aa,z.getLabel());},surveyClickable:function(z,aa,ba){z.forEach(function(ca){return (u(m.listen(ca,'click',function(da){k.hide(aa);k.show(ba);})));});},updateHideAllDialogMessage:function(z,aa,ba){u(m.listen(z,'click',function(ca){k.hide(z);k.show(aa);new i().setURI(ba).send();ca.kill();}));},registerView:function(z){var aa=q.getURIBuilder().setString('type',z).getURI();new i(aa).send();},logSurveyClick:function(z){u(m.listen(z,'click',function(aa){j.bumpEntityKey('ads_www','ad_prefs_new_user_ad_about_survey_click');}));}};f.exports=y;},null);
__d('PixelNumConverter',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={pixelValue:function(i){return i!==null?Number(i)+'px':'auto';},numValue:function(i){return Number(i.replace("px",""));}};f.exports=h;},null);
__d('DesktopHscrollUnit',['Arbiter','BanzaiLogger','BanzaiODS','CSS','DesktopHscrollUnitEventConstants','DOM','DOMQuery','Locale','Parent','PixelNumConverter','Style','csx','cx','getStyleProperty','queryThenMutateDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w="_2_tg",x=300,y="_2_th",z="_2_ti",aa="_2_tj",ba="_hy9",ca="_1kf5",da="_20yh",ea="_i6m",fa="_1mrv",ga="_5pat",ha="div._3938",ia="._nxj",ja="div._20yh",ka;function la(ma,na,oa,pa,qa,ra,sa,ta,ua,va){'use strict';this.$DesktopHscrollUnit1=ma;this.$DesktopHscrollUnit2=na;this.$DesktopHscrollUnit3=oa;this.$DesktopHscrollUnit4=pa;this.$DesktopHscrollUnit5=ra;this.$DesktopHscrollUnit6=0;this.$DesktopHscrollUnit7=1+ra.length;this.$DesktopHscrollUnit8=[qa];this.$DesktopHscrollUnit9=sa;this.$DesktopHscrollUnit10=new h();this.$DesktopHscrollUnit11=0;this.$DesktopHscrollUnit12=ua;this.$DesktopHscrollUnit13=[];this.$DesktopHscrollUnit14=-1;this.$DesktopHscrollUnit15=va;ka=va;this.$DesktopHscrollUnit16=n.find(ma,"^div._5jmm");this.$DesktopHscrollUnit17=this.$DesktopHscrollUnit16.getAttribute('data-ft');this.$DesktopHscrollUnit3.initPager(this,this.$DesktopHscrollUnit4);ta.forEach(function(wa){wa.init(this);},this);k.addClass(qa.ad,y);k.addClass(qa.ad,da);if(qa.subheader)this.$DesktopHscrollUnit18(qa.subheader);this.$DesktopHscrollUnit19(this.$DesktopHscrollUnit6);k.addClass(this.$DesktopHscrollUnit16,"_sf6");k.conditionClass(this.$DesktopHscrollUnit16,"_2_tl",this.$DesktopHscrollUnit9);this.$DesktopHscrollUnit20();h.subscribe(l.HSCROLL_ITEM_HIDE_EVENT,this.hideItem.bind(this));h.subscribe(l.HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT,this.scrollItemBeforeXout.bind(this));h.subscribe(l.HSCROLL_ITEM_UNHIDE_EVENT,this.unhideItem.bind(this));h.subscribe(l.HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN,this.logLastAdXoutEvent.bind(this));}la.getFirstAdsHscrollElement=function(ma){'use strict';var na=n.scry(ma,ha);return na[0];};la.hideAdsHscroll=function(ma){'use strict';var na=la.getFirstAdsHscrollElement(ma),oa=k.hasClass(ma,ea);if(na&&!oa){h.inform(l.HSCROLL_ITEM_HIDE_EVENT,na.id);return true;}return false;};la.removeHeaderMargin=function(ma){'use strict';var na=n.find(ma,ia);k.removeClass(na,fa);};la.handleOptimisticHideInUnit=function(ma){'use strict';var na=la.getFirstAdsHscrollElement(ma);if(na&&ka){h.inform(l.HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT,na.id);var oa=m.scry(na,ja);if(oa.length!=1)return true;h.inform(l.HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN,{id:na.id,action:'Hide'});}return false;};la.handleOptimisticUnhideInUnit=function(ma){'use strict';var na=p.byClass(ma,ga),oa=la.getFirstAdsHscrollElement(na),pa=k.hasClass(na,"_i6m");if(oa&&pa)h.inform(l.HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN,{id:oa.id,action:'Unhide'});return oa&&!pa;};la.prototype.scrollItemBeforeXout=function(ma,na){'use strict';if(this.$DesktopHscrollUnit1.id!=na||!this.$DesktopHscrollUnit15)return;this.$DesktopHscrollUnit14=this.$DesktopHscrollUnit6;if(this.$DesktopHscrollUnit6+1==this.getNumVisibleAds()){this.scrollPrevious();}else this.scrollNext();};la.prototype.hideItem=function(ma,na){'use strict';if(this.$DesktopHscrollUnit1.id!=na||!this.$DesktopHscrollUnit15)return;var oa={item:this.$DesktopHscrollUnit8.splice(this.$DesktopHscrollUnit14,1)[0],index:this.$DesktopHscrollUnit14};this.$DesktopHscrollUnit13.push(oa);k.removeClass(oa.item.ad,da);if(this.$DesktopHscrollUnit14!=this.getNumVisibleAds())this.$DesktopHscrollUnit6=this.$DesktopHscrollUnit14;this.$DesktopHscrollUnit10.inform(l.HSCROLL_PAGER_ITEM_HIDE_EVENT,this.$DesktopHscrollUnit6,h.BEHAVIOR_EVENT);this.logIndividualXout(na,'Hide');};la.prototype.unhideItem=function(ma,na){'use strict';if(this.$DesktopHscrollUnit1.id!=na||!this.$DesktopHscrollUnit15)return;var oa=this.$DesktopHscrollUnit13.pop();this.$DesktopHscrollUnit8.splice(oa.index,0,oa.item);k.addClass(oa.item.ad,da);this.$DesktopHscrollUnit21(oa.index);this.logIndividualXout(na,'Unhide');};la.prototype.logLastAdXoutEvent=function(ma,na){'use strict';if(this.$DesktopHscrollUnit1.id!=na.id)return;this.logIndividualXout(na.id,na.action);};la.prototype.logIndividualXout=function(ma,na){'use strict';var oa=document.getElementById(ma),pa=p.byClass(oa,ga).getAttribute('id'),qa;if(na=='Hide'){qa=1;}else qa=-1;i.log('FeedAdsHscrollIndividualXoutLoggerConfig',{ads_hscroll_unit_id:pa,number_of_total_ads:this.$DesktopHscrollUnit7,number_of_hidden_ads:qa,action:na});};la.prototype.getArbiter=function(){'use strict';return this.$DesktopHscrollUnit10;};la.prototype.getAdContainer=function(){'use strict';return this.$DesktopHscrollUnit1;};la.prototype.getPager=function(){'use strict';return this.$DesktopHscrollUnit3;};la.prototype.getSelectedItem=function(){'use strict';return this.$DesktopHscrollUnit8[this.$DesktopHscrollUnit6];};la.prototype.getSelectedIndex=function(){'use strict';return this.$DesktopHscrollUnit6;};la.prototype.getNumItems=function(){'use strict';return this.$DesktopHscrollUnit7;};la.prototype.getID=function(){'use strict';return this.$DesktopHscrollUnit16.id;};la.prototype.getNumOfHiddenItems=function(){'use strict';return this.$DesktopHscrollUnit13.length;};la.prototype.getNumVisibleAds=function(){'use strict';return this.$DesktopHscrollUnit7-this.$DesktopHscrollUnit13.length;};la.prototype.scrollNext=function(){'use strict';if(this.$DesktopHscrollUnit6+1<this.getNumVisibleAds()){this.$DesktopHscrollUnit21(this.$DesktopHscrollUnit6+1);if(this.$DesktopHscrollUnit6===1)j.bumpEntityKey('feed_ads',this.$DesktopHscrollUnit22());}};la.prototype.scrollPrevious=function(){'use strict';if(this.$DesktopHscrollUnit6-1>=0)this.$DesktopHscrollUnit21(this.$DesktopHscrollUnit6-1);};la.prototype.addOffscreenItems=function(ma){'use strict';this.$DesktopHscrollUnit5.push.apply(this.$DesktopHscrollUnit5,ma);this.$DesktopHscrollUnit7+=ma.length;this.$DesktopHscrollUnit10.inform('onAdditionalItemsAdded',{});};la.prototype.$DesktopHscrollUnit19=function(ma){'use strict';var na=this.$DesktopHscrollUnit8[ma];if(this.$DesktopHscrollUnit9&&na.subheader){m.remove(na.subheader);m.appendContent(this.$DesktopHscrollUnit2,na.subheader);this.$DesktopHscrollUnit2.offsetHeight;}this.$DesktopHscrollUnit8.forEach(function(oa,pa){var qa=pa==ma;k.conditionClass(oa.ad,aa,qa);k.conditionClass(oa.ad,ba,!qa);if(oa.subheader)k.conditionClass(oa.subheader,aa,qa);});this.$DesktopHscrollUnit10.inform('onShow',{item:na,index:ma},h.BEHAVIOR_EVENT);h.inform(l.HSCROLL_ITEM_SHOWN_EVENT);};la.prototype.$DesktopHscrollUnit21=function(ma){'use strict';this.$DesktopHscrollUnit10.inform('onBeforeTransition',{item:this.$DesktopHscrollUnit8[this.$DesktopHscrollUnit6]},h.BEHAVIOR_EVENT);while(this.$DesktopHscrollUnit5.length>0&&ma>=this.$DesktopHscrollUnit8.length)this.$DesktopHscrollUnit23(this.$DesktopHscrollUnit5.shift());this.$DesktopHscrollUnit19(ma);if(this.$DesktopHscrollUnit9){this.$DesktopHscrollUnit11++;k.addClass(this.$DesktopHscrollUnit1,w);setTimeout((function(){if(--this.$DesktopHscrollUnit11===0)k.removeClass(this.$DesktopHscrollUnit1,w);}).bind(this),x);this.$DesktopHscrollUnit10.inform('onAnimate',{item:this.$DesktopHscrollUnit8[ma]},h.BEHAVIOR_EVENT);var na,oa;v((function(){na=q.numValue(u(this.$DesktopHscrollUnit1,'padding-bottom'));oa=this.$DesktopHscrollUnit1.offsetHeight;}).bind(this),(function(){r.set(this.$DesktopHscrollUnit1,'min-height',k.hasClass(this.$DesktopHscrollUnit8[ma].ad,ca)?'0px':q.pixelValue(oa-na));r.set(this.$DesktopHscrollUnit8[0].ad,o.isRTL()?'margin-right':'margin-left',ma*-100+'%');}).bind(this));}this.$DesktopHscrollUnit6=ma;this.$DesktopHscrollUnit20();};la.prototype.$DesktopHscrollUnit23=function(ma){'use strict';k.addClass(ma.ad,y);k.addClass(ma.ad,da);m.appendContent(this.$DesktopHscrollUnit1,ma.ad);h.inform(l.HSCROLL_ITEM_INSERTED_EVENT);if(ma.subheader){this.$DesktopHscrollUnit18(ma.subheader);m.appendContent(this.$DesktopHscrollUnit2,ma.subheader);}this.$DesktopHscrollUnit8.push(ma);};la.prototype.$DesktopHscrollUnit20=function(){'use strict';var ma=JSON.parse(this.$DesktopHscrollUnit8[this.$DesktopHscrollUnit6].ad.getAttribute('data-ft')),na=JSON.parse(this.$DesktopHscrollUnit17);for(var oa in ma)na[oa]=ma[oa];this.$DesktopHscrollUnit16.setAttribute('data-ft',JSON.stringify(na));h.inform('FeedAdsClickLogger/refreshTrackingData',{});};la.prototype.$DesktopHscrollUnit18=function(ma){'use strict';k.addClass(ma,z);if(this.$DesktopHscrollUnit9){var na=m.create('div');k.addClass(na,"_2_tm");m.appendContent(ma,na);}};la.prototype.$DesktopHscrollUnit22=function(){'use strict';var ma='old_desktop_hscroll_first_next_pos_';return ma.concat(this.$DesktopHscrollUnit12);};f.exports=la;f.exports.getFirstAdsHscrollElement=la.getFirstAdsHscrollElement;f.exports.hideAdsHscroll=la.hideAdsHscroll;f.exports.removeHeaderMargin=la.removeHeaderMargin;f.exports.handleOptimisticHideInUnit=la.handleOptimisticHideInUnit;f.exports.handleOptimisticUnhideInUnit=la.handleOptimisticUnhideInUnit;},null);
__d('EntstreamFeedObject',['CSS','Parent','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getRoot:function(l){return i.byClass(l,"_5jmm");},getHscrollOuterRootIfAvailable:function(l){var m=l;if(h.hasClass(m,"_170y"))m=k.getRoot(m.parentNode);return m;}};f.exports=k;},null);
__d('AdsPreferencesUiLogger',['AsyncRequest'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='/ads/preferences/log/';function j(k){new h(i).setData(k).send();}f.exports={log:function(k,l){j({data:l,event:k});}};},null);
__d("XAdsPreferencesQuickEditHistoryController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/preferences\/quick_edit_history\/",{user_id:{type:"FBID",required:true}});},null);
__d('FeedObjectInfoCapstone',['AdsPreferencesUiLogger','AsyncRequest','DOM','Event','Parent','XAdsPreferencesQuickEditHistoryController','csx','cx','ge','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={getInfoCapstone:function(s){var t=j.scry(s,"._2g9u");if(!t.length)t=j.scry(s.parentNode,"._2g9u");return t?t[0]:null;},initCloseButton:function(s,t,u){q(k.listen(s,'click',function(){if(u)h.log('hide_ad_prefs_quick_edit',u);j.remove(t);}));},addInfoCapstoneByStoryID:function(s,t,u){var v=l.byClass(p(s),"_5jmm");this.addInfoCapstone(v,t,u);},addInfoCapstone:function(s,t,u){var v=j.find(s,"._5v3q");if(v)s=v;this.removeInfoCapstone(s);if(t){j.prependContent(s,t);var w=m.getURIBuilder().setFBID('user_id',u).getURI(),x=new i(w);x.send();}return t;},removeInfoCapstone:function(s){var t=r.getInfoCapstone(s);if(t)j.remove(t);}};f.exports=r;},null);
__d('EntstreamFeedObjectFollowup',['CSS','DOM','EntstreamFeedObject','Event','FeedObjectInfoCapstone','csx','cx','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={getFollowup:function(q){var r=i.scry(q,"._5lum");if(!r.length)r=i.scry(q.parentNode,"._5lum");return r?r[0]:null;},initCloseButton:function(q){var r=i.find(q,"._5xsl"),s=k.listen(r,'click',function(){s.remove();i.remove(q);});q.listener=s;},stopListenCloseButton:function(q){if(q.listener)q.listener.remove();},addFollowup:function(q,r,s){var t=h.hasClass(q,"_5pat"),u=i.create('div',{className:"_5lum"});if(t){h.addClass(u,"_5pau");}else h.addClass(u,"_1f84");if(s)if(typeof s==='string'){h.addClass(u,s);}else if(s instanceof Array)for(var v=0;v<s.length;v++)h.addClass(u,s[v]);var w=i.scry(q,"._5v3q")[0];if(w)q=w;var x=p.getFollowup(q);if(x)this.removeFollowup(x);l.removeInfoCapstone(q);if(r){i.appendContent(u,r);this.initCloseButton(u);if(h.hasClass(u,"_4-u3")){i.prependContent(q,u);}else i.insertBefore(q,u);}else i.prependContent(q,u);return u;},removeFollowup:function(q){var r=p.getFollowup(q);this.stopListenCloseButton(r);i.remove(r);},appendToFollowup:function(q,r){var s=j.getRoot(o(q)),t=p.getFollowup(s);i.appendContent(t,r);}};f.exports=p;},null);
__d('EntstreamFeedObjectDigest',['EntstreamFeedObject','EntstreamFeedObjectFollowup','cx','ge'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={toggleDigest:function(m,n,o){var p=m.getValue()==='digest_on'?o.digest_off:o.digest_on,q=h.getRoot(k(n));i.addFollowup(q,p,"_521o");}};f.exports=l;},null);
__d('PostsByOtherPreviewObject',['Parent','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={getRoot:function(k){return h.byClass(k,"_5kjo");}};f.exports=j;},null);
__d('EntstreamFeedObjectFollow',['EntstreamFeedObject','PostsByOtherPreviewObject','EntstreamFeedObjectFollowup','Event','Parent','cx','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o={toggleFollow:function(p,q,r){var s=p.getValue()=='follow_post'?r.follow_post:r.unfollow_post,t=h.getRoot(n(q));if(t===null)t=i.getRoot(n(q));var u=j.addFollowup(t,s,"_521o")||j.getFollowup(t);k.listen(u,'click',function(event){var v=event.getTarget(),w="_1f89";if(l.byClass(v,w)){o.toggleFollow(p,q,r);p.toggleMenuItem();}});}};f.exports=o;},null);
__d('EntstreamFeedObjectHide',['Event','CSS','DesktopHscrollUnit','EntstreamFeedObject','EntstreamFeedObjectFollowup','Focus','TabbableElements','cx','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q={hide:function(r,s){var t=k.getRoot(p(r));t=k.getHscrollOuterRootIfAvailable(t);l.addFollowup(t,s);var u=j.hideAdsHscroll(t);if(!u)i.addClass(t,"_i6m");q.setFocus(t);},registerUnhide:function(r,s){h.listen(r,'click',function(){if(s)s.send();var t=k.getRoot(r);t=k.getHscrollOuterRootIfAvailable(t);q.unhide(t);});},setFocus:function(r){var s=n.find(r);if(s&&s[0])m.setWithoutOutline(s[0]);},unhide:function(r){l.removeFollowup(r);i.removeClass(r,"_i6m");q.setFocus(r);}};f.exports=q;},null);
__d('EntstreamFeedObjectSeeFirstOff',['DOM','CSS','EntstreamFeedObject','ge','cx','Event','csx','Parent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={turnOffSeeFirst:function(q,r,s){var t=j.getRoot(k(r));if(!t)return;i.hide(q.getRoot());var u=q.getRoot().getAttribute('data-see-first-off-id'),v='see_first_off_'+u;this.showTombstone(t,q,u,s[v]);this.adjustIndicator(t,q);},adjustIndicator:function(q,r){var s=h.scry(q,"._zwz");if(!s||s.length===0)return;s=s[0];var t=o.byClass(r.getRoot(),"_5pbk"),u=h.scry(t,"._3bb4"),v=true;u.forEach(function(w){v=v&&!i.shown(w);});if(v){i.hide(s);}else i.show(s);},showTombstone:function(q,r,s,t){var u=this.getTombstone(q);if(u!==null){this.updateTombstone(q,u,r,t);return;}u=h.create('div',{className:"_4ua_"},t);h.insertBefore(q,u);this.listenOnUndo(q,u,r);},getTombstone:function(q){var r=null;while(q.previousSibling!==null){var s=q.previousSibling;if(i.hasClass(s,"_4ua_")){r=s;break;}else if(i.hasClass(s,"_5jmm"))break;q=q.previousSibling;}return r;},updateTombstone:function(q,r,s,t){h.setContent(r,t);this.listenOnUndo(q,r,s);},listenOnUndo:function(q,r,s){var t=h.scry(r,"._4ub0");if(t.length===0){return;}else t=t[0];r.listener&&r.listener.remove();var u=m.listen(t,'click',(function(){u.remove();h.remove(r);i.show(s.getRoot());this.adjustIndicator(q,s);}).bind(this));r.listener=u;}};f.exports=p;},null);
__d('YouTube',['CSS','DOM','DOMQuery','Event','Keys','LitestandStoryInsertionStatus','SubscriptionsHandler','UserAgent_DEPRECATED','Focus','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();function r(s,t,u){'use strict';var v=new n();v.addSubscriptions(k.listen(s,'load',this.listening.bind(this)),m.registerBlocker((function(){return this.playerState===r.STATE_PLAYING;}).bind(this)));Object.assign(this,{iframe:s,autofocus:t,autoplay:u,playerState:r.STATE_UNSTARTED,muted:false,volume:100,currentTime:0,timer:null,handler:v});if(t)p.set(s);}r.prototype.id=function(){'use strict';return this.iframe.id;};r.prototype.post=function(s){'use strict';s.id=this.id();this.iframe.contentWindow.postMessage(JSON.stringify(s),'*');};r.prototype.listening=function(){'use strict';this.post({event:'listening'});clearTimeout(this.timer);this.timer=setTimeout(this.listening.bind(this),100);};r.prototype.update=function(s){'use strict';if(s.event=='initialDelivery'){clearTimeout(this.timer);if((o.webkit()||o.firefox())&&s.info&&s.info.debugText.match(/flashVersion/)){this.addAccessibleButtons();if(o.firefox())this.iframe.tabIndex=-1;}}if(s.info)['playerState','muted','volume','currentTime'].forEach((function(t){if(s.info.hasOwnProperty(t))this[t]=s.info[t];}).bind(this));};r.prototype.togglePlay=function(){'use strict';this.post({event:'command',func:this.playerState==r.STATE_PLAYING?'pauseVideo':'playVideo'});};r.prototype.toggleMute=function(){'use strict';this.post({event:'command',func:this.muted?'unMute':'mute'});};r.prototype.addAccessibleButtons=function(){'use strict';this.addAccessibleButton('Mute',"_505m",this.toggleMute.bind(this));this.addAccessibleButton('Play',"_505n",this.togglePlay.bind(this));};r.prototype.addAccessibleButton=function(s,t,u){'use strict';var v=i.create('button',{'class':t,tabindex:0},s);i.insertAfter(this.iframe,v);this.handler.addSubscriptions(k.listen(v,'click',u),k.listen(v,'mouseover',h.hide.bind(null,v)),k.listen(this.iframe,'mouseout',h.show.bind(null,v)),k.listen(v,'focus',(function(){if(!this.autoplay&&this.playerState==r.STATE_UNSTARTED){this.post({event:'command',func:'playVideo'});this.post({event:'command',func:'pauseVideo'});}}).bind(this)),k.listen(v,'keydown',(function(w){switch(w.keyCode){case l.UP:case l.DOWN:this.post({event:'command',func:'setVolume',args:[this.volume+(w.keyCode==l.UP?10:-10)]});w.prevent();break;case l.RIGHT:case l.LEFT:this.post({event:'command',func:'seekTo',args:[this.currentTime+(w.keyCode==l.RIGHT?10:-10)]});w.prevent();break;}}).bind(this)));return v;};r.prototype.destroy=function(){'use strict';this.handler.release();delete r.instances[this.id()];if(!Object.keys(r.instances).length)r.handler.remove();};r.register=function(s,t,u){'use strict';if(!window.postMessage)return;if(!Object.keys(r.instances).length)r.handler=k.listen(window,'message',function(w){try{var x=JSON.parse(w.data);if(r.instances[x.id])r.instances[x.id].update(x);}catch(w){}});var v=new r(j.find(s,'iframe'),t,u);r.instances[v.id()]=v;};Object.assign(r,{STATE_UNSTARTED:-1,STATE_PLAYING:1,instances:{},handler:null});f.exports=r;},null);
__d('EntstreamHomeFeedObjectHide',['AsyncRequest','CSS','DOM','EntstreamFeedObject','EntstreamFeedObjectHide','Event','TrackingNodes','YouTube','csx','cx','ge','fbt','$'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u={stopVideo:function(v){var w=t(v),x=j.find(w,"^._5jmm"),y=j.scry(x,'iframe');for(var z=0;z<y.length;z++){var aa=o.instances[j.getID(y[z])];if(aa&&aa.playerState===o.STATE_PLAYING)aa.togglePlay();}var ba=j.scry(x,'video');for(var ca=0;ca<ba.length;ca++)if('paused' in ba[ca]&&!ba[ca].paused)if(typeof ba[ca].pause==='function')ba[ca].pause();},hide:function(v,w,x,y){u.stopVideo(v);var z=k.getRoot(r(v)),aa=i.hasClass(z,"_5pat"),ba;if(aa&&x=='afrostart'){ba='';}else{var ca=x=='hide'||x=='afrostart'?s._("This story is now hidden from your News Feed."):s._("This story has been marked as spam."),da=x=='hide'||x=='afrostart'?s._("Unhide"):s._("Undo"),ea=n.getTrackingInfo(n.types.UNHIDE_LINK),fa=j.create('a',{href:'#','data-ft':ea},da),ga={};if(w)ga.token=w;if(y)ga.hideable_token=y;var ha=new h().setURI('/ajax/entstream/home/story/unhide').setMethod('POST').setData(ga).setRelativeTo(fa);l.registerUnhide(fa,ha);ba=j.create('div',{'class':"_1f86"},[ca,' ',fa]);}l.hide(v,ba);},registerHide:function(v,w,x,y){m.listen(v,'click',function(){u.hide(v.getAttribute('id'),w,x,y);});}};f.exports=u;},null);
__d('MenuTogglingItem',['DOM','MenuItem'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;j=babelHelpers.inherits(l,i);k=j&&j.prototype;l.prototype.handleClick=function(){'use strict';this.toggleMenuItem();return k.handleClick.call(this);};l.prototype.toggleMenuItem=function(){'use strict';this._data=babelHelpers._extends({},this._data,{ajaxify:this._data.toggleAjaxify,toggleAjaxify:this._data.ajaxify,value:this._data.toggleValue,toggleValue:this._data.value,markup:this._data.toggleMarkup,toggleMarkup:this._data.markup});this._rerender();};l.prototype.setValue=function(m){'use strict';this._data=babelHelpers._extends({},this._data,{value:m});};l.prototype._rerender=function(){'use strict';var m=this._anchor;h.replace(m,this._renderItemContent());};function l(){'use strict';j.apply(this,arguments);}f.exports=l;},null);
__d('EntstreamHomeFeedObjectOptionsMenu',['AdsPrefs','BanzaiLogger','CSS','DesktopHscrollUnit','DOM','EntstreamFeedObject','EntstreamFeedObjectDigest','EntstreamFeedObjectSeeFirstOff','EntstreamFeedObjectFollow','EntstreamFeedObjectFollowup','EntstreamHomeFeedObjectHide','FeedObjectInfoCapstone','MenuTogglingItem','UFICentralUpdates','UFIConstants','cx','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();function y(z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){z.subscribe('itemclick',(function(la,ma){var na=ma.item.getRoot(),oa=na.getAttribute('data-feed-option-name'),pa=j.hasClass(na,"_50o2")||j.hasClass(na,"_50o0");if(oa)i.log('FeedStoryOptionMenuLoggerConfig',{option_name:oa,is_secondary:pa?1:0,event_type:'clk',feed_location:fa,session_id:ga,is_sponsored:ha,is_self_story:ia});if(typeof ma.item.getValue!=='function')return;switch(ma.item.getValue()){case 'hide':case 'markspam':case 'afrostart':r.hide(aa,ba,ma.item.getValue(),da);break;case 'afro_direct_action':var qa=m.getRoot(x(aa));qa=m.getHscrollOuterRootIfAvailable(qa);s.removeInfoCapstone(qa);var ra=ma.item.getRoot().getAttribute('data-optimistic-hide');if(ra){if(q.getFollowup(qa))q.removeFollowup(qa);var sa=l.create('div',{className:"_5lum"});l.appendContent(sa,ma.item.getRoot().getAttribute('data-action-in-progress-string'));l.insertBefore(qa.firstChild,sa);var ta=k.handleOptimisticHideInUnit(qa);if(!ta)j.addClass(qa,"_i6m");}break;case 'follow_post':case 'unfollow_post':p.toggleFollow(ma.item,aa,ca);break;case 'ad_useful':case 'ad_neutral':h.toggleFavorite(ma.item);la.kill();break;case 'digest_on':case 'digest_off':n.toggleDigest(ma.item,aa,ca);break;case 'see_first_off':o.turnOffSeeFirst(ma.item,aa,ca);break;}}).bind(this));var ka=false;z.subscribe('show',function(){i.log('FeedStoryOptionMenuLoggerConfig',{option_name:'root',event_type:'clk',feed_location:fa,session_id:ga,is_sponsored:ha,is_self_story:ia});if(!!ja&&Object.getOwnPropertyNames(ja).length&&ka===false){ka=true;i.log('AdsPreferencesLoggerConfig',ja);}var la=j.hasClass(z.getRoot(),"_50o1"),ma=j.hasClass(z.getRoot(),"_50n_");z.forEachItem(function(na){var oa=na.getRoot(),pa=oa.getAttribute('data-feed-option-name'),qa=j.hasClass(oa,"_50o2"),ra=j.hasClass(oa,"_50o0"),sa=j.hasClass(oa,"_50nd"),ta=j.hasClass(oa,"_50ne"),ua=la&&qa||ma&&ra||!la&&sa||!ma&&ta,va=qa||ra;if(pa&&!ua)i.log('FeedStoryOptionMenuLoggerConfig',{option_name:pa,is_secondary:va?1:0,event_type:'imp',feed_location:fa,session_id:ga,is_sponsored:ha,is_self_story:ia});na.onShow();});});u.subscribe('update-actions',function(la,ma){if(ma.payloadsource===v.UFIPayloadSourceType.USER_ACTION){var na=ma.actions||[];for(var oa=0;oa<na.length;oa++)if(na[oa].actiontype===v.UFIActionType.ADD_COMMENT_ACTION){if(na[oa].feedbackfbid!=ea)return;z.getRoot();z.forEachItem(function(pa){if(pa instanceof t&&pa.getValue()==='unfollow_post')pa.handleClick();});}}});}f.exports=y;},null);