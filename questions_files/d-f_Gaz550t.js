/*!CK:285895766!*//*1448917180,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["IMEQz"]); }

__d("SearchAwarenessEventTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLICK:"click",IMPRESSION:"impression",DISMISSAL:"dismissal",WEAK_DISMISSAL:"weak_dismissal",SYSTEM_FORCED_DISMISSAL:"system_forced_dismissal"};},null);
__d("SearchAwarenessUserAction",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LIKE:"like",COMMENT:"comment",ARTICLE_CLICK:"article_click",COMPOSE_PUBLISH:"compose_publish",PAGE_LIKE:"page_like"};},null);
__d("SearchPivotType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PHOTO:"photo",PHOTO_EXPERIMENTAL:"photo_experimental",VIDEO:"video",FEED_SEARCH_KEYWORDS:"feed_search_keywords",SEARCH_AWARENESS_KEYWORDS:"search_awareness_keywords",ARTICLE_CLICK_ACTION:"ARTICLE_CLICK_ACTION",STORY_CLICK_ACTION:"STORY_CLICK_ACTION",STORY_LIKE_ACTION:"STORY_LIKE_ACTION",COMPOSER_PUBLISH_ACTION:"COMPOSER_PUBLISH_ACTION",FAN_PAGE_ACTION:"FAN_PAGE_ACTION",TRENDING_SERP_LOAD:"TRENDING_SERP_LOAD",PHOTOS_SERP_LOAD:"PHOTOS_SERP_LOAD",STORY_COMMENT_ACTION:"STORY_COMMENT_ACTION",SCROLL_ACTION:"SCROLL_ACTION",NEWS_FEED:"NEWS_FEED",PAGE:"PAGE",GROUP:"GROUP",TRENDING_SERP_LOAD_NON_INTEGRATION:"TRENDING_SERP_LOAD_NON_INTEGRATION",NEWS_FEED_SECONDARY:"NEWS_FEED_SECONDARY",POST_SEARCH_SERP:"POST_SEARCH_SERP",LEARNING_NUX:"LEARNING_NUX",LEARNING_NUX_SECOND_STEP:"LEARNING_NUX_SECOND_STEP",MOBILE_STORY_LIKE_ACTION:"MOBILE_STORY_LIKE_ACTION",MOBILE_STORY_COMMENT_ACTION:"MOBILE_STORY_COMMENT_ACTION",MOBILE_COMMENT_LIKE_ACTION:"MOBILE_COMMENT_LIKE_ACTION",TIMELINE:"TIMELINE",NEXT_TRENDING:"NEXT_TRENDING"};},null);
__d('getElementChildren',['toArray','isElementNode'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){return h(k.children||k.childNodes).filter(i);}f.exports=j;},null);
__d('StaticContainer.react',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h.Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l){'use strict';return !!l.shouldUpdate;};k.prototype.render=function(){'use strict';var l=this.props.children;if(l===null||l===false)return null;return h.Children.only(l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d("XSearchAwarenessController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/search\/async\/awareness\/",{origin:{type:"String"},story_id:{type:"String"},actor_id:{type:"String"},global_share_id:{type:"String"},query:{type:"String"},dismiss:{type:"Exists",defaultValue:false},source_object_id:{type:"String"},user_action:{type:"String"}});},null);
__d('SearchAwarenessDismissButton',['Arbiter','AsyncRequest','DOM','EventListener','XSearchAwarenessController'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={init:function(n,o,p,q){var r=k.listen(o,'click',function(){j.remove(n);r.remove();h.inform('SearchAwareness.dismissUnit');m.dismiss(p,q);});},dismiss:function(n,o){var p=l.getURIBuilder().setString('origin',n).setString('source_object_id',o).setExists('dismiss',true);new i().setURI(p.getURI()).send();}};f.exports=m;},null);
__d('SearchAwarenessDispatcher',['Arbiter','AsyncRequest','AttachmentRelatedShareConstants','Banzai','CSS','DOM','EventListener','NavigationMessage','PageLikeConstants','Run','SearchAwarenessDismissButton','SearchAwarenessEventTypes','SearchAwarenessUserAction','SearchAwarenessWebConfig','SearchPivotType','SubscriptionsHandler','UFIFeedbackTargets','UFIUIEvents','XSearchAwarenessController','csx','cx','getScrollPosition','joinClasses','setTimeoutAcrossTransitions','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){if(c.__markCompiled)c.__markCompiled();var ga=false,ha={},ia={},ja,ka={init:function(){if(!u.master_gk)return;if(ga)return;ja=new w();ja.addSubscriptions(h.subscribe(o.NAVIGATION_BEGIN,ka._cleanup.bind(this)),h.subscribe(p.LIKED,ka._onFan.bind(this)),h.subscribe('composer/publish',ka._onComposerPublish.bind(this)),h.subscribe('LitestandComposer/publish',ka._onComposerPublish.bind(this)),h.subscribe(j.ARTICLE_CLICK,ka._onArticleClick.bind(this)));q.onLeave(ka._cleanup.bind(this));ga=true;},_cleanup:function(){ja&&ja.release();ja=null;ga=false;var la=m.scry(document.body,"._18az")[0];if(la==null)return;l.removeClass(document.body,"_18at");l.removeClass(document.body,"_18au");l.removeClass(document.body,"_18av");l.removeClass(document.body,"_18aw");l.removeClass(la,"_18ax");},_onFan:function(la,ma){if(!u.has_on_fan)return;ka._dispatch(ma.target,{origin:v.FAN_PAGE_ACTION,actor_id:ma.profile_id,user_action:t.PAGE_LIKE});},_onLike:function(la,ma){if(!ma.ft_id)return;x.getFeedbackTarget(ma.ft_id,function(na){var oa=na.entidentifier;if(oa==null||ha[oa]!=null)return;ha[oa]=true;ka._dispatch(ma.target,{actor_id:na.actorid,story_id:na.entidentifier,origin:ma.origin,query:ma.query,user_action:t.LIKE});});},_onPhotoClick:function(la,ma){if(!u.has_on_photo_click)return;ka._dispatch(ma.target,{story_id:ma.storyid,origin:v.STORY_CLICK_ACTION});},_onArticleClick:function(la,ma){if(!u.has_on_article_click)return;var na=ma.global_share_id!=null?String(ma.global_share_id):null;ka._dispatch(null,{global_share_id:na,story_id:ma.share_id,origin:v.ARTICLE_CLICK_ACTION,user_action:t.ARTICLE_CLICK});},initOnComment:function(la,ma){if(!u.master_gk)return;if(!ga)ka.init();if(ja==null)return;ja.addSubscriptions(h.subscribe('UFI/CommentAddedActive',function(na,oa){var pa={origin:la,query:ma,ft_id:oa};ka._onComment(na,pa);}));},_onComment:function(la,ma){if(!ma.ft_id)return;x.getFeedbackTarget(ma.ft_id,function(na){var oa=na.entidentifier;if(oa==null||ia[oa]!=null)return;ia[oa]=true;ka._dispatch(ma.target,{actor_id:na.actorid,story_id:na.entidentifier,origin:ma.origin,query:ma.query,user_action:t.COMMENT});});},_onComposerPublish:function(la,ma){if(!u.has_on_composer_publish)return;ka._dispatch(null,{story_id:ma.content_id,origin:v.COMPOSER_PUBLISH_ACTION,user_action:t.COMPOSE_PUBLISH});},initOnLike:function(la,ma,na){if(!u.master_gk)return;if(!ga)ka.init();if(ja==null)return;ja.addSubscriptions(h.subscribe(y.ActionLinkLike,function(oa,pa){pa.origin=la;pa.query=ma;if(na)pa.target=null;ka._onLike(oa,pa);}));},onPageLoad:function(la,ma,na){if(!u.master_gk)return;if(!ga)ka.init();ka._dispatch(null,{query:ma,origin:la,actor_id:na});},initProfileScopedSearch:function(){if(!u.master_gk)return;if(!ga)ka.init();if(ja==null)return;var la=m.scry(document.body,"._5ibl")[0];if(la!=null){ka._dispatch(la,{origin:v.TIMELINE,specified_target:true});}else ja.addSubscriptions(h.subscribe('profileSearchBoxLoaded',function(){var ma=m.scry(document.body,"._5ibl")[0];if(ma==null)return;ka._dispatch(ma,{origin:v.TIMELINE,specified_target:true});}));},onPhotosSERPLoad:function(la){if(la==null||!u.master_gk)return;ka._dispatch(null,{query:la,origin:v.PHOTOS_SERP_LOAD});},_dispatch:function(la,ma,na){if(!ma.origin)return true;var oa=z.getURIBuilder().setString('origin',ma.origin);if(ma.story_id)oa.setString('story_id',ma.story_id);if(ma.actor_id)oa.setString('actor_id',ma.actor_id);if(ma.global_share_id)oa.setString('global_share_id',ma.global_share_id.toString());if(ma.query)oa.setString('query',ma.query);if(ma.user_action)oa.setString('user_action',ma.user_action);var pa=new i().setURI(oa.getURI()),qa=la;if(la!=null&&!ma.specified_target)qa=this.findStory(la);if(qa==null){var ra=m.scry(document.body,"._585-")[0],sa=m.scry(document.body,"._5ob9")[0];qa=ra!=null?ra:sa;}if(qa)pa.setRelativeTo(qa);if(na)pa.setHandler(na);if(qa||na)pa.send();return true;},showAwarenessExperienceNow:function(la,ma,na){if(!ga)ka.init();if(ma==null||!ga||ja==null)return;var oa=undefined;ja.addSubscriptions(ma.subscribe('cancel',function(){oa=true;r.dismiss(la);}),ma.subscribe('hide',function(){if(!oa&&na){k.post('search_awareness',{origin:la,event_type:s.WEAK_DISMISSAL},{signal:true});}else if(!oa&&!na)k.post('search_awareness',{origin:la,event_type:s.SYSTEM_FORCED_DISMISSAL},{signal:true});}),h.subscribe('SearchAwareness.weakDismissUnit',function(){if(ma!=null){oa=false;ma.hide();}}),h.subscribe('SearchAwareness.dismissUnit',function(){if(ma!=null){oa=true;ma.hide();}}));ma.show();q.onLeave(function(){ma=null;});},findStory:function(la){var ma="^div._4-u2",na=m.scry(la,ma);return na.length===1?na[0]:null;},onTrendingSERPLeave:function(la,ma){if(!ga)ka.init();if(la==null||!ga)return;q.onLeave(function(){ea(function(){q.onAfterLoad(function(){ka._dispatch(null,{query:la,origin:v.TRENDING_SERP_LOAD});});},ma);});},openBelowBluebarUnit:function(la){if(!ga)ka.init();var ma=m.scry(document.body,"._18a-")[0];if(ma==null)return;var na;switch(la){case v.TRENDING_SERP_LOAD:na="_18at";break;case v.GROUP:na="_18au";break;case v.TRENDING_SERP_LOAD_NON_INTEGRATION:na="_18av";break;case v.PAGE:na="_18aw";break;}if(na==null)return;l.addClass(document.body,na);l.addClass(ma,"_18ay");var oa=h.subscribe('SearchAwareness.dismissUnit',function(){l.removeClass(document.body,na);});ja&&ja.addSubscriptions(oa);},trigger:function(la,ma,na,oa,pa){if(!u.master_gk)return;if(!ga)ka.init();ka._dispatch(null,{query:ma,origin:la,actor_id:na,story_id:oa,global_share_id:pa});},triggerLearningNUX:function(la,ma,na,oa,pa){if(!u.master_gk)return;if(!ga)ka.init();ka._dispatch(null,{query:ma,origin:la,actor_id:na,story_id:oa,global_share_id:pa},function(qa){var ra=m.create('div',{className:da("_3lik","hidden_elem"),'data-origin':la});m.appendContent(ra,qa.payload);m.appendContent(document.body,ra);setTimeout(function(){h.inform('SearchAwareness.triggerLearningNUX',{origin:la});},0);});},onTimelineScroll:function(la,ma,na,oa){if(!u.master_gk)return;if(!ga)ka.init();var pa=false,qa=n.listen(document,'scroll',fa(function(event){if(!pa&&ca(window).y>ma){pa=true;ka.onPageLoad(la,na,oa);qa.remove();}},500));}};f.exports=ka;},null);
__d('FacebarTypeaheadDecorateEntities',['arrayContains','emptyFunction'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(n){var o=[];n.forEach(function(p){if(p.isType('ent'))o.push(p.getUID());});return o;}function k(n,o){var p=null;n.structure.forEach(function(q){if(q.isType('ent')&&!h(o,q.getUID()))p=q;});return p;}function l(n,o,p){n.forEach(function(q){var r=k(q,o);q.decoration={entity:r&&p.getEntryForFragment(r)};});}function m(n){'use strict';this._typeahead=n;}m.prototype.enable=function(){'use strict';this._typeahead.view.subscribe('filter',(function(n,o){l(o.results,j(this._typeahead.core.getValue()),this._typeahead.data);}).bind(this));};Object.assign(m.prototype,{disable:i});f.exports=m;},null);
__d('FacebarTypeaheadTokenText',['HTML','FbtResult','getElementText'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='\u00B7';function l(p){if(p instanceof i){return p.toString();}else if(typeof p==='object'){return j(h(p).getRootNode());}else return p||'';}function m(p){return l(p).split(k).map(function(q){return q.trim();});}function n(p){var q={};return p.filter(function(r){var s=!q[r];q[r]=true;return s&&r;});}var o={textForEntity:function(p,q){var r=p.category||q[p.type]||'',s=p.subtext||'',t=p.boldedSubtext||'',u=m(r).concat(m(t)).concat(m(s));return n(u);},text:function(p){return n(m(p));}};f.exports=o;},null);